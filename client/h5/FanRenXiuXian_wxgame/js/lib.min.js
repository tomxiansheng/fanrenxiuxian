function __extends(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i}var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i};if("undefined"==typeof global)var global=window;if("undefined"==typeof __global)var __global=global;var __define=this&&this.__define||function(t,e,i,r){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:i,set:r})},egret;!function(t){t.$hashCount=1;var e=function(){function e(){this.$hashCode=t.$hashCount++}return Object.defineProperty(e.prototype,"hashCode",{get:function(){return this.$hashCode},enumerable:!0,configurable:!0}),e}();t.HashObject=e,__reflect(e.prototype,"egret.HashObject",["egret.IHashObject"])}(egret||(egret={}));var egret;!function(t){var e=[],i=function(i){function r(t){void 0===t&&(t=null);var e=i.call(this)||this;return e.$EventDispatcher={0:t?t:e,1:{},2:{},3:0},e}return __extends(r,i),r.prototype.$getEventMap=function(t){var e=this.$EventDispatcher,i=t?e[2]:e[1];return i},r.prototype.addEventListener=function(t,e,i,r,n){this.$addListener(t,e,i,r,n)},r.prototype.once=function(t,e,i,r,n){this.$addListener(t,e,i,r,n,!0)},r.prototype.$addListener=function(e,i,r,n,o,s){i||t.$error(1003,"listener");var a=this.$EventDispatcher,h=n?a[2]:a[1],u=h[e];u?0!==a[3]&&(h[e]=u=u.concat()):u=h[e]=[],this.$insertEventBin(u,e,i,r,n,o,s)},r.prototype.$insertEventBin=function(t,e,i,r,n,o,s){o=0|+o;for(var a=-1,h=t.length,u=0;h>u;u++){var l=t[u];if(l.listener==i&&l.thisObject==r&&l.target==this)return!1;-1==a&&l.priority<o&&(a=u)}var c={type:e,listener:i,thisObject:r,priority:o,target:this,useCapture:n,dispatchOnce:!!s};return-1!==a?t.splice(a,0,c):t.push(c),!0},r.prototype.removeEventListener=function(t,e,i,r){var n=this.$EventDispatcher,o=r?n[2]:n[1],s=o[t];s&&(0!==n[3]&&(o[t]=s=s.concat()),this.$removeEventBin(s,e,i),0==s.length&&(o[t]=null))},r.prototype.$removeEventBin=function(t,e,i){for(var r=t.length,n=0;r>n;n++){var o=t[n];if(o.listener==e&&o.thisObject==i&&o.target==this)return t.splice(n,1),!0}return!1},r.prototype.hasEventListener=function(t){var e=this.$EventDispatcher;return!(!e[1][t]&&!e[2][t])},r.prototype.willTrigger=function(t){return this.hasEventListener(t)},r.prototype.dispatchEvent=function(t){return t.$currentTarget=this.$EventDispatcher[0],t.$setTarget(t.$currentTarget),this.$notifyListener(t,!1)},r.prototype.$notifyListener=function(t,i){var r=this.$EventDispatcher,n=i?r[2]:r[1],o=n[t.$type];if(!o)return!0;var s=o.length;if(0==s)return!0;var a=e;r[3]++;for(var h=0;s>h;h++){var u=o[h];if(u.listener.call(u.thisObject,t),u.dispatchOnce&&a.push(u),t.$isPropagationImmediateStopped)break}for(r[3]--;a.length;){var u=a.pop();u.target.removeEventListener(u.type,u.listener,u.thisObject,u.useCapture)}return!t.$isDefaultPrevented},r.prototype.dispatchEventWith=function(e,i,r,n){if(i||this.hasEventListener(e)){var o=t.Event.create(t.Event,e,i,n);o.data=r;var s=this.dispatchEvent(o);return t.Event.release(o),s}return!0},r}(t.HashObject);t.EventDispatcher=i,__reflect(i.prototype,"egret.EventDispatcher",["egret.IEventDispatcher"])}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.type=null,i.$id=null,i.paddingTop=0,i.paddingBottom=0,i.paddingLeft=0,i.paddingRight=0,i.$uniforms={},t.nativeRender&&egret_native.NativeDisplayObject.createFilter(i),i}return __extends(i,e),i.prototype.$toJson=function(){return""},i.prototype.updatePadding=function(){},i.prototype.onPropertyChange=function(){var e=this;e.updatePadding(),t.nativeRender&&(egret_native.NativeDisplayObject.setFilterPadding(e.$id,e.paddingTop,e.paddingBottom,e.paddingLeft,e.paddingRight),egret_native.NativeDisplayObject.setDataToFilter(e))},i}(t.HashObject);t.Filter=e,__reflect(e.prototype,"egret.Filter")}(egret||(egret={}));var egret;!function(t){function e(t){return t%=360,t>180?t-=360:-180>t&&(t+=360),t}var i=function(i){function r(){var e=i.call(this)||this;return e.$children=null,e.$name="",e.$parent=null,e.$stage=null,e.$nestLevel=0,e.$useTranslate=!1,e.$matrix=new t.Matrix,e.$matrixDirty=!1,e.$x=0,e.$y=0,e.$scaleX=1,e.$scaleY=1,e.$rotation=0,e.$skewX=0,e.$skewXdeg=0,e.$skewY=0,e.$skewYdeg=0,e.$explicitWidth=0/0,e.$explicitHeight=0/0,e.$anchorOffsetX=0,e.$anchorOffsetY=0,e.$visible=!0,e.$displayList=null,e.$cacheAsBitmap=!1,e.$cacheDirty=!1,e.$alpha=1,e.$touchEnabled=r.defaultTouchEnabled,e.$scrollRect=null,e.$blendMode=0,e.$maskedObject=null,e.$mask=null,e.$maskRect=null,e.$parentDisplayList=null,e.$renderNode=null,e.$renderDirty=!1,e.$renderMode=null,t.nativeRender&&e.createNativeDisplayObject(),e}return __extends(r,i),r.prototype.createNativeDisplayObject=function(){this.$nativeDisplayObject=new egret_native.NativeDisplayObject(0)},Object.defineProperty(r.prototype,"name",{get:function(){return this.$name},set:function(t){this.$name=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){return this.$parent},enumerable:!0,configurable:!0}),r.prototype.$setParent=function(t){this.$parent=t},r.prototype.$onAddToStage=function(e,i){var r=this;r.$stage=e,r.$nestLevel=i,r.$hasAddToStage=!0,t.Sprite.$EVENT_ADD_TO_STAGE_LIST.push(r)},r.prototype.$onRemoveFromStage=function(){var e=this;e.$nestLevel=0,t.Sprite.$EVENT_REMOVE_FROM_STAGE_LIST.push(e)},r.prototype.$updateUseTransform=function(){var t=this;1==t.$scaleX&&1==t.$scaleY&&0==t.$skewX&&0==t.$skewY?t.$useTranslate=!1:t.$useTranslate=!0},Object.defineProperty(r.prototype,"stage",{get:function(){return this.$stage},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"matrix",{get:function(){return this.$getMatrix().clone()},set:function(t){this.$setMatrix(t)},enumerable:!0,configurable:!0}),r.prototype.$getMatrix=function(){var t=this;return t.$matrixDirty&&(t.$matrixDirty=!1,t.$matrix.$updateScaleAndRotation(t.$scaleX,t.$scaleY,t.$skewX,t.$skewY)),t.$matrix.tx=t.$x,t.$matrix.ty=t.$y,t.$matrix},r.prototype.$setMatrix=function(i,r){void 0===r&&(r=!0);var n=this,o=n.$matrix;o.a=i.a,o.b=i.b,o.c=i.c,o.d=i.d,n.$x=i.tx,n.$y=i.ty,n.$matrixDirty=!1,1==o.a&&0==o.b&&0==o.c&&1==o.d?n.$useTranslate=!1:n.$useTranslate=!0,r&&(n.$scaleX=o.$getScaleX(),n.$scaleY=o.$getScaleY(),n.$skewX=i.$getSkewX(),n.$skewY=i.$getSkewY(),n.$skewXdeg=e(180*n.$skewX/Math.PI),n.$skewYdeg=e(180*n.$skewY/Math.PI),n.$rotation=e(180*n.$skewY/Math.PI)),t.nativeRender&&n.$nativeDisplayObject.setMatrix(i.a,i.b,i.c,i.d,i.tx,i.ty)},r.prototype.$getConcatenatedMatrix=function(){var e=this,i=e.$concatenatedMatrix;i||(i=e.$concatenatedMatrix=new t.Matrix),e.$parent?e.$parent.$getConcatenatedMatrix().$preMultiplyInto(e.$getMatrix(),i):i.copyFrom(e.$getMatrix());var r=e.$anchorOffsetX,n=e.$anchorOffsetY,o=e.$scrollRect;return o?i.$preMultiplyInto(t.$TempMatrix.setTo(1,0,0,1,-o.x-r,-o.y-n),i):(0!=r||0!=n)&&i.$preMultiplyInto(t.$TempMatrix.setTo(1,0,0,1,-r,-n),i),e.$concatenatedMatrix},r.prototype.$getInvertedConcatenatedMatrix=function(){var e=this;return e.$invertedConcatenatedMatrix||(e.$invertedConcatenatedMatrix=new t.Matrix),e.$getConcatenatedMatrix().$invertInto(e.$invertedConcatenatedMatrix),e.$invertedConcatenatedMatrix},Object.defineProperty(r.prototype,"x",{get:function(){return this.$getX()},set:function(t){this.$setX(t)},enumerable:!0,configurable:!0}),r.prototype.$getX=function(){return this.$x},r.prototype.$setX=function(e){var i=this;if(i.$x==e)return!1;if(i.$x=e,t.nativeRender)i.$nativeDisplayObject.setX(e);else{var r=i.$parent;r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}return!0},Object.defineProperty(r.prototype,"y",{get:function(){return this.$getY()},set:function(t){this.$setY(t)},enumerable:!0,configurable:!0}),r.prototype.$getY=function(){return this.$y},r.prototype.$setY=function(e){var i=this;if(i.$y==e)return!1;if(i.$y=e,t.nativeRender)i.$nativeDisplayObject.setY(e);else{var r=i.$parent;r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}return!0},Object.defineProperty(r.prototype,"scaleX",{get:function(){return this.$getScaleX()},set:function(t){this.$setScaleX(t)},enumerable:!0,configurable:!0}),r.prototype.$getScaleX=function(){return this.$scaleX},r.prototype.$setScaleX=function(e){var i=this;if(i.$scaleX=e,i.$matrixDirty=!0,i.$updateUseTransform(),t.nativeRender)i.$nativeDisplayObject.setScaleX(e);else{var r=i.$parent;r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}},Object.defineProperty(r.prototype,"scaleY",{get:function(){return this.$getScaleY()},set:function(t){this.$setScaleY(t)},enumerable:!0,configurable:!0}),r.prototype.$getScaleY=function(){return this.$scaleY},r.prototype.$setScaleY=function(e){var i=this;if(i.$scaleY=e,i.$matrixDirty=!0,i.$updateUseTransform(),t.nativeRender)i.$nativeDisplayObject.setScaleY(e);else{var r=i.$parent;r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}},Object.defineProperty(r.prototype,"rotation",{get:function(){return this.$getRotation()},set:function(t){this.$setRotation(t)},enumerable:!0,configurable:!0}),r.prototype.$getRotation=function(){return this.$rotation},r.prototype.$setRotation=function(i){i=e(i);var r=this;if(i!=r.$rotation){var n=i-r.$rotation,o=n/180*Math.PI;if(r.$skewX+=o,r.$skewY+=o,r.$rotation=i,r.$matrixDirty=!0,r.$updateUseTransform(),t.nativeRender)r.$nativeDisplayObject.setRotation(i);else{var s=r.$parent;s&&!s.$cacheDirty&&(s.$cacheDirty=!0,s.$cacheDirtyUp());var a=r.$maskedObject;a&&!a.$cacheDirty&&(a.$cacheDirty=!0,a.$cacheDirtyUp())}}},Object.defineProperty(r.prototype,"skewX",{get:function(){return this.$skewXdeg},set:function(t){this.$setSkewX(t)},enumerable:!0,configurable:!0}),r.prototype.$setSkewX=function(i){var r=this;if(i!=r.$skewXdeg)if(r.$skewXdeg=i,i=e(i),i=i/180*Math.PI,r.$skewX=i,r.$matrixDirty=!0,r.$updateUseTransform(),t.nativeRender)r.$nativeDisplayObject.setSkewX(r.$skewXdeg);else{var n=r.$parent;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp());var o=r.$maskedObject;o&&!o.$cacheDirty&&(o.$cacheDirty=!0,o.$cacheDirtyUp())}},Object.defineProperty(r.prototype,"skewY",{get:function(){return this.$skewYdeg},set:function(t){this.$setSkewY(t)},enumerable:!0,configurable:!0}),r.prototype.$setSkewY=function(i){var r=this;if(i!=r.$skewYdeg)if(r.$skewYdeg=i,i=e(i),i=i/180*Math.PI,r.$skewY=i,r.$matrixDirty=!0,r.$updateUseTransform(),t.nativeRender)r.$nativeDisplayObject.setSkewY(r.$skewYdeg);else{var n=r.$parent;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp());var o=r.$maskedObject;o&&!o.$cacheDirty&&(o.$cacheDirty=!0,o.$cacheDirtyUp())}},Object.defineProperty(r.prototype,"width",{get:function(){return this.$getWidth()},set:function(t){this.$setWidth(t)},enumerable:!0,configurable:!0}),r.prototype.$getWidth=function(){var t=this;return isNaN(t.$explicitWidth)?t.$getOriginalBounds().width:t.$explicitWidth},r.prototype.$setWidth=function(t){this.$explicitWidth=isNaN(t)?0/0:t},Object.defineProperty(r.prototype,"height",{get:function(){return this.$getHeight()},set:function(t){this.$setHeight(t)},enumerable:!0,configurable:!0}),r.prototype.$getHeight=function(){var t=this;return isNaN(t.$explicitHeight)?t.$getOriginalBounds().height:t.$explicitHeight},r.prototype.$setHeight=function(t){this.$explicitHeight=isNaN(t)?0/0:t},Object.defineProperty(r.prototype,"measuredWidth",{get:function(){return this.$getOriginalBounds().width},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"measuredHeight",{get:function(){return this.$getOriginalBounds().height},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"anchorOffsetX",{get:function(){return this.$anchorOffsetX},set:function(t){this.$setAnchorOffsetX(t)},enumerable:!0,configurable:!0}),r.prototype.$setAnchorOffsetX=function(e){var i=this;i.$anchorOffsetX=e,t.nativeRender&&i.$nativeDisplayObject.setAnchorOffsetX(e)},Object.defineProperty(r.prototype,"anchorOffsetY",{get:function(){return this.$anchorOffsetY},set:function(t){this.$setAnchorOffsetY(t)},enumerable:!0,configurable:!0}),r.prototype.$setAnchorOffsetY=function(e){var i=this;i.$anchorOffsetY=e,t.nativeRender&&i.$nativeDisplayObject.setAnchorOffsetY(e)},Object.defineProperty(r.prototype,"visible",{get:function(){return this.$visible},set:function(t){this.$setVisible(t)},enumerable:!0,configurable:!0}),r.prototype.$setVisible=function(e){var i=this;if(i.$visible=e,t.nativeRender)i.$nativeDisplayObject.setVisible(e);else{i.$updateRenderMode();var r=i.$parent;r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}},Object.defineProperty(r.prototype,"cacheAsBitmap",{get:function(){return this.$cacheAsBitmap},set:function(e){var i=this;i.$cacheAsBitmap=e,t.nativeRender?i.$nativeDisplayObject.setCacheAsBitmap(e):i.$setHasDisplayList(e)},enumerable:!0,configurable:!0}),r.prototype.$setHasDisplayList=function(e){var i=this,r=!!i.$displayList;if(r!=e)if(e){var n=t.sys.DisplayList.create(i);n&&(i.$displayList=n,i.$cacheDirty=!0)}else i.$displayList=null},r.prototype.$cacheDirtyUp=function(){var t=this.$parent;t&&!t.$cacheDirty&&(t.$cacheDirty=!0,t.$cacheDirtyUp())},Object.defineProperty(r.prototype,"alpha",{get:function(){return this.$alpha},set:function(t){this.$setAlpha(t)},enumerable:!0,configurable:!0}),r.prototype.$setAlpha=function(e){var i=this;if(i.$alpha=e,t.nativeRender)i.$nativeDisplayObject.setAlpha(e);else{i.$updateRenderMode();var r=i.$parent;r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}},Object.defineProperty(r.prototype,"touchEnabled",{get:function(){return this.$getTouchEnabled()},set:function(t){this.$setTouchEnabled(t)},enumerable:!0,configurable:!0}),r.prototype.$getTouchEnabled=function(){return this.$touchEnabled},r.prototype.$setTouchEnabled=function(t){this.$touchEnabled=t},Object.defineProperty(r.prototype,"scrollRect",{get:function(){return this.$scrollRect},set:function(t){this.$setScrollRect(t)},enumerable:!0,configurable:!0}),r.prototype.$setScrollRect=function(e){var i=this;return e||i.$scrollRect?(e?(i.$scrollRect||(i.$scrollRect=new t.Rectangle),i.$scrollRect.copyFrom(e),t.nativeRender&&i.$nativeDisplayObject.setScrollRect(e.x,e.y,e.width,e.height)):(i.$scrollRect=null,t.nativeRender&&i.$nativeDisplayObject.setScrollRect(0,0,0,0)),void(t.nativeRender||i.$updateRenderMode())):void i.$updateRenderMode()},Object.defineProperty(r.prototype,"blendMode",{get:function(){return t.sys.numberToBlendMode(this.$blendMode)},set:function(e){var i=this,r=t.sys.blendModeToNumber(e);if(i.$blendMode=r,t.nativeRender)i.$nativeDisplayObject.setBlendMode(r);else{i.$updateRenderMode();var n=i.$parent;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp());var o=i.$maskedObject;o&&!o.$cacheDirty&&(o.$cacheDirty=!0,o.$cacheDirtyUp())}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"mask",{get:function(){var t=this;return t.$mask?t.$mask:t.$maskRect},set:function(e){var i=this;if(e!==i){if(e)if(e instanceof r){if(e==i.$mask)return;e.$maskedObject&&(e.$maskedObject.mask=null),e.$maskedObject=i,i.$mask=e,t.nativeRender||e.$updateRenderMode(),i.$maskRect&&(t.nativeRender&&i.$nativeDisplayObject.setMaskRect(0,0,0,0),i.$maskRect=null),t.nativeRender&&i.$nativeDisplayObject.setMask(e.$nativeDisplayObject.id)}else i.$maskRect||(i.$maskRect=new t.Rectangle),i.$maskRect.copyFrom(e),t.nativeRender&&i.$nativeDisplayObject.setMaskRect(e.x,e.y,e.width,e.height),i.$mask&&(i.$mask.$maskedObject=null,t.nativeRender||i.$mask.$updateRenderMode()),i.mask&&(t.nativeRender&&i.$nativeDisplayObject.setMask(-1),i.$mask=null);else i.$mask&&(i.$mask.$maskedObject=null,t.nativeRender||i.$mask.$updateRenderMode()),i.mask&&(t.nativeRender&&i.$nativeDisplayObject.setMask(-1),i.$mask=null),i.$maskRect&&(t.nativeRender&&i.$nativeDisplayObject.setMaskRect(0,0,0,0),i.$maskRect=null);t.nativeRender||i.$updateRenderMode()}},enumerable:!0,configurable:!0}),r.prototype.$setMaskRect=function(e){var i=this;(e||i.$maskRect)&&(e?(i.$maskRect||(i.$maskRect=new t.Rectangle),i.$maskRect.copyFrom(e)):i.$maskRect=null)},Object.defineProperty(r.prototype,"filters",{get:function(){return this.$filters},set:function(e){var i=this,r=i.$filters;if(r||e){if(e&&e.length?(e=e.concat(),i.$filters=e,t.nativeRender&&i.$nativeDisplayObject.setFilters(e)):(i.$filters=e,t.nativeRender&&i.$nativeDisplayObject.setFilters(null)),!t.nativeRender){i.$updateRenderMode();var n=i.$parent;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp());var o=i.$maskedObject;o&&!o.$cacheDirty&&(o.$cacheDirty=!0,o.$cacheDirtyUp())}}else if(i.$filters=e,t.nativeRender)i.$nativeDisplayObject.setFilters(null);else{i.$updateRenderMode();var n=i.$parent;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp());var o=i.$maskedObject;o&&!o.$cacheDirty&&(o.$cacheDirty=!0,o.$cacheDirtyUp())}},enumerable:!0,configurable:!0}),r.prototype.getTransformedBounds=function(t,e){return t=t||this,this.$getTransformedBounds(t,e)},r.prototype.getBounds=function(t,e){void 0===e&&(e=!0);var i=this;return t=i.$getTransformedBounds(i,t),e&&(0!=i.$anchorOffsetX&&(t.x-=i.$anchorOffsetX),0!=i.$anchorOffsetY&&(t.y-=i.$anchorOffsetY)),t},r.prototype.$getTransformedBounds=function(e,i){var r=this,n=r.$getOriginalBounds();if(i||(i=new t.Rectangle),i.copyFrom(n),e==r)return i;var o;if(e){o=t.$TempMatrix;var s=e.$getInvertedConcatenatedMatrix();s.$preMultiplyInto(r.$getConcatenatedMatrix(),o)}else o=r.$getConcatenatedMatrix();return o.$transformBounds(i),i},r.prototype.globalToLocal=function(e,i,r){if(void 0===e&&(e=0),void 0===i&&(i=0),t.nativeRender){egret_native.updateNativeRender();var n=egret_native.nrGlobalToLocal(this.$nativeDisplayObject.id,e,i),o=n.split(","),s=parseFloat(o[0]),a=parseFloat(o[1]);return r?r.setTo(s,a):r=new t.Point(s,a),r}var h=this.$getInvertedConcatenatedMatrix();return h.transformPoint(e,i,r)},r.prototype.localToGlobal=function(e,i,r){if(void 0===e&&(e=0),void 0===i&&(i=0),t.nativeRender){egret_native.updateNativeRender();var n=egret_native.nrLocalToGlobal(this.$nativeDisplayObject.id,e,i),o=n.split(","),s=parseFloat(o[0]),a=parseFloat(o[1]);return r?r.setTo(s,a):r=new t.Point(s,a),r}var h=this.$getConcatenatedMatrix();return h.transformPoint(e,i,r)},r.prototype.$getOriginalBounds=function(){var t=this,e=t.$getContentBounds();t.$measureChildBounds(e);var i=t.$measureFiltersOffset(!1);return i&&(e.x+=i.minX,e.y+=i.minY,e.width+=-i.minX+i.maxX,e.height+=-i.minY+i.maxY),e},r.prototype.$measureChildBounds=function(t){},r.prototype.$getContentBounds=function(){var e=t.$TempRectangle;return e.setEmpty(),this.$measureContentBounds(e),e},r.prototype.$measureContentBounds=function(t){},r.prototype.$getRenderNode=function(){var t=this,e=t.$renderNode;return e?(t.$renderDirty&&(e.cleanBeforeRender(),t.$updateRenderNode(),t.$renderDirty=!1,e=t.$renderNode),e):null},r.prototype.$updateRenderMode=function(){var t=this;!t.$visible||t.$alpha<=0||t.$maskedObject?t.$renderMode=1:t.filters&&t.filters.length>0?t.$renderMode=2:0!==t.$blendMode||t.$mask&&t.$mask.$stage?t.$renderMode=3:t.$scrollRect||t.$maskRect?t.$renderMode=4:t.$renderMode=null},r.prototype.$measureFiltersOffset=function(e){for(var i=this,r=0,n=0,o=0,s=0;i;){var a=i.$filters;if(a&&a.length)for(var h=a.length,u=0;h>u;u++){var l=a[u];if("blur"==l.type){var c=l.blurX,p=l.blurY;r-=c,n-=p,o+=c,s+=p}else if("glow"==l.type){var c=l.blurX,p=l.blurY;r-=c,n-=p,o+=c,s+=p;var d=l.distance||0,f=l.angle||0,g=0,v=0;0!=d&&(g=d*t.NumberUtils.cos(f),g=g>0?Math.ceil(g):Math.floor(g),v=d*t.NumberUtils.sin(f),v=v>0?Math.ceil(v):Math.floor(v),r+=g,o+=g,n+=v,s+=v)}else if("custom"==l.type){var y=l.padding;r-=y,n-=y,o+=y,s+=y}}i=e?i.$parent:null}return r=Math.min(r,0),n=Math.min(n,0),o=Math.max(o,0),s=Math.max(s,0),{minX:r,minY:n,maxX:o,maxY:s}},r.prototype.$getConcatenatedMatrixAt=function(e,i){var r=e.$getInvertedConcatenatedMatrix();if(0===r.a||0===r.d){var n=this,o=e.$nestLevel;for(i.identity();n.$nestLevel>o;){var s=n.$scrollRect;s&&i.concat(t.$TempMatrix.setTo(1,0,0,1,-s.x,-s.y)),i.concat(n.$getMatrix()),n=n.$parent}}else r.$preMultiplyInto(i,i)},r.prototype.$updateRenderNode=function(){},r.prototype.$hitTest=function(e,i){var r=this;if(!t.nativeRender&&!r.$renderNode||!r.$visible||0==r.$scaleX||0==r.$scaleY)return null;var n=r.$getInvertedConcatenatedMatrix();if(0==n.a&&0==n.b&&0==n.c&&0==n.d)return null;var o=r.$getContentBounds(),s=n.a*e+n.c*i+n.tx,a=n.b*e+n.d*i+n.ty;if(o.contains(s,a)){if(!r.$children){var h=r.$scrollRect?r.$scrollRect:r.$maskRect;if(h&&!h.contains(s,a))return null;if(r.$mask&&!r.$mask.$hitTest(e,i))return null}return r}return null},r.prototype.hitTestPoint=function(e,i,r){var n=this;if(r){var o=n.$getInvertedConcatenatedMatrix(),s=o.a*e+o.c*i+o.tx,a=o.b*e+o.d*i+o.ty,h=void 0;if(t.nativeRender){var u=t.sys.customHitTestBuffer;u.resize(3,3),egret_native.forHitTest=!0,egret_native.activateBuffer(u),egret_native.updateNativeRender(),egret_native.nrRenderDisplayObject2(n.$nativeDisplayObject.id,1-s,1-a,!0);try{h=new Uint8Array(4),egret_native.nrGetPixels(1,1,1,1,h)}catch(l){throw new Error(t.sys.tr(1039))}return egret_native.activateBuffer(null),egret_native.forHitTest=!1,0===h[3]?!1:!0}var c=n.$displayList;if(c){var u=c.renderBuffer;try{h=u.getPixels(s-c.offsetX,a-c.offsetY)}catch(l){throw new Error(t.sys.tr(1039))}}else{var u=t.sys.customHitTestBuffer;u.resize(3,3);var p=t.Matrix.create();p.identity(),p.translate(1-s,1-a),t.sys.systemRenderer.render(this,u,p,!0),t.Matrix.release(p);try{h=u.getPixels(1,1)}catch(l){throw new Error(t.sys.tr(1039))}}return 0===h[3]?!1:!0}if(0==n.$scaleX||0==n.$scaleY)return!1;var o=n.$getInvertedConcatenatedMatrix(),d=n.getBounds(null,!1),s=o.a*e+o.c*i+o.tx,a=o.b*e+o.d*i+o.ty;if(d.contains(s,a)){var f=n.$scrollRect?n.$scrollRect:n.$maskRect;return f&&!f.contains(s,a)?!1:!0}return!1},r.prototype.$addListener=function(e,n,o,s,a,h){i.prototype.$addListener.call(this,e,n,o,s,a,h);var u=e==t.Event.ENTER_FRAME;if(u||e==t.Event.RENDER){var l=u?r.$enterFrameCallBackList:r.$renderCallBackList;-1==l.indexOf(this)&&l.push(this)}},r.prototype.removeEventListener=function(e,n,o,s){i.prototype.removeEventListener.call(this,e,n,o,s);var a=e==t.Event.ENTER_FRAME;if((a||e==t.Event.RENDER)&&!this.hasEventListener(e)){var h=a?r.$enterFrameCallBackList:r.$renderCallBackList,u=h.indexOf(this);-1!==u&&h.splice(u,1)}},r.prototype.dispatchEvent=function(t){if(!t.$bubbles)return i.prototype.dispatchEvent.call(this,t);var e=this.$getPropagationList(this),r=.5*e.length;return t.$setTarget(this),this.$dispatchPropagationEvent(t,e,r),!t.$isDefaultPrevented},r.prototype.$getPropagationList=function(t){for(var e=[];t;)e.push(t),t=t.$parent;var i=e.concat();return i.reverse(),e=i.concat(e)},r.prototype.$dispatchPropagationEvent=function(t,e,i){for(var r=e.length,n=i-1,o=0;r>o;o++){var s=e[o];if(t.$currentTarget=s,n>o?t.$eventPhase=1:o==i||o==n?t.$eventPhase=2:t.$eventPhase=3,s.$notifyListener(t,i>o),t.$isPropagationStopped||t.$isPropagationImmediateStopped)return}},r.prototype.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.$parent}return!1},r.defaultTouchEnabled=!1,r.$enterFrameCallBackList=[],r.$renderCallBackList=[],r}(t.EventDispatcher);t.DisplayObject=i,__reflect(i.prototype,"egret.DisplayObject")}(egret||(egret={}));var egret;!function(t){t.$TextureScaleFactor=1;var e=function(e){function i(){var t=e.call(this)||this;return t.disposeBitmapData=!0,t.$bitmapX=0,t.$bitmapY=0,t.$bitmapWidth=0,t.$bitmapHeight=0,t.$offsetX=0,t.$offsetY=0,t.$textureWidth=0,t.$textureHeight=0,t.$sourceWidth=0,t.$sourceHeight=0,t.$bitmapData=null,t.$rotated=!1,t}return __extends(i,e),Object.defineProperty(i.prototype,"textureWidth",{get:function(){return this.$getTextureWidth()},enumerable:!0,configurable:!0}),i.prototype.$getTextureWidth=function(){return this.$textureWidth},Object.defineProperty(i.prototype,"textureHeight",{get:function(){return this.$getTextureHeight()},enumerable:!0,configurable:!0}),i.prototype.$getTextureHeight=function(){return this.$textureHeight},i.prototype.$getScaleBitmapWidth=function(){return this.$bitmapWidth*t.$TextureScaleFactor},i.prototype.$getScaleBitmapHeight=function(){return this.$bitmapHeight*t.$TextureScaleFactor},Object.defineProperty(i.prototype,"bitmapData",{get:function(){return this.$bitmapData},set:function(t){this._setBitmapData(t)},enumerable:!0,configurable:!0}),i.prototype._setBitmapData=function(e){this.$bitmapData=e;var i=t.$TextureScaleFactor,r=e.width*i,n=e.height*i;this.$initData(0,0,r,n,0,0,r,n,e.width,e.height)},i.prototype.$initData=function(e,i,r,n,o,s,a,h,u,l,c){void 0===c&&(c=!1);var p=t.$TextureScaleFactor;this.$bitmapX=e/p,this.$bitmapY=i/p,this.$bitmapWidth=r/p,this.$bitmapHeight=n/p,this.$offsetX=o,this.$offsetY=s,this.$textureWidth=a,this.$textureHeight=h,this.$sourceWidth=u,this.$sourceHeight=l,this.$rotated=c,t.BitmapData.$invalidate(this.$bitmapData)},i.prototype.getPixel32=function(t,e){throw new Error},i.prototype.getPixels=function(t,e,i,r){throw void 0===i&&(i=1),void 0===r&&(r=1),new Error},i.prototype.toDataURL=function(t,e,i){throw new Error},i.prototype.saveToFile=function(t,e,i){throw new Error},i.prototype.dispose=function(){this.$bitmapData&&(this.disposeBitmapData&&this.$bitmapData.$dispose(),this.$bitmapData=null),t.nativeRender&&egret_native.NativeDisplayObject.disposeTexture(this)},i}(t.HashObject);t.Texture=e,__reflect(e.prototype,"egret.Texture")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e,i,r,n){var o=t.call(this)||this;return o.$eventPhase=2,o.$currentTarget=null,o.$target=null,o.$isDefaultPrevented=!1,o.$isPropagationStopped=!1,o.$isPropagationImmediateStopped=!1,o.$type=e,o.$bubbles=!!i,o.$cancelable=!!r,o.data=n,o}return __extends(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.$type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bubbles",{get:function(){return this.$bubbles},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cancelable",{get:function(){return this.$cancelable},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"eventPhase",{get:function(){return this.$eventPhase},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTarget",{get:function(){return this.$currentTarget},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this.$target},enumerable:!0,configurable:!0}),e.prototype.$setTarget=function(t){return this.$target=t,!0},e.prototype.isDefaultPrevented=function(){return this.$isDefaultPrevented},e.prototype.preventDefault=function(){this.$cancelable&&(this.$isDefaultPrevented=!0)},e.prototype.stopPropagation=function(){this.$bubbles&&(this.$isPropagationStopped=!0)},e.prototype.stopImmediatePropagation=function(){this.$bubbles&&(this.$isPropagationImmediateStopped=!0)},e.prototype.clean=function(){this.data=this.$currentTarget=null,this.$setTarget(null)},e.dispatchEvent=function(t,i,r,n){void 0===r&&(r=!1);var o=e.create(e,i,r),s=e._getPropertyData(e);void 0!=n&&(s.data=n);var a=t.dispatchEvent(o);return e.release(o),a},e._getPropertyData=function(t){var e=t._props;return e||(e=t._props={}),e},e.create=function(t,e,i,r){var n,o=t.hasOwnProperty("eventPool");if(o&&(n=t.eventPool),n||(n=t.eventPool=[]),n.length){var s=n.pop();return s.$type=e,s.$bubbles=!!i,s.$cancelable=!!r,s.$isDefaultPrevented=!1,s.$isPropagationStopped=!1,s.$isPropagationImmediateStopped=!1,s.$eventPhase=2,s}return new t(e,i,r)},e.release=function(t){t.clean();var e=Object.getPrototypeOf(t).constructor;e.eventPool.push(t)},e.ADDED_TO_STAGE="addedToStage",e.REMOVED_FROM_STAGE="removedFromStage",e.ADDED="added",e.REMOVED="removed",e.ENTER_FRAME="enterFrame",e.RENDER="render",e.RESIZE="resize",e.CHANGE="change",e.CHANGING="changing",e.COMPLETE="complete",e.LOOP_COMPLETE="loopComplete",e.FOCUS_IN="focusIn",e.FOCUS_OUT="focusOut",e.ENDED="ended",e.ACTIVATE="activate",e.DEACTIVATE="deactivate",e.CLOSE="close",e.CONNECT="connect",e.LEAVE_STAGE="leaveStage",e.SOUND_COMPLETE="soundComplete",e}(t.HashObject);t.Event=e,__reflect(e.prototype,"egret.Event")}(egret||(egret={})),global.DEBUG=!0,global.RELEASE=!1;var egret;!function(t){function e(e){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return t.sys.tr.apply(t.sys,arguments)}function i(e){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var n=t.sys.tr.apply(null,arguments);throw t.sys.$errorToFPS("Error #"+e+": "+n),new Error("#"+e+": "+n)}function r(e){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var n=t.sys.tr.apply(null,arguments);t.sys.$warnToFPS("Warning #"+e+": "+n),t.warn("Warning #"+e+": "+n)}function n(e,i,r){Object.defineProperty(e.prototype,i,{get:function(){return t.$warn(1009,t.getQualifiedClassName(e),i),r},set:function(r){t.$error(1009,t.getQualifiedClassName(e),i)},enumerable:!0,configurable:!0})}t.getString=e,t.$error=i,t.$warn=r,t.$markCannotUse=n}(egret||(egret={}));var egret;!function(t){var e=[],i=Math.PI/180,r=function(r){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var i=r.call(this)||this;return i.x=t,i.y=e,i}return __extends(n,r),n.release=function(t){t&&e.push(t)},n.create=function(t,i){var r=e.pop();return r||(r=new n),r.setTo(t,i)},Object.defineProperty(n.prototype,"length",{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},enumerable:!0,configurable:!0}),n.prototype.setTo=function(t,e){return this.x=t,this.y=e,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.equals=function(t){return this.x==t.x&&this.y==t.y},n.distance=function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},n.prototype.copyFrom=function(t){this.x=t.x,this.y=t.y},n.prototype.add=function(t){return new n(this.x+t.x,this.y+t.y)},n.interpolate=function(t,e,i){var r=1-i;return new n(t.x*i+e.x*r,t.y*i+e.y*r)},n.prototype.normalize=function(t){if(0!=this.x||0!=this.y){var e=t/this.length;this.x*=e,this.y*=e}},n.prototype.offset=function(t,e){this.x+=t,this.y+=e},n.polar=function(e,r){return new n(e*t.NumberUtils.cos(r/i),e*t.NumberUtils.sin(r/i))},n.prototype.subtract=function(t){return new n(this.x-t.x,this.y-t.y)},n.prototype.toString=function(){return"(x="+this.x+", y="+this.y+")"},n}(t.HashObject);t.Point=r,__reflect(r.prototype,"egret.Point"),t.$TempPoint=new r}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.$touchChildren=!0,t.$children=[],t}return __extends(i,e),Object.defineProperty(i.prototype,"numChildren",{get:function(){return this.$children.length},enumerable:!0,configurable:!0}),i.prototype.addChild=function(t){var e=this.$children.length;return t.$parent==this&&e--,this.$doAddChild(t,e)},i.prototype.addChildAt=function(t,e){return e=0|+e,(0>e||e>=this.$children.length)&&(e=this.$children.length,t.$parent==this&&e--),this.$doAddChild(t,e)},i.prototype.$doAddChild=function(e,r,n){void 0===n&&(n=!0);var o=this;e==o?t.$error(1005):e instanceof t.DisplayObjectContainer&&e.contains(o)&&t.$error(1004);var s=e.$parent;if(s==o)return o.doSetChildIndex(e,r),e;s&&s.removeChild(e),o.$children.splice(r,0,e),e.$setParent(o),t.nativeRender&&o.$nativeDisplayObject.addChildAt(e.$nativeDisplayObject.id,r);var a=o.$stage;if(a&&e.$onAddToStage(a,o.$nestLevel+1),n&&e.dispatchEventWith(t.Event.ADDED,!0),a)for(var h=i.$EVENT_ADD_TO_STAGE_LIST;h.length;){var u=h.shift();u.$stage&&n&&u.dispatchEventWith(t.Event.ADDED_TO_STAGE)}if(!t.nativeRender&&(e.$maskedObject&&e.$maskedObject.$updateRenderMode(),!o.$cacheDirty)){o.$cacheDirty=!0;
var l=o.$parent;l&&!l.$cacheDirty&&(l.$cacheDirty=!0,l.$cacheDirtyUp());var c=o.$maskedObject;c&&!c.$cacheDirty&&(c.$cacheDirty=!0,c.$cacheDirtyUp())}return this.$childAdded(e,r),e},i.prototype.contains=function(t){for(;t;){if(t==this)return!0;t=t.$parent}return!1},i.prototype.getChildAt=function(e){return e=0|+e,e>=0&&e<this.$children.length?this.$children[e]:(t.$error(1007),null)},i.prototype.getChildIndex=function(t){return this.$children.indexOf(t)},i.prototype.getChildByName=function(t){for(var e,i=this.$children,r=i.length,n=0;r>n;n++)if(e=i[n],e.name==t)return e;return null},i.prototype.removeChild=function(e){var i=this.$children.indexOf(e);return i>=0?this.$doRemoveChild(i):(t.$error(1006),null)},i.prototype.removeChildAt=function(e){return e=0|+e,e>=0&&e<this.$children.length?this.$doRemoveChild(e):(t.$error(1007),null)},i.prototype.$doRemoveChild=function(e,r){void 0===r&&(r=!0),e=0|+e;var n=this,o=this.$children,s=o[e];if(this.$childRemoved(s,e),r&&s.dispatchEventWith(t.Event.REMOVED,!0),this.$stage){s.$onRemoveFromStage();for(var a=i.$EVENT_REMOVE_FROM_STAGE_LIST;a.length>0;){var h=a.shift();r&&h.$hasAddToStage&&(h.$hasAddToStage=!1,h.dispatchEventWith(t.Event.REMOVED_FROM_STAGE)),h.$hasAddToStage=!1,h.$stage=null}}this.$displayList||this.$parentDisplayList;s.$setParent(null);var u=o.indexOf(s);if(-1!=u&&o.splice(u,1),t.nativeRender)n.$nativeDisplayObject.removeChild(s.$nativeDisplayObject.id);else if(s.$maskedObject&&s.$maskedObject.$updateRenderMode(),!n.$cacheDirty){n.$cacheDirty=!0;var l=n.$parent;l&&!l.$cacheDirty&&(l.$cacheDirty=!0,l.$cacheDirtyUp());var c=n.$maskedObject;c&&!c.$cacheDirty&&(c.$cacheDirty=!0,c.$cacheDirtyUp())}return s},i.prototype.setChildIndex=function(t,e){e=0|+e,(0>e||e>=this.$children.length)&&(e=this.$children.length-1),this.doSetChildIndex(t,e)},i.prototype.doSetChildIndex=function(e,i){var r=this,n=this.$children.indexOf(e);if(0>n&&t.$error(1006),n!=i)if(this.$childRemoved(e,n),this.$children.splice(n,1),this.$children.splice(i,0,e),this.$childAdded(e,i),t.nativeRender)this.$nativeDisplayObject.removeChild(e.$nativeDisplayObject.id),this.$nativeDisplayObject.addChildAt(e.$nativeDisplayObject.id,i);else if(!r.$cacheDirty){r.$cacheDirty=!0;var o=r.$parent;o&&!o.$cacheDirty&&(o.$cacheDirty=!0,o.$cacheDirtyUp());var s=r.$maskedObject;s&&!s.$cacheDirty&&(s.$cacheDirty=!0,s.$cacheDirtyUp())}},i.prototype.swapChildrenAt=function(e,i){e=0|+e,i=0|+i,e>=0&&e<this.$children.length&&i>=0&&i<this.$children.length?this.doSwapChildrenAt(e,i):t.$error(1007)},i.prototype.swapChildren=function(e,i){var r=this.$children.indexOf(e),n=this.$children.indexOf(i);-1==r||-1==n?t.$error(1006):this.doSwapChildrenAt(r,n)},i.prototype.doSwapChildrenAt=function(e,i){var r=this;if(e>i){var n=i;i=e,e=n}else if(e==i)return;var o=this.$children,s=o[e],a=o[i];if(this.$childRemoved(s,e),this.$childRemoved(a,i),o[e]=a,o[i]=s,this.$childAdded(a,e),this.$childAdded(s,i),t.nativeRender)this.$nativeDisplayObject.swapChild(e,i);else if(!r.$cacheDirty){r.$cacheDirty=!0;var h=r.$parent;h&&!h.$cacheDirty&&(h.$cacheDirty=!0,h.$cacheDirtyUp());var u=r.$maskedObject;u&&!u.$cacheDirty&&(u.$cacheDirty=!0,u.$cacheDirtyUp())}},i.prototype.removeChildren=function(){for(var t=this.$children,e=t.length-1;e>=0;e--)this.$doRemoveChild(e)},i.prototype.$childAdded=function(t,e){},i.prototype.$childRemoved=function(t,e){},i.prototype.$onAddToStage=function(t,i){e.prototype.$onAddToStage.call(this,t,i);var r=this.$children,n=r.length;i++;for(var o=0;n>o;o++){var s=this.$children[o];s.$onAddToStage(t,i),s.$maskedObject&&s.$maskedObject.$updateRenderMode()}},i.prototype.$onRemoveFromStage=function(){e.prototype.$onRemoveFromStage.call(this);for(var t=this.$children,i=t.length,r=0;i>r;r++){var n=t[r];n.$onRemoveFromStage()}},i.prototype.$measureChildBounds=function(e){var i=this.$children,r=i.length;if(0!=r){for(var n=0,o=0,s=0,a=0,h=!1,u=-1;r>u;u++){var l=void 0;-1==u?l=e:(i[u].getBounds(t.$TempRectangle),i[u].$getMatrix().$transformBounds(t.$TempRectangle),l=t.$TempRectangle),l.isEmpty()||(h?(n=Math.min(n,l.x),o=Math.max(o,l.x+l.width),s=Math.min(s,l.y),a=Math.max(a,l.y+l.height)):(h=!0,n=l.x,o=n+l.width,s=l.y,a=s+l.height))}e.setTo(n,s,o-n,a-s)}},Object.defineProperty(i.prototype,"touchChildren",{get:function(){return this.$getTouchChildren()},set:function(t){this.$setTouchChildren(!!t)},enumerable:!0,configurable:!0}),i.prototype.$getTouchChildren=function(){return this.$touchChildren},i.prototype.$setTouchChildren=function(t){return this.$touchChildren==t?!1:(this.$touchChildren=t,!0)},i.prototype.$hitTest=function(t,i){if(!this.$visible)return null;var r=this.$getInvertedConcatenatedMatrix(),n=r.a*t+r.c*i+r.tx,o=r.b*t+r.d*i+r.ty,s=this.$scrollRect?this.$scrollRect:this.$maskRect;if(s&&!s.contains(n,o))return null;if(this.$mask&&!this.$mask.$hitTest(t,i))return null;for(var a=this.$children,h=!1,u=null,l=a.length-1;l>=0;l--){var c=a[l];if(!c.$maskedObject&&(u=c.$hitTest(t,i))){if(h=!0,u.$touchEnabled)break;u=null}}return u?this.$touchChildren?u:this:h?this:e.prototype.$hitTest.call(this,t,i)},i.$EVENT_ADD_TO_STAGE_LIST=[],i.$EVENT_REMOVE_FROM_STAGE_LIST=[],i}(t.DisplayObject);t.DisplayObjectContainer=e,__reflect(e.prototype,"egret.DisplayObjectContainer")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(i){var r=e.call(this)||this;return r._bitmapX=0,r._bitmapY=0,r._textureMap=t.createMap(),r.$texture=i,r._bitmapX=i.$bitmapX-i.$offsetX,r._bitmapY=i.$bitmapY-i.$offsetY,r}return __extends(i,e),i.prototype.getTexture=function(t){return this._textureMap[t]},i.prototype.createTexture=function(e,i,r,n,o,s,a,h,u){void 0===s&&(s=0),void 0===a&&(a=0),void 0===h&&(h=s+n),void 0===u&&(u=a+o);var l=new t.Texture;return l.disposeBitmapData=!1,l.$bitmapData=this.$texture.$bitmapData,l.$initData(this._bitmapX+i,this._bitmapY+r,n,o,s,a,h,u,this.$texture.$sourceWidth,this.$texture.$sourceHeight),this._textureMap[e]=l,l},i.prototype.dispose=function(){this.$texture&&this.$texture.dispose()},i}(t.HashObject);t.SpriteSheet=e,__reflect(e.prototype,"egret.SpriteSheet")}(egret||(egret={}));var egret;!function(t){t.$locale_strings=t.$locale_strings||{},t.$language="en_US"}(egret||(egret={})),function(t){var e;!function(e){function i(e){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var n=t.$locale_strings[t.$language][e];if(!n)return"{"+e+"}";for(var o=i.length,s=0;o>s;s++)n=n.replace("{"+s+"}",i[s]);return n}e.tr=i}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(r){var n=e.call(this)||this;return n.$texture=null,n.$bitmapData=null,n.$bitmapX=0,n.$bitmapY=0,n.$bitmapWidth=0,n.$bitmapHeight=0,n.$offsetX=0,n.$offsetY=0,n.$textureWidth=0,n.$textureHeight=0,n.$sourceWidth=0,n.$sourceHeight=0,n.$smoothing=i.defaultSmoothing,n.$explicitBitmapWidth=0/0,n.$explicitBitmapHeight=0/0,n.$scale9Grid=null,n.$fillMode="scale",n._pixelHitTest=!1,n.$renderNode=new t.sys.NormalBitmapNode,n.$setTexture(r),r&&(n.$renderNode.rotated=r.$rotated),n}return __extends(i,e),i.prototype.createNativeDisplayObject=function(){this.$nativeDisplayObject=new egret_native.NativeDisplayObject(1)},i.prototype.$onAddToStage=function(i,r){e.prototype.$onAddToStage.call(this,i,r);var n=this.$texture;n&&n.$bitmapData&&t.BitmapData.$addDisplayObject(this,n.$bitmapData)},i.prototype.$onRemoveFromStage=function(){e.prototype.$onRemoveFromStage.call(this);var i=this.$texture;i&&t.BitmapData.$removeDisplayObject(this,i.$bitmapData)},Object.defineProperty(i.prototype,"texture",{get:function(){return this.$texture},set:function(t){var e=this;e.$setTexture(t),t&&e.$renderNode&&(e.$renderNode.rotated=t.$rotated)},enumerable:!0,configurable:!0}),i.prototype.$setTexture=function(e){var i=this,r=i.$texture;if(e==r)return!1;if(i.$texture=e,!e){r&&t.BitmapData.$removeDisplayObject(i,r.$bitmapData),i.setImageData(null,0,0,0,0,0,0,0,0,0,0),i.$renderDirty=!0;var n=i.$parent;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp());var o=i.$maskedObject;return o&&!o.$cacheDirty&&(o.$cacheDirty=!0,o.$cacheDirtyUp()),t.nativeRender&&this.setBitmapDataToWasm(null),!0}if(i.$refreshImageData(),i.$stage){if(r&&r.$bitmapData){var s=r.$bitmapData.hashCode,a=e.$bitmapData?e.$bitmapData.hashCode:-1;if(s==a){i.$renderDirty=!0;var h=i.$parent;h&&!h.$cacheDirty&&(h.$cacheDirty=!0,h.$cacheDirtyUp());var u=i.$maskedObject;return u&&!u.$cacheDirty&&(u.$cacheDirty=!0,u.$cacheDirtyUp()),!0}t.BitmapData.$removeDisplayObject(i,r.$bitmapData)}t.BitmapData.$addDisplayObject(i,e.$bitmapData)}i.$renderDirty=!0;var l=i.$parent;l&&!l.$cacheDirty&&(l.$cacheDirty=!0,l.$cacheDirtyUp());var c=i.$maskedObject;return c&&!c.$cacheDirty&&(c.$cacheDirty=!0,c.$cacheDirtyUp()),!0},i.prototype.$setBitmapData=function(t){this.$setTexture(t)},i.prototype.setBitmapDataToWasm=function(t){this.$nativeDisplayObject.setBitmapData(t)},i.prototype.$refreshImageData=function(){var e=this.$texture;e?(t.nativeRender&&this.setBitmapDataToWasm(e),this.setImageData(e.$bitmapData,e.$bitmapX,e.$bitmapY,e.$bitmapWidth,e.$bitmapHeight,e.$offsetX,e.$offsetY,e.$getTextureWidth(),e.$getTextureHeight(),e.$sourceWidth,e.$sourceHeight)):t.nativeRender&&this.setBitmapDataToWasm(null)},i.prototype.setImageData=function(t,e,i,r,n,o,s,a,h,u,l){this.$bitmapData=t,this.$bitmapX=e,this.$bitmapY=i,this.$bitmapWidth=r,this.$bitmapHeight=n,this.$offsetX=o,this.$offsetY=s,this.$textureWidth=a,this.$textureHeight=h,this.$sourceWidth=u,this.$sourceHeight=l},Object.defineProperty(i.prototype,"scale9Grid",{get:function(){return this.$scale9Grid},set:function(t){this.$setScale9Grid(t)},enumerable:!0,configurable:!0}),i.prototype.$setScale9Grid=function(e){var i=this;if(i.$scale9Grid=e,i.$renderDirty=!0,t.nativeRender)e?i.$nativeDisplayObject.setScale9Grid(e.x,e.y,e.width,e.height):i.$nativeDisplayObject.setScale9Grid(0,0,-1,-1);else{var r=i.$parent;r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}},Object.defineProperty(i.prototype,"fillMode",{get:function(){return this.$fillMode},set:function(t){this.$setFillMode(t)},enumerable:!0,configurable:!0}),i.prototype.$setFillMode=function(e){var i=this;if(e==i.$fillMode)return!1;if(i.$fillMode=e,t.nativeRender)i.$nativeDisplayObject.setBitmapFillMode(i.$fillMode);else{i.$renderDirty=!0;var r=i.$parent;r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}return!0},Object.defineProperty(i.prototype,"smoothing",{get:function(){return this.$smoothing},set:function(t){t!=this.$smoothing&&(this.$smoothing=t,this.$renderNode.smoothing=t)},enumerable:!0,configurable:!0}),i.prototype.$setWidth=function(e){var i=this;if(0>e||e==i.$explicitBitmapWidth)return!1;if(i.$explicitBitmapWidth=e,i.$renderDirty=!0,t.nativeRender)i.$nativeDisplayObject.setWidth(e);else{var r=i.$parent;r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}return!0},i.prototype.$setHeight=function(e){var i=this;if(0>e||e==i.$explicitBitmapHeight)return!1;if(i.$explicitBitmapHeight=e,i.$renderDirty=!0,t.nativeRender)i.$nativeDisplayObject.setHeight(e);else{var r=i.$parent;r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}return!0},i.prototype.$getWidth=function(){return isNaN(this.$explicitBitmapWidth)?this.$getContentBounds().width:this.$explicitBitmapWidth},i.prototype.$getHeight=function(){return isNaN(this.$explicitBitmapHeight)?this.$getContentBounds().height:this.$explicitBitmapHeight},i.prototype.$measureContentBounds=function(t){if(this.$bitmapData){var e=isNaN(this.$explicitBitmapWidth)?this.$textureWidth:this.$explicitBitmapWidth,i=isNaN(this.$explicitBitmapHeight)?this.$textureHeight:this.$explicitBitmapHeight;t.setTo(0,0,e,i)}else{var e=isNaN(this.$explicitBitmapWidth)?0:this.$explicitBitmapWidth,i=isNaN(this.$explicitBitmapHeight)?0:this.$explicitBitmapHeight;t.setTo(0,0,e,i)}},i.prototype.$updateRenderNode=function(){if(this.$texture){var e=isNaN(this.$explicitBitmapWidth)?this.$textureWidth:this.$explicitBitmapWidth,i=isNaN(this.$explicitBitmapHeight)?this.$textureHeight:this.$explicitBitmapHeight,r=this.scale9Grid||this.$texture.scale9Grid;r?(this.$renderNode instanceof t.sys.NormalBitmapNode&&(this.$renderNode=new t.sys.BitmapNode),t.sys.BitmapNode.$updateTextureDataWithScale9Grid(this.$renderNode,this.$bitmapData,r,this.$bitmapX,this.$bitmapY,this.$bitmapWidth,this.$bitmapHeight,this.$offsetX,this.$offsetY,this.$textureWidth,this.$textureHeight,e,i,this.$sourceWidth,this.$sourceHeight,this.$smoothing)):(this.fillMode==t.BitmapFillMode.REPEAT&&this.$renderNode instanceof t.sys.NormalBitmapNode&&(this.$renderNode=new t.sys.BitmapNode),t.sys.BitmapNode.$updateTextureData(this.$renderNode,this.$bitmapData,this.$bitmapX,this.$bitmapY,this.$bitmapWidth,this.$bitmapHeight,this.$offsetX,this.$offsetY,this.$textureWidth,this.$textureHeight,e,i,this.$sourceWidth,this.$sourceHeight,this.$fillMode,this.$smoothing))}},Object.defineProperty(i.prototype,"pixelHitTest",{get:function(){return this._pixelHitTest},set:function(t){this._pixelHitTest=!!t},enumerable:!0,configurable:!0}),i.prototype.$hitTest=function(t,i){var r=e.prototype.$hitTest.call(this,t,i);if(r&&this._pixelHitTest){var n=this.hitTestPoint(t,i,!0);n||(r=null)}return r},i.defaultSmoothing=!0,i}(t.DisplayObject);t.Bitmap=e,__reflect(e.prototype,"egret.Bitmap")}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(){this.type=0,this.drawData=[],this.renderCount=0}return t.prototype.cleanBeforeRender=function(){this.drawData.length=0,this.renderCount=0},t.prototype.$getRenderCount=function(){return this.renderCount},t}();t.RenderNode=e,__reflect(e.prototype,"egret.sys.RenderNode")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(){function t(){this.type=0,this.$commands=[],this.$data=[],this.commandPosition=0,this.dataPosition=0,this.$lastX=0,this.$lastY=0}return t.prototype.moveTo=function(t,e){this.$commands[this.commandPosition++]=1;var i=this.dataPosition;this.$data[i++]=t,this.$data[i++]=e,this.dataPosition=i},t.prototype.lineTo=function(t,e){this.$commands[this.commandPosition++]=2;var i=this.dataPosition;this.$data[i++]=t,this.$data[i++]=e,this.dataPosition=i},t.prototype.curveTo=function(t,e,i,r){this.$commands[this.commandPosition++]=3;var n=this.dataPosition;this.$data[n++]=t,this.$data[n++]=e,this.$data[n++]=i,this.$data[n++]=r,this.dataPosition=n},t.prototype.cubicCurveTo=function(t,e,i,r,n,o){this.$commands[this.commandPosition++]=4;var s=this.dataPosition;this.$data[s++]=t,this.$data[s++]=e,this.$data[s++]=i,this.$data[s++]=r,this.$data[s++]=n,this.$data[s++]=o,this.dataPosition=s},t.prototype.drawRect=function(t,e,i,r){var n=t+i,o=e+r;this.moveTo(t,e),this.lineTo(n,e),this.lineTo(n,o),this.lineTo(t,o),this.lineTo(t,e)},t.prototype.drawRoundRect=function(t,e,i,r,n,o){var s=.5*n|0,a=o?.5*o|0:s;if(!s||!a)return void this.drawRect(t,e,i,r);var h=.5*i,u=.5*r;if(s>h&&(s=h),a>u&&(a=u),h===s&&u===a)return void(s===a?this.drawCircle(t+s,e+a,s):this.drawEllipse(t,e,2*s,2*a));var l=t+i,c=e+r,p=t+s,d=l-s,f=e+a,g=c-a;this.moveTo(l,g),this.curveTo(l,c,d,c),this.lineTo(p,c),this.curveTo(t,c,t,g),this.lineTo(t,f),this.curveTo(t,e,p,e),this.lineTo(d,e),this.curveTo(l,e,l,f),this.lineTo(l,g)},t.prototype.drawCircle=function(t,e,i){this.arcToBezier(t,e,i,i,0,2*Math.PI)},t.prototype.drawEllipse=function(t,e,i,r){var n=.5*i,o=.5*r;t+=n,e+=o,this.arcToBezier(t,e,n,o,0,2*Math.PI)},t.prototype.drawArc=function(t,e,i,r,n,o){o?n>=r&&(n-=2*Math.PI):r>=n&&(n+=2*Math.PI),this.arcToBezier(t,e,i,i,r,n,o)},t.prototype.arcToBezier=function(t,e,i,r,n,o,s){var a=.5*Math.PI,h=n,u=h;s?(u+=-a-h%a,o>u&&(u=o)):(u+=a-h%a,u>o&&(u=o));var l=t+Math.cos(h)*i,c=e+Math.sin(h)*r;(this.$lastX!=l||this.$lastY!=c)&&this.moveTo(l,c);for(var p=Math.cos(h),d=Math.sin(h),f=0;4>f;f++){var g=u-h,v=4*Math.tan(g/4)/3,y=l-d*v*i,m=c+p*v*r;p=Math.cos(u),d=Math.sin(u),l=t+p*i,c=e+d*r;var _=l+d*v*i,b=c-p*v*r;if(this.cubicCurveTo(y,m,_,b,l,c),u===o)break;h=u,s?(u=h-a,o>u&&(u=o)):(u=h+a,u>o&&(u=o))}},t}();t.Path2D=e,__reflect(e.prototype,"egret.sys.Path2D")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){t.fontMapping={}}(egret||(egret={}));var egret;!function(t){function e(){var t=Object.create(null);return t.__v8__=void 0,delete t.__v8__,t}t.createMap=e}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e,i,r,n,o,s,a,h){void 0===e&&(e=16711680),void 0===i&&(i=1),void 0===r&&(r=6),void 0===n&&(n=6),void 0===o&&(o=2),void 0===s&&(s=1),void 0===a&&(a=!1),void 0===h&&(h=!1);var u=t.call(this)||this,l=u;return l.type="glow",l.$color=e,l.$blue=255&e,l.$green=(65280&e)>>8,l.$red=e>>16,l.$alpha=i,l.$blurX=r,l.$blurY=n,l.$strength=o,l.$quality=s,l.$inner=a,l.$knockout=h,l.$uniforms.color={x:u.$red/255,y:u.$green/255,z:u.$blue/255,w:1},l.$uniforms.alpha=i,l.$uniforms.blurX=r,l.$uniforms.blurY=n,l.$uniforms.strength=o,l.$uniforms.inner=a?1:0,l.$uniforms.knockout=h?0:1,l.$uniforms.dist=0,l.$uniforms.angle=0,l.$uniforms.hideObject=0,l.onPropertyChange(),u}return __extends(e,t),Object.defineProperty(e.prototype,"color",{get:function(){return this.$color},set:function(t){this.$color!=t&&(this.$color=t,this.$blue=255&t,this.$green=(65280&t)>>8,this.$red=t>>16,this.$uniforms.color.x=this.$red/255,this.$uniforms.color.y=this.$green/255,this.$uniforms.color.z=this.$blue/255)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.$alpha},set:function(t){this.$alpha!=t&&(this.$alpha=t,this.$uniforms.alpha=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.$blurX},set:function(t){var e=this;e.$blurX!=t&&(e.$blurX=t,e.$uniforms.blurX=t,e.onPropertyChange())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.$blurY},set:function(t){var e=this;e.$blurY!=t&&(e.$blurY=t,e.$uniforms.blurY=t,e.onPropertyChange())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strength",{get:function(){return this.$strength},set:function(t){this.$strength!=t&&(this.$strength=t,this.$uniforms.strength=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.$quality},set:function(t){this.$quality!=t&&(this.$quality=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inner",{get:function(){return this.$inner},set:function(t){this.$inner!=t&&(this.$inner=t,this.$uniforms.inner=t?1:0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"knockout",{get:function(){return this.$knockout},set:function(t){this.$knockout!=t&&(this.$knockout=t,this.$uniforms.knockout=t?0:1)},enumerable:!0,configurable:!0}),e.prototype.$toJson=function(){return'{"color": '+this.$color+', "red": '+this.$red+', "green": '+this.$green+', "blue": '+this.$blue+', "alpha": '+this.$alpha+', "blurX": '+this.$blurX+', "blurY": '+this.blurY+', "strength": '+this.$strength+', "quality": '+this.$quality+', "inner": '+this.$inner+', "knockout": '+this.$knockout+"}"},e.prototype.updatePadding=function(){var t=this;t.paddingLeft=t.blurX,t.paddingRight=t.blurX,t.paddingTop=t.blurY,t.paddingBottom=t.blurY},e}(t.Filter);t.GlowFilter=e,__reflect(e.prototype,"egret.GlowFilter")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.NORMAL="normal",t.ADD="add",t.ERASE="erase",t}();t.BlendMode=e,__reflect(e.prototype,"egret.BlendMode")}(egret||(egret={})),function(t){var e;!function(t){function e(t){var e=n[t];return void 0===e?0:e}function i(t){var e=r[t];return void 0===e?"normal":e}for(var r=["normal","add","erase"],n={},o=r.length,s=0;o>s;s++){var a=r[s];n[a]=s}t.blendModeToNumber=e,t.numberToBlendMode=i}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){t.CapsStyle={NONE:"none",ROUND:"round",SQUARE:"square"}}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){}return e.compileProgram=function(i,r,n){var o=e.compileFragmentShader(i,n),s=e.compileVertexShader(i,r),a=i.createProgram();return i.attachShader(a,s),i.attachShader(a,o),i.linkProgram(a),i.getProgramParameter(a,i.LINK_STATUS)||t.$warn(1020),a},e.compileFragmentShader=function(t,i){return e._compileShader(t,i,t.FRAGMENT_SHADER)},e.compileVertexShader=function(t,i){return e._compileShader(t,i,t.VERTEX_SHADER)},e._compileShader=function(t,e,i){var r=t.createShader(i);return t.shaderSource(r,e),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS)?r:null},e.checkCanUseWebGL=function(){if(void 0==e.canUseWebGL)try{var t=document.createElement("canvas");e.canUseWebGL=!(!window.WebGLRenderingContext||!t.getContext("webgl")&&!t.getContext("experimental-webgl"))}catch(i){e.canUseWebGL=!1}return e.canUseWebGL},e.deleteWebGLTexture=function(t){if(t){var e=t.glContext;e&&e.deleteTexture(t)}},e}();t.WebGLUtils=e,__reflect(e.prototype,"egret.WebGLUtils")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e,i,r){return void 0===i&&(i=!1),void 0===r&&(r=!1),t.call(this,e,i,r)||this}return __extends(e,t),e.FOCUS_IN="focusIn",e.FOCUS_OUT="focusOut",e}(t.Event);t.FocusEvent=e,__reflect(e.prototype,"egret.FocusEvent")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.PERMISSION_DENIED="permissionDenied",e.UNAVAILABLE="unavailable",e}(t.Event);t.GeolocationEvent=e,__reflect(e.prototype,"egret.GeolocationEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1);var n=e.call(this,t,i,r)||this;return n._status=0,n}return __extends(i,e),Object.defineProperty(i.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),i.dispatchHTTPStatusEvent=function(e,r){var n=t.Event.create(i,i.HTTP_STATUS);n._status=r;var o=e.dispatchEvent(n);return t.Event.release(n),o},i.HTTP_STATUS="httpStatus",i}(t.Event);t.HTTPStatusEvent=e,__reflect(e.prototype,"egret.HTTPStatusEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,r){return void 0===i&&(i=!1),void 0===r&&(r=!1),e.call(this,t,i,r)||this}return __extends(i,e),i.dispatchIOErrorEvent=function(e){var r=t.Event.create(i,i.IO_ERROR),n=e.dispatchEvent(r);return t.Event.release(r),n},i.IO_ERROR="ioError",i}(t.Event);t.IOErrorEvent=e,__reflect(e.prototype,"egret.IOErrorEvent")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(t.Event);t.MotionEvent=e,__reflect(e.prototype,"egret.MotionEvent")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(t.Event);t.OrientationEvent=e,__reflect(e.prototype,"egret.OrientationEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,r,n,o){void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===n&&(n=0),void 0===o&&(o=0);var s=e.call(this,t,i,r)||this;return s.bytesLoaded=0,s.bytesTotal=0,s.bytesLoaded=n,s.bytesTotal=o,s}return __extends(i,e),i.dispatchProgressEvent=function(e,r,n,o){void 0===n&&(n=0),void 0===o&&(o=0);var s=t.Event.create(i,r);s.bytesLoaded=n,s.bytesTotal=o;var a=e.dispatchEvent(s);return t.Event.release(s),a},i.PROGRESS="progress",i.SOCKET_DATA="socketData",i}(t.Event);t.ProgressEvent=e,__reflect(e.prototype,"egret.ProgressEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,r){return void 0===i&&(i=!1),void 0===r&&(r=!1),e.call(this,t,i,r)||this}return __extends(i,e),i.dispatchStageOrientationEvent=function(e,r){var n=t.Event.create(i,r),o=e.dispatchEvent(n);return t.Event.release(n),o},i.ORIENTATION_CHANGE="orientationChange",i}(t.Event);t.StageOrientationEvent=e,__reflect(e.prototype,"egret.StageOrientationEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,r,n){void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===n&&(n="");var o=e.call(this,t,i,r)||this;return o.text=n,o}return __extends(i,e),i.dispatchTextEvent=function(e,r,n){var o=t.Event.create(i,r);o.text=n;var s=e.dispatchEvent(o);return t.Event.release(o),s},i.LINK="link",i}(t.Event);t.TextEvent=e,__reflect(e.prototype,"egret.TextEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,r){return e.call(this,t,i,r)||this}return __extends(i,e),i.prototype.updateAfterEvent=function(){t.sys.$requestRenderingFlag=!0},i.dispatchTimerEvent=function(e,r,n,o){var s=t.Event.create(i,r,n,o),a=e.dispatchEvent(s);return t.Event.release(s),a},i.TIMER="timer",i.TIMER_COMPLETE="timerComplete",i}(t.Event);t.TimerEvent=e,__reflect(e.prototype,"egret.TimerEvent")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i.format="image",i.$deleteSource=!0,i.source=t,i.width=t.width,i.height=t.height,i}return __extends(i,e),i.create=function(e,r,n){var o="";o="arraybuffer"===e?t.Base64Util.encode(r):r;var s="image/png";"/"===o.charAt(0)?s="image/jpeg":"R"===o.charAt(0)?s="image/gif":"i"===o.charAt(0)&&(s="image/png");var a=new Image;a.src="data:"+s+";base64,"+o,a.crossOrigin="*";var h=new i(a);return a.onload=function(){a.onload=void 0,h.source=a,h.height=a.height,h.width=a.width,n&&n(h)},h},i.prototype.$dispose=function(){"webgl"==t.Capabilities.renderMode&&this.webGLTexture&&(t.WebGLUtils.deleteWebGLTexture(this.webGLTexture),this.webGLTexture=null),this.source&&this.source.dispose&&this.source.dispose(),this.source=null,i.$dispose(this)},i.$addDisplayObject=function(t,e){if(e){var r=e.hashCode;if(r){if(!i._displayList[r])return void(i._displayList[r]=[t]);var n=i._displayList[r];n.indexOf(t)<0&&n.push(t)}}},i.$removeDisplayObject=function(t,e){if(e){var r=e.hashCode;if(r&&i._displayList[r]){var n=i._displayList[r],o=n.indexOf(t);o>=0&&n.splice(o,1)}}},i.$invalidate=function(e){if(e){var r=e.hashCode;if(r&&i._displayList[r])for(var n=i._displayList[r],o=0;o<n.length;o++){n[o]instanceof t.Bitmap&&n[o].$refreshImageData();var s=n[o];s.$renderDirty=!0;var a=s.$parent;a&&!a.$cacheDirty&&(a.$cacheDirty=!0,a.$cacheDirtyUp());var h=s.$maskedObject;h&&!h.$cacheDirty&&(h.$cacheDirty=!0,h.$cacheDirtyUp())}}},i.$dispose=function(e){if(e){var r=e.hashCode;if(r&&i._displayList[r]){for(var n=i._displayList[r],o=0,s=n;o<s.length;o++){var a=s[o];a instanceof t.Bitmap&&(a.$bitmapData=null),a.$renderDirty=!0;var h=a.$parent;h&&!h.$cacheDirty&&(h.$cacheDirty=!0,h.$cacheDirtyUp());var u=a.$maskedObject;u&&!u.$cacheDirty&&(u.$cacheDirty=!0,u.$cacheDirtyUp())}t.nativeRender&&egret_native.NativeDisplayObject.disposeBitmapData(e),delete i._displayList[r]}}},i._displayList=t.createMap(),i}(t.HashObject);t.BitmapData=e,__reflect(e.prototype,"egret.BitmapData")}(egret||(egret={}));var egret;!function(t){var e=new t.Point,i=function(i){function r(t,e,r,n,o,s){var a=i.call(this,t,e,r)||this;return a.targetChanged=!0,a.touchDown=!1,a.$initTo(n,o,s),a}return __extends(r,i),r.prototype.$initTo=function(t,e,i){this.touchPointID=+i||0,this.$stageX=+t||0,this.$stageY=+e||0},Object.defineProperty(r.prototype,"stageX",{get:function(){return this.$stageX},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"stageY",{get:function(){return this.$stageY},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"localX",{get:function(){return this.targetChanged&&this.getLocalXY(),this._localX},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"localY",{get:function(){return this.targetChanged&&this.getLocalXY(),this._localY},enumerable:!0,configurable:!0}),r.prototype.getLocalXY=function(){this.targetChanged=!1;var t=this.$target.$getInvertedConcatenatedMatrix();t.transformPoint(this.$stageX,this.$stageY,e),this._localX=e.x,this._localY=e.y},r.prototype.$setTarget=function(t){return this.$target=t,this.targetChanged=!!t,!0},r.prototype.updateAfterEvent=function(){t.sys.$requestRenderingFlag=!0},r.dispatchTouchEvent=function(e,i,n,o,s,a,h,u){if(void 0===u&&(u=!1),!n&&!e.hasEventListener(i))return!0;var l=t.Event.create(r,i,n,o);l.$initTo(s,a,h),l.touchDown=u;var c=e.dispatchEvent(l);return t.Event.release(l),c},r.TOUCH_MOVE="touchMove",r.TOUCH_BEGIN="touchBegin",r.TOUCH_END="touchEnd",r.TOUCH_CANCEL="touchCancel",r.TOUCH_TAP="touchTap",r.TOUCH_RELEASE_OUTSIDE="touchReleaseOutside",r}(t.Event);t.TouchEvent=i,__reflect(i.prototype,"egret.TouchEvent")}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){var e=function(e){function n(t,n,o){void 0===t&&(t=4),void 0===n&&(n=4),void 0===o&&(o=1);var s=e.call(this)||this,a=s;return a.type="blur",a.$blurX=t,a.$blurY=n,a.$quality=o,a.blurXFilter=new i(t),a.blurYFilter=new r(n),a.onPropertyChange(),s}return __extends(n,e),Object.defineProperty(n.prototype,"blurX",{get:function(){return this.$blurX},set:function(t){var e=this;e.$blurX!=t&&(e.$blurX=t,e.blurXFilter.blurX=t,e.onPropertyChange())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"blurY",{get:function(){return this.$blurY},set:function(t){var e=this;e.$blurY!=t&&(e.$blurY=t,e.blurYFilter.blurY=t,e.onPropertyChange())},enumerable:!0,configurable:!0}),n.prototype.$toJson=function(){return'{"blurX": '+this.$blurX+', "blurY": '+this.$blurY+', "quality": 1}'},n.prototype.updatePadding=function(){var t=this;t.paddingLeft=t.blurX,t.paddingRight=t.blurX,t.paddingTop=t.blurY,t.paddingBottom=t.blurY},n.prototype.onPropertyChange=function(){var e=this;e.updatePadding(),t.nativeRender&&(egret_native.NativeDisplayObject.setFilterPadding(e.blurXFilter.$id,0,0,e.paddingLeft,e.paddingRight),egret_native.NativeDisplayObject.setFilterPadding(e.blurYFilter.$id,e.paddingTop,e.paddingBottom,0,0),egret_native.NativeDisplayObject.setDataToFilter(e))},n}(t.Filter);t.BlurFilter=e,__reflect(e.prototype,"egret.BlurFilter");var i=function(e){function i(i){void 0===i&&(i=4);var r=e.call(this)||this;return t.nativeRender?r.type="blur":r.type="blurX",r.$uniforms.blur={x:i,y:0},r.onPropertyChange(),r}return __extends(i,e),Object.defineProperty(i.prototype,"blurX",{get:function(){return this.$uniforms.blur.x},set:function(t){this.$uniforms.blur.x=t},enumerable:!0,configurable:!0}),i}(t.Filter);__reflect(i.prototype,"BlurXFilter",["egret.IBlurXFilter"]);var r=function(e){function i(i){void 0===i&&(i=4);var r=e.call(this)||this;return t.nativeRender?r.type="blur":r.type="blurY",r.$uniforms.blur={x:0,y:i},r.onPropertyChange(),r}return __extends(i,e),Object.defineProperty(i.prototype,"blurY",{get:function(){return this.$uniforms.blur.y},set:function(t){this.$uniforms.blur.y=t},enumerable:!0,configurable:!0}),i}(t.Filter);__reflect(r.prototype,"BlurYFilter",["egret.IBlurYFilter"])}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e){void 0===e&&(e=null);var i=t.call(this)||this;return i.$matrix=[],i.matrix2=[],i.type="colorTransform",i.$uniforms.matrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],i.$uniforms.colorAdd={x:0,y:0,z:0,w:0},i.setMatrix(e),i.onPropertyChange(),i}return __extends(e,t),Object.defineProperty(e.prototype,"matrix",{get:function(){for(var t=0;20>t;t++)this.matrix2[t]=this.$matrix[t];return this.matrix2},set:function(t){this.setMatrix(t)},enumerable:!0,configurable:!0}),e.prototype.setMatrix=function(t){if(t)for(var e=0;20>e;e++)this.$matrix[e]=t[e];else for(var e=0;20>e;e++)this.$matrix[e]=0==e||6==e||12==e||18==e?1:0;for(var i=this.$matrix,r=this.$uniforms.matrix,n=this.$uniforms.colorAdd,e=0,o=0;e<i.length;e++)4===e?n.x=i[e]/255:9===e?n.y=i[e]/255:14===e?n.z=i[e]/255:19===e?n.w=i[e]/255:(r[o]=i[e],o++);this.onPropertyChange()},e.prototype.$toJson=function(){return'{"matrix": ['+this.$matrix.toString()+"]}"},e}(t.Filter);t.ColorMatrixFilter=e,__reflect(e.prototype,"egret.ColorMatrixFilter")}(egret||(egret={}));
var egret;!function(t){var e,i={},r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),o=0,s=function(){for(var t=0;36>t;t++)8===t||13===t||18===t||23===t?n[t]="-":14===t?n[t]="4":(2>=o&&(o=33554432+16777216*Math.random()|0),e=15&o,o>>=4,n[t]=r[19===t?3&e|8:e]);return n.join("")},a=function(e){function r(t,r,n){void 0===n&&(n={});var o=e.call(this)||this;o.$padding=0,o.$vertexSrc=t,o.$fragmentSrc=r;var a=t+r;return i[a]||(i[a]=s()),o.$shaderKey=i[a],o.$uniforms=n,o.type="custom",o}return __extends(r,e),Object.defineProperty(r.prototype,"padding",{get:function(){return this.$padding},set:function(t){var e=this;e.$padding!=t&&(e.$padding=t,e.onPropertyChange())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"uniforms",{get:function(){return this.$uniforms},enumerable:!0,configurable:!0}),r.prototype.onPropertyChange=function(){if(t.nativeRender){var e=this;egret_native.NativeDisplayObject.setFilterPadding(e.$id,e.$padding,e.$padding,e.$padding,e.$padding),egret_native.NativeDisplayObject.setDataToFilter(e)}},r}(t.Filter);t.CustomFilter=a,__reflect(a.prototype,"egret.CustomFilter")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,r,n,o,s,a,h,u,l,c){void 0===t&&(t=4),void 0===i&&(i=45),void 0===r&&(r=0),void 0===n&&(n=1),void 0===o&&(o=4),void 0===s&&(s=4),void 0===a&&(a=1),void 0===h&&(h=1),void 0===u&&(u=!1),void 0===l&&(l=!1),void 0===c&&(c=!1);var p=e.call(this,r,n,o,s,a,h,u,l)||this,d=p;return d.$distance=t,d.$angle=i,d.$hideObject=c,d.$uniforms.dist=t,d.$uniforms.angle=i/180*Math.PI,d.$uniforms.hideObject=c?1:0,d.onPropertyChange(),p}return __extends(i,e),Object.defineProperty(i.prototype,"distance",{get:function(){return this.$distance},set:function(t){var e=this;e.$distance!=t&&(e.$distance=t,e.$uniforms.dist=t,e.onPropertyChange())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"angle",{get:function(){return this.$angle},set:function(t){var e=this;e.$angle!=t&&(e.$angle=t,e.$uniforms.angle=t/180*Math.PI,e.onPropertyChange())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hideObject",{get:function(){return this.$hideObject},set:function(t){this.$hideObject!=t&&(this.$hideObject=t,this.$uniforms.hideObject=t?1:0)},enumerable:!0,configurable:!0}),i.prototype.$toJson=function(){return'{"distance": '+this.$distance+', "angle": '+this.$angle+', "color": '+this.$color+', "red": '+this.$red+', "green": '+this.$green+', "blue": '+this.$blue+', "alpha": '+this.$alpha+', "blurX": '+this.$blurX+', "blurY": '+this.blurY+', "strength": '+this.$strength+', "quality": '+this.$quality+', "inner": '+this.$inner+', "knockout": '+this.$knockout+', "hideObject": '+this.$hideObject+"}"},i.prototype.updatePadding=function(){var e=this;e.paddingLeft=e.blurX,e.paddingRight=e.blurX,e.paddingTop=e.blurY,e.paddingBottom=e.blurY;var i=e.distance||0,r=e.angle||0,n=0,o=0;0!=i&&(n=i*t.NumberUtils.cos(r),n=n>0?Math.ceil(n):Math.floor(n),o=i*t.NumberUtils.sin(r),o=o>0?Math.ceil(o):Math.floor(o),e.paddingLeft+=n,e.paddingRight+=n,e.paddingTop+=o,e.paddingBottom+=o)},i}(t.GlowFilter);t.DropShadowFilter=e,__reflect(e.prototype,"egret.DropShadowFilter")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.LINEAR="linear",t.RADIAL="radial",t}();t.GradientType=e,__reflect(e.prototype,"egret.GradientType")}(egret||(egret={}));var egret;!function(t){function e(t){return t%=2*Math.PI,0>t&&(t+=2*Math.PI),t}function i(t,e){for(var i=[],n=0;e>n;n++){var o=r(t,n/e);o&&i.push(o)}return i}function r(e,i){var r=0,s=0,a=0,h=e.length;if(h/2==3){var u=e[r++],l=e[r++],c=e[r++],p=e[r++],d=e[r++],f=e[r++];s=n(u,c,d,i),a=n(l,p,f,i)}else if(h/2==4){var u=e[r++],l=e[r++],c=e[r++],p=e[r++],d=e[r++],f=e[r++],g=e[r++],v=e[r++];s=o(u,c,d,g,i),a=o(l,p,f,v,i)}return t.Point.create(s,a)}function n(t,e,i,r){var n=Math.pow(1-r,2)*t+2*r*(1-r)*e+Math.pow(r,2)*i;return n}function o(t,e,i,r,n){var o=Math.pow(1-n,3)*t+3*n*Math.pow(1-n,2)*e+3*(1-n)*Math.pow(n,2)*i+Math.pow(n,3)*r;return o}var s=function(r){function n(){var e=r.call(this)||this;return e.lastX=0,e.lastY=0,e.fillPath=null,e.strokePath=null,e.topLeftStrokeWidth=0,e.bottomRightStrokeWidth=0,e.minX=1/0,e.minY=1/0,e.maxX=-(1/0),e.maxY=-(1/0),e.includeLastPosition=!0,e.$renderNode=new t.sys.GraphicsNode,e}return __extends(n,r),n.prototype.$setTarget=function(e){this.$targetDisplay&&(this.$targetDisplay.$renderNode=null),e.$renderNode=this.$renderNode,this.$targetDisplay=e,this.$targetIsSprite=e instanceof t.Sprite},n.prototype.setStrokeWidth=function(t){switch(t){case 1:this.topLeftStrokeWidth=0,this.bottomRightStrokeWidth=1;break;case 3:this.topLeftStrokeWidth=1,this.bottomRightStrokeWidth=2;break;default:var e=0|Math.ceil(.5*t);this.topLeftStrokeWidth=e,this.bottomRightStrokeWidth=e}},n.prototype.beginFill=function(e,i){void 0===i&&(i=1),e=+e||0,i=+i||0,t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setBeginFill(e,i),this.fillPath=this.$renderNode.beginFill(e,i,this.strokePath),this.$renderNode.drawData.length>1&&this.fillPath.moveTo(this.lastX,this.lastY)},n.prototype.beginGradientFill=function(e,i,r,n,o){void 0===o&&(o=null),t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setBeginGradientFill(e,i,r,n,o),this.fillPath=this.$renderNode.beginGradientFill(e,i,r,n,o,this.strokePath),this.$renderNode.drawData.length>1&&this.fillPath.moveTo(this.lastX,this.lastY)},n.prototype.endFill=function(){t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setEndFill(),this.fillPath=null},n.prototype.lineStyle=function(e,i,r,n,o,s,a,h,u){void 0===e&&(e=0/0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=!1),void 0===o&&(o="normal"),void 0===s&&(s=null),void 0===a&&(a=null),void 0===h&&(h=3),e=+e||0,i=+i||0,r=+r||0,h=+h||0,t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setLineStyle(e,i,r,n,o,s,a,h),0>=e?(this.strokePath=null,this.setStrokeWidth(0)):(this.setStrokeWidth(e),this.strokePath=this.$renderNode.lineStyle(e,i,r,s,a,h,u),this.$renderNode.drawData.length>1&&this.strokePath.moveTo(this.lastX,this.lastY))},n.prototype.drawRect=function(e,i,r,n){e=+e||0,i=+i||0,r=+r||0,n=+n||0,t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setDrawRect(e,i,r,n);var o=this.fillPath,s=this.strokePath;o&&o.drawRect(e,i,r,n),s&&s.drawRect(e,i,r,n),this.extendBoundsByPoint(e+r,i+n),this.updatePosition(e,i),this.dirty()},n.prototype.drawRoundRect=function(e,i,r,n,o,s){e=+e||0,i=+i||0,r=+r||0,n=+n||0,o=+o||0,s=+s||0,t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setDrawRoundRect(e,i,r,n,o,s);var a=this.fillPath,h=this.strokePath;a&&a.drawRoundRect(e,i,r,n,o,s),h&&h.drawRoundRect(e,i,r,n,o,s);var u=.5*o|0,l=s?.5*s|0:u,c=e+r,p=i+n,d=p-l;this.extendBoundsByPoint(e,i),this.extendBoundsByPoint(c,p),this.updatePosition(c,d),this.dirty()},n.prototype.drawCircle=function(e,i,r){e=+e||0,i=+i||0,r=+r||0,t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setDrawCircle(e,i,r);var n=this.fillPath,o=this.strokePath;n&&n.drawCircle(e,i,r),o&&o.drawCircle(e,i,r),this.extendBoundsByPoint(e-r-1,i-r-1),this.extendBoundsByPoint(e+r+2,i+r+2),this.updatePosition(e+r,i),this.dirty()},n.prototype.drawEllipse=function(e,i,r,n){e=+e||0,i=+i||0,r=+r||0,n=+n||0,t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setDrawEllipse(e,i,r,n);var o=this.fillPath,s=this.strokePath;o&&o.drawEllipse(e,i,r,n),s&&s.drawEllipse(e,i,r,n),this.extendBoundsByPoint(e-1,i-1),this.extendBoundsByPoint(e+r+2,i+n+2),this.updatePosition(e+r,i+.5*n),this.dirty()},n.prototype.moveTo=function(e,i){e=+e||0,i=+i||0,t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setMoveTo(e,i);var r=this.fillPath,n=this.strokePath;r&&r.moveTo(e,i),n&&n.moveTo(e,i),this.includeLastPosition=!1,this.lastX=e,this.lastY=i,this.dirty()},n.prototype.lineTo=function(e,i){e=+e||0,i=+i||0,t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setLineTo(e,i);var r=this.fillPath,n=this.strokePath;r&&r.lineTo(e,i),n&&n.lineTo(e,i),this.updatePosition(e,i),this.dirty()},n.prototype.curveTo=function(e,r,n,o){e=+e||0,r=+r||0,n=+n||0,o=+o||0,t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setCurveTo(e,r,n,o);var s=this.fillPath,a=this.strokePath;s&&s.curveTo(e,r,n,o),a&&a.curveTo(e,r,n,o);for(var h=this.lastX||0,u=this.lastY||0,l=i([h,u,e,r,n,o],50),c=0;c<l.length;c++){var p=l[c];this.extendBoundsByPoint(p.x,p.y),t.Point.release(p)}this.extendBoundsByPoint(n,o),this.updatePosition(n,o),this.dirty()},n.prototype.cubicCurveTo=function(e,r,n,o,s,a){e=+e||0,r=+r||0,n=+n||0,o=+o||0,s=+s||0,a=+a||0,t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setCubicCurveTo(e,r,n,o,s,a);var h=this.fillPath,u=this.strokePath;h&&h.cubicCurveTo(e,r,n,o,s,a),u&&u.cubicCurveTo(e,r,n,o,s,a);for(var l=this.lastX||0,c=this.lastY||0,p=i([l,c,e,r,n,o,s,a],50),d=0;d<p.length;d++){var f=p[d];this.extendBoundsByPoint(f.x,f.y),t.Point.release(f)}this.extendBoundsByPoint(s,a),this.updatePosition(s,a),this.dirty()},n.prototype.drawArc=function(i,r,n,o,s,a){if(!(0>n||o===s)){i=+i||0,r=+r||0,n=+n||0,o=+o||0,s=+s||0,a=!!a,o=e(o),s=e(s),t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setDrawArc(i,r,n,o,s,a);var h=this.fillPath,u=this.strokePath;h&&(h.$lastX=this.lastX,h.$lastY=this.lastY,h.drawArc(i,r,n,o,s,a)),u&&(u.$lastX=this.lastX,u.$lastY=this.lastY,u.drawArc(i,r,n,o,s,a)),a?this.arcBounds(i,r,n,s,o):this.arcBounds(i,r,n,o,s);var l=i+Math.cos(s)*n,c=r+Math.sin(s)*n;this.updatePosition(l,c),this.dirty()}},n.prototype.dirty=function(){var e=this;if(e.$renderNode.dirtyRender=!0,!t.nativeRender){var i=e.$targetDisplay;i.$cacheDirty=!0;var r=i.$parent;r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp());var n=i.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}},n.prototype.arcBounds=function(t,e,i,r,n){var o=Math.PI;if(Math.abs(r-n)<.01)return this.extendBoundsByPoint(t-i,e-i),void this.extendBoundsByPoint(t+i,e+i);r>n&&(n+=2*o);for(var s=Math.cos(r)*i,a=Math.cos(n)*i,h=Math.min(s,a),u=Math.max(s,a),l=Math.sin(r)*i,c=Math.sin(n)*i,p=Math.min(l,c),d=Math.max(l,c),f=r/(.5*o),g=n/(.5*o),v=Math.ceil(f);g>=v;v++)switch(v%4){case 0:u=i;break;case 1:d=i;break;case 2:h=-i;break;case 3:p=-i}h=Math.floor(h),p=Math.floor(p),u=Math.ceil(u),d=Math.ceil(d),this.extendBoundsByPoint(h+t,p+e),this.extendBoundsByPoint(u+t,d+e)},n.prototype.clear=function(){t.nativeRender&&this.$targetDisplay.$nativeDisplayObject.setGraphicsClear(),this.$renderNode.clear(),this.updatePosition(0,0),this.minX=1/0,this.minY=1/0,this.maxX=-(1/0),this.maxY=-(1/0),this.dirty()},n.prototype.extendBoundsByPoint=function(t,e){this.extendBoundsByX(t),this.extendBoundsByY(e)},n.prototype.extendBoundsByX=function(t){this.minX=Math.min(this.minX,t-this.topLeftStrokeWidth),this.maxX=Math.max(this.maxX,t+this.bottomRightStrokeWidth),this.updateNodeBounds()},n.prototype.extendBoundsByY=function(t){this.minY=Math.min(this.minY,t-this.topLeftStrokeWidth),this.maxY=Math.max(this.maxY,t+this.bottomRightStrokeWidth),this.updateNodeBounds()},n.prototype.updateNodeBounds=function(){var t=this.$renderNode;t.x=this.minX,t.y=this.minY,t.width=Math.ceil(this.maxX-this.minX),t.height=Math.ceil(this.maxY-this.minY)},n.prototype.updatePosition=function(t,e){this.includeLastPosition||(this.extendBoundsByPoint(this.lastX,this.lastY),this.includeLastPosition=!0),this.lastX=t,this.lastY=e,this.extendBoundsByPoint(t,e)},n.prototype.$measureContentBounds=function(t){this.minX===1/0?t.setEmpty():t.setTo(this.minX,this.minY,this.maxX-this.minX,this.maxY-this.minY)},n.prototype.$hitTest=function(e,i){var r=this.$targetDisplay,n=r.$getInvertedConcatenatedMatrix(),o=n.a*e+n.c*i+n.tx,s=n.b*e+n.d*i+n.ty,a=t.sys.canvasHitTestBuffer;a.resize(3,3);var h=this.$renderNode,u=t.Matrix.create();u.identity(),u.translate(1-o,1-s),t.sys.canvasRenderer.drawNodeToBuffer(h,a,u,!0),t.Matrix.release(u);try{var l=a.getPixels(1,1);if(0===l[3])return null}catch(c){throw new Error(t.sys.tr(1039))}return r},n.prototype.$onRemoveFromStage=function(){this.$renderNode&&this.$renderNode.clean(),t.nativeRender&&egret_native.NativeDisplayObject.disposeGraphicData(this)},n}(t.HashObject);t.Graphics=s,__reflect(s.prototype,"egret.Graphics")}(egret||(egret={}));var egret;!function(t){var e=Math.PI,i=2*e,r=e/180,n=[],o=function(o){function s(t,e,i,r,n,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===n&&(n=0),void 0===s&&(s=0);var a=o.call(this)||this;return a.a=t,a.b=e,a.c=i,a.d=r,a.tx=n,a.ty=s,a}return __extends(s,o),s.release=function(t){t&&n.push(t)},s.create=function(){var t=n.pop();return t||(t=new s),t},s.prototype.clone=function(){return new s(this.a,this.b,this.c,this.d,this.tx,this.ty)},s.prototype.concat=function(t){var e=this.a*t.a,i=0,r=0,n=this.d*t.d,o=this.tx*t.a+t.tx,s=this.ty*t.d+t.ty;(0!==this.b||0!==this.c||0!==t.b||0!==t.c)&&(e+=this.b*t.c,n+=this.c*t.b,i+=this.a*t.b+this.b*t.d,r+=this.c*t.a+this.d*t.c,o+=this.ty*t.c,s+=this.tx*t.b),this.a=e,this.b=i,this.c=r,this.d=n,this.tx=o,this.ty=s},s.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},s.prototype.identity=function(){this.a=this.d=1,this.b=this.c=this.tx=this.ty=0},s.prototype.invert=function(){this.$invertInto(this)},s.prototype.$invertInto=function(t){var e=this.a,i=this.b,r=this.c,n=this.d,o=this.tx,s=this.ty;if(0==i&&0==r)return t.b=t.c=0,void(0==e||0==n?t.a=t.d=t.tx=t.ty=0:(e=t.a=1/e,n=t.d=1/n,t.tx=-e*o,t.ty=-n*s));var a=e*n-i*r;if(0==a)return void t.identity();a=1/a;var h=t.a=n*a;i=t.b=-i*a,r=t.c=-r*a,n=t.d=e*a,t.tx=-(h*o+r*s),t.ty=-(i*o+n*s)},s.prototype.rotate=function(e){if(e=+e,0!==e){e/=r;var i=t.NumberUtils.cos(e),n=t.NumberUtils.sin(e),o=this.a,s=this.b,a=this.c,h=this.d,u=this.tx,l=this.ty;this.a=o*i-s*n,this.b=o*n+s*i,this.c=a*i-h*n,this.d=a*n+h*i,this.tx=u*i-l*n,this.ty=u*n+l*i}},s.prototype.scale=function(t,e){1!==t&&(this.a*=t,this.c*=t,this.tx*=t),1!==e&&(this.b*=e,this.d*=e,this.ty*=e)},s.prototype.setTo=function(t,e,i,r,n,o){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=n,this.ty=o,this},s.prototype.transformPoint=function(e,i,r){var n=this.a*e+this.c*i+this.tx,o=this.b*e+this.d*i+this.ty;return r?(r.setTo(n,o),r):new t.Point(n,o)},s.prototype.translate=function(t,e){this.tx+=t,this.ty+=e},s.prototype.equals=function(t){return this.a==t.a&&this.b==t.b&&this.c==t.c&&this.d==t.d&&this.tx==t.tx&&this.ty==t.ty},s.prototype.prepend=function(t,e,i,r,n,o){var s=this.tx;if(1!=t||0!=e||0!=i||1!=r){var a=this.a,h=this.c;this.a=a*t+this.b*i,this.b=a*e+this.b*r,this.c=h*t+this.d*i,this.d=h*e+this.d*r}return this.tx=s*t+this.ty*i+n,this.ty=s*e+this.ty*r+o,this},s.prototype.append=function(t,e,i,r,n,o){var s=this.a,a=this.b,h=this.c,u=this.d;return(1!=t||0!=e||0!=i||1!=r)&&(this.a=t*s+e*h,this.b=t*a+e*u,this.c=i*s+r*h,this.d=i*a+r*u),this.tx=n*s+o*h+this.tx,this.ty=n*a+o*u+this.ty,this},s.prototype.deltaTransformPoint=function(e){var i=this,r=i.a*e.x+i.c*e.y,n=i.b*e.x+i.d*e.y;return new t.Point(r,n)},s.prototype.toString=function(){return"(a="+this.a+", b="+this.b+", c="+this.c+", d="+this.d+", tx="+this.tx+", ty="+this.ty+")"},s.prototype.createBox=function(e,i,n,o,s){void 0===n&&(n=0),void 0===o&&(o=0),void 0===s&&(s=0);var a=this;if(0!==n){n/=r;var h=t.NumberUtils.cos(n),u=t.NumberUtils.sin(n);a.a=h*e,a.b=u*i,a.c=-u*e,a.d=h*i}else a.a=e,a.b=0,a.c=0,a.d=i;a.tx=o,a.ty=s},s.prototype.createGradientBox=function(t,e,i,r,n){void 0===i&&(i=0),void 0===r&&(r=0),void 0===n&&(n=0),this.createBox(t/1638.4,e/1638.4,i,r+t/2,n+e/2)},s.prototype.$transformBounds=function(t){var e=this.a,i=this.b,r=this.c,n=this.d,o=this.tx,s=this.ty,a=t.x,h=t.y,u=a+t.width,l=h+t.height,c=e*a+r*h+o,p=i*a+n*h+s,d=e*u+r*h+o,f=i*u+n*h+s,g=e*u+r*l+o,v=i*u+n*l+s,y=e*a+r*l+o,m=i*a+n*l+s,_=0;c>d&&(_=c,c=d,d=_),g>y&&(_=g,g=y,y=_),t.x=Math.floor(g>c?c:g),t.width=Math.ceil((d>y?d:y)-t.x),p>f&&(_=p,p=f,f=_),v>m&&(_=v,v=m,m=_),t.y=Math.floor(v>p?p:v),t.height=Math.ceil((f>m?f:m)-t.y)},s.prototype.getDeterminant=function(){return this.a*this.d-this.b*this.c},s.prototype.$getScaleX=function(){var t=this;if(0==t.b)return t.a;var e=Math.sqrt(t.a*t.a+t.b*t.b);return this.getDeterminant()<0?-e:e},s.prototype.$getScaleY=function(){var t=this;if(0==t.c)return t.d;var e=Math.sqrt(t.c*t.c+t.d*t.d);return this.getDeterminant()<0?-e:e},s.prototype.$getSkewX=function(){return this.d<0?Math.atan2(this.d,this.c)+e/2:Math.atan2(this.d,this.c)-e/2},s.prototype.$getSkewY=function(){return this.a<0?Math.atan2(this.b,this.a)-e:Math.atan2(this.b,this.a)},s.prototype.$updateScaleAndRotation=function(e,n,o,s){if(!(0!=o&&o!=i||0!=s&&s!=i))return this.a=e,this.b=this.c=0,void(this.d=n);o/=r,s/=r;var a=t.NumberUtils.cos(o),h=t.NumberUtils.sin(o);o==s?(this.a=a*e,this.b=h*e):(this.a=t.NumberUtils.cos(s)*e,this.b=t.NumberUtils.sin(s)*e),this.c=-h*n,this.d=a*n},s.prototype.$preMultiplyInto=function(t,e){var i=t.a*this.a,r=0,n=0,o=t.d*this.d,s=t.tx*this.a+this.tx,a=t.ty*this.d+this.ty;(0!==t.b||0!==t.c||0!==this.b||0!==this.c)&&(i+=t.b*this.c,o+=t.c*this.b,r+=t.a*this.b+t.b*this.d,n+=t.c*this.a+t.d*this.c,s+=t.ty*this.c,a+=t.tx*this.b),e.a=i,e.b=r,e.c=n,e.d=o,e.tx=s,e.ty=a},s}(t.HashObject);t.Matrix=o,__reflect(o.prototype,"egret.Matrix"),t.$TempMatrix=new o}(egret||(egret={}));var egret;!function(t){var e=[],i=function(i){function r(t,e,r,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===r&&(r=0),void 0===n&&(n=0);var o=i.call(this)||this;return o.x=t,o.y=e,o.width=r,o.height=n,o}return __extends(r,i),r.release=function(t){t&&e.push(t)},r.create=function(){var t=e.pop();return t||(t=new r),t},Object.defineProperty(r.prototype,"right",{get:function(){return this.x+this.width},set:function(t){this.width=t-this.x},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bottom",{get:function(){return this.y+this.height},set:function(t){this.height=t-this.y},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"left",{get:function(){return this.x},set:function(t){this.width+=this.x-t,this.x=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"top",{get:function(){return this.y},set:function(t){this.height+=this.y-t,this.y=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"topLeft",{get:function(){return new t.Point(this.left,this.top)},set:function(t){this.top=t.y,this.left=t.x},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"bottomRight",{get:function(){return new t.Point(this.right,this.bottom)},set:function(t){this.bottom=t.y,this.right=t.x},enumerable:!0,configurable:!0}),r.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},r.prototype.setTo=function(t,e,i,r){return this.x=t,this.y=e,this.width=i,this.height=r,this},r.prototype.contains=function(t,e){return this.x<=t&&this.x+this.width>=t&&this.y<=e&&this.y+this.height>=e},r.prototype.intersection=function(t){return this.clone().$intersectInPlace(t)},r.prototype.inflate=function(t,e){this.x-=t,this.width+=2*t,this.y-=e,this.height+=2*e},r.prototype.$intersectInPlace=function(t){var e=this.x,i=this.y,r=t.x,n=t.y,o=Math.max(e,r),s=Math.min(e+this.width,r+t.width);if(s>=o){var a=Math.max(i,n),h=Math.min(i+this.height,n+t.height);if(h>=a)return this.setTo(o,a,s-o,h-a),this}return this.setEmpty(),this},r.prototype.intersects=function(t){return Math.max(this.x,t.x)<=Math.min(this.right,t.right)&&Math.max(this.y,t.y)<=Math.min(this.bottom,t.bottom)},r.prototype.isEmpty=function(){return this.width<=0||this.height<=0},r.prototype.setEmpty=function(){this.x=0,this.y=0,this.width=0,this.height=0},r.prototype.clone=function(){return new r(this.x,this.y,this.width,this.height)},r.prototype.containsPoint=function(t){return this.x<=t.x&&this.x+this.width>t.x&&this.y<=t.y&&this.y+this.height>t.y?!0:!1},r.prototype.containsRect=function(t){var e=t.x+t.width,i=t.y+t.height,r=this.x+this.width,n=this.y+this.height;return t.x>=this.x&&t.x<r&&t.y>=this.y&&t.y<n&&e>this.x&&r>=e&&i>this.y&&n>=i},r.prototype.equals=function(t){return this===t?!0:this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height},r.prototype.inflatePoint=function(t){this.inflate(t.x,t.y)},r.prototype.offset=function(t,e){this.x+=t,this.y+=e},r.prototype.offsetPoint=function(t){this.offset(t.x,t.y)},r.prototype.toString=function(){return"(x="+this.x+", y="+this.y+", width="+this.width+", height="+this.height+")"},r.prototype.union=function(t){var e=this.clone();if(t.isEmpty())return e;if(e.isEmpty())return e.copyFrom(t),e;var i=Math.min(e.x,t.x),r=Math.min(e.y,t.y);return e.setTo(i,r,Math.max(e.right,t.right)-i,Math.max(e.bottom,t.bottom)-r),e},r.prototype.$getBaseWidth=function(t){var e=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t));return e*this.width+i*this.height},r.prototype.$getBaseHeight=function(t){var e=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t));return i*this.width+e*this.height},r}(t.HashObject);t.Rectangle=i,__reflect(i.prototype,"egret.Rectangle"),t.$TempRectangle=new i}(egret||(egret={}));var egret;!function(t){t.$locale_strings=t.$locale_strings||{},t.$locale_strings.en_US=t.$locale_strings.en_US||{};var e=t.$locale_strings.en_US;e[1001]="Could not find Egret entry class: {0}。",e[1002]="Egret entry class '{0}' must inherit from egret.DisplayObject.",e[1003]="Parameter {0} must be non-null.",e[1004]="An object cannot be added as a child to one of it's children (or children's children, etc.).",e[1005]="An object cannot be added as a child of itself.",e[1006]="The supplied DisplayObject must be a child of the caller.",e[1007]="An index specified for a parameter was out of range.",e[1008]="Instantiate singleton error，singleton class {0} can not create multiple instances.",e[1009]='the Class {0} cannot use the property "{1}"',e[1010]='the property "{1}" of the Class "{0}" is readonly',e[1011]="Stream Error. URL: {0}",e[1012]="The type of parameter {0} must be Class.",e[1013]="Variable assignment is NaN, please see the code!",e[1014]='the constant "{1}" of the Class "{0}" is read-only',e[1015]="xml not found!",e[1016]="{0}has been obsoleted",e[1017]="The format of JSON file is incorrect: {0}\ndata: {1}",e[1018]="the scale9Grid is not correct",e[1019]="Network ab:{0}",e[1020]="Cannot initialize Shader",e[1021]="Current browser does not support webgl",e[1022]="{0} ArgumentError",e[1023]="This method is not available in the ScrollView!",e[1025]="end of the file",e[1026]="! EncodingError The code point {0} could not be encoded.",e[1027]="DecodingError",e[1028]=". called injection is not configured rule: {0}, please specify configuration during its initial years of injection rule, and then call the corresponding single case.",e[1029]="Function.prototype.bind - what is trying to be bound is not callable",e[1033]="Photos can not be used across domains toDataURL to convert base64",e[1034]='Music file decoding failed: "{0}", please use the standard conversion tool reconversion under mp3.',e[1035]="Native does not support this feature!",e[1036]="Sound has stopped, please recall Sound.play () to play the sound!",e[1037]="Non-load the correct blob!",e[1038]="XML format error!",e[1039]="Cross domains pictures can not get pixel information!",e[1040]="hitTestPoint can not detect crossOrigin images! Please check if the display object has crossOrigin elements.",e[1041]="{0} is deprecated, please use {1} replace",e[1042]="The parameters passed in the region needs is an integer in drawToTexture method. Otherwise, some browsers will draw abnormal.",e[1043]="Compile errors in {0}, the attribute name: {1}, the attribute value: {2}.",e[1044]="The current version of the Runtime does not support video playback, please use the latest version",e[1045]="The resource url is not found",e[1046]="BitmapText no corresponding characters: {0}, please check the configuration file",e[1047]="egret.localStorage.setItem save failed,key={0}&value={1}",e[1048]="Video loading failed",e[1049]="In the absence of sound is not allowed to play after loading",e[1050]="ExternalInterface calls the method without js registration: {0}",e[3e3]="Theme configuration file failed to load: {0}",e[3001]="Cannot find the skin name which is configured in Theme: {0}",e[3002]='Index:"{0}" is out of the collection element index range',e[3003]="Cannot be available in this component. If this component is container, please continue to use",e[3004]="addChild(){0}addElement() replace",e[3005]="addChildAt(){0}addElementAt() replace",e[3006]="removeChild(){0}removeElement() replace",e[3007]="removeChildAt(){0}removeElementAt() replace",e[3008]="setChildIndex(){0}setElementIndex() replace",e[3009]="swapChildren(){0}swapElements() replace",e[3010]="swapChildrenAt(){0}swapElementsAt() replace",e[3011]='Index:"{0}" is out of the visual element index range',e[3012]="This method is not available in Scroller component!",e[3013]="UIStage is GUI root container, and only one such instant is in the display list！",e[3014]="set fullscreen error",e[3100]="Current browser does not support WebSocket",e[3101]="Please connect Socket firstly",e[3102]="Please set the type of binary type",e[4e3]="An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",e[4001]="Abstract class can not be instantiated!",e[4002]="Unnamed data!",e[4003]="Nonsupport version!"}(egret||(egret={}));var egret;!function(t){t.JointStyle={BEVEL:"bevel",MITER:"miter",ROUND:"round"}}(egret||(egret={}));var egret;!function(t){t.$locale_strings=t.$locale_strings||{},t.$locale_strings.zh_CN=t.$locale_strings.zh_CN||{};var e=t.$locale_strings.zh_CN;e[1001]="找不到Egret入口类: {0}。",e[1002]="Egret入口类 {0} 必须继承自egret.DisplayObject。",e[1003]="参数 {0} 不能为 null。",e[1004]="无法将对象添加为它的一个子对象（或子对象的子对象等）的子对象。",e[1005]="不能将对象添加为其自身的子对象。",e[1006]="提供的 DisplayObject 必须是调用者的子级。",e[1007]="为参数指定的索引不在范围内。",e[1008]="实例化单例出错，不允许实例化多个 {0} 对象。",e[1009]="类 {0} 不可以使用属性 {1}",e[1010]="类 {0} 属性 {1} 是只读的",e[1011]="流错误。URL: {0}",e[1012]="参数 {0} 的类型必须为 Class。",e[1013]="变量赋值为NaN，请查看代码！",e[1014]="类 {0} 常量 {1} 是只读的",e[1015]="xml not found!",e[1016]="{0}已经废弃",e[1017]="JSON文件格式不正确: {0}\ndata: {1}",e[1018]="9宫格设置错误",e[1019]="网络异常:{0}",e[1020]="无法初始化着色器",e[1021]="当前浏览器不支持webgl",e[1022]="{0} ArgumentError",e[1023]="此方法在ScrollView内不可用!",e[1025]="遇到文件尾",e[1026]="EncodingError! The code point {0} could not be encoded.",e[1027]="DecodingError",e[1028]="调用了未配置的注入规则:{0}。 请先在项目初始化里配置指定的注入规则，再调用对应单例。",e[1029]="Function.prototype.bind - what is trying to be bound is not callable",e[1033]="跨域图片不可以使用toDataURL来转换成base64",e[1034]='音乐文件解码失败："{0}"，请使用标准的转换工具重新转换下mp3。',e[1035]="Native 下暂未实现此功能！",e[1036]="声音已停止，请重新调用 Sound.play() 来播放声音！",e[1037]="非正确的blob加载！",e[1038]="XML 格式错误!",e[1039]="跨域图片不能获取像素信息!",e[1040]="hitTestPoint 不能对跨域图片进行检测! 请检查该显示对象内是否含有跨域元素",e[1041]="{0} 已废弃,请使用 {1} 代替",e[1042]="drawToTexture方法传入的区域各个参数需要为整数,否则某些浏览器绘制会出现异常",e[1043]="{0} 中存在编译错误，属性名 : {1}，属性值 : {2}",e[1044]="当前的 runtime 版本不支持视频播放,请使用最新的版本",e[1045]="没有设置要加载的资源地址",e[1046]="BitmapText 找不到对应字符:{0}，请检查配置文件",e[1047]="egret.localStorage.setItem保存失败,key={0}&value={1}",e[1048]="视频加载失败",e[1049]="声音在没有加载完之前不允许播放",e[1050]="ExternalInterface调用了js没有注册的方法: {0}",e[3e3]="主题配置文件加载失败: {0}",e[3001]="找不到主题中所配置的皮肤类名: {0}",e[3002]='索引:"{0}"超出集合元素索引范围',e[3003]="在此组件中不可用，若此组件为容器类，请使用",e[3004]="addChild(){0}addElement()代替",e[3005]="addChildAt(){0}addElementAt()代替",e[3006]="removeChild(){0}removeElement()代替",e[3007]="removeChildAt(){0}removeElementAt()代替",e[3008]="setChildIndex(){0}setElementIndex()代替",e[3009]="swapChildren(){0}swapElements()代替",e[3010]="swapChildrenAt(){0}swapElementsAt()代替",e[3011]='索引:"{0}"超出可视元素索引范围',e[3012]="此方法在Scroller组件内不可用!",e[3013]="UIStage是GUI根容器，只能有一个此实例在显示列表中！",e[3014]="设置全屏模式失败",e[3100]="当前浏览器不支持WebSocket",e[3101]="请先连接WebSocket",e[3102]="请先设置type为二进制类型",e[4e3]="An Bone cannot be added as a child to itself or one of its children (or children's children, etc.)",e[4001]="Abstract class can not be instantiated!",e[4002]="Unnamed data!",e[4003]="Nonsupport version!"}(egret||(egret={}));var egret;!function(t){var e;!function(t){}(e=t.localStorage||(t.localStorage={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){function e(t){r.indexOf(t)<0&&r.push(t)}function i(t){var e=r.indexOf(t);return e>=0?(r.splice(e,1),!0):!1}var r=[];t.$pushSoundChannel=e,t.$popSoundChannel=i}(e=t.sys||(t.sys={}))}(egret||(egret={})),function(t){}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){var e;!function(t){t.GET="GET",t.POST="POST"}(e=t.HttpMethod||(t.HttpMethod={}))}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.TEXT="text",t.ARRAY_BUFFER="arraybuffer",t}();t.HttpResponseType=e,__reflect(e.prototype,"egret.HttpResponseType")}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(i){function r(r){var n=i.call(this)||this;return n.isStage=!1,n.$renderNode=new e.BitmapNode,n.renderBuffer=null,n.offsetX=0,n.offsetY=0,n.offsetMatrix=new t.Matrix,n.$canvasScaleX=1,n.$canvasScaleY=1,n.root=r,n.isStage=r instanceof t.Stage,n}return __extends(r,i),r.create=function(i){var r=new t.sys.DisplayList(i);try{var n=new e.RenderBuffer;r.renderBuffer=n}catch(o){return null}return r.root=i,r},r.prototype.$getRenderNode=function(){return this.$renderNode},r.prototype.setClipRect=function(t,e){t*=r.$canvasScaleX,e*=r.$canvasScaleY,this.renderBuffer.resize(t,e)},r.prototype.drawToSurface=function(){var i=0;this.$canvasScaleX=this.offsetMatrix.a=r.$canvasScaleX,this.$canvasScaleY=this.offsetMatrix.d=r.$canvasScaleY,this.isStage||this.changeSurfaceSize();var n=this.renderBuffer;if(n.clear(),i=e.systemRenderer.render(this.root,n,this.offsetMatrix),!this.isStage){var o=n.surface,s=this.$renderNode;s.drawData.length=0;var a=o.width,h=o.height;this.bitmapData?(this.bitmapData.source=o,this.bitmapData.width=a,this.bitmapData.height=h):this.bitmapData=new t.BitmapData(o),s.image=this.bitmapData,s.imageWidth=a,s.imageHeight=h,s.drawImage(0,0,a,h,-this.offsetX,-this.offsetY,a/this.$canvasScaleX,h/this.$canvasScaleY)}return i},r.prototype.changeSurfaceSize=function(){var t=(this.root,this.offsetX),e=this.offsetY,i=this.root.$getOriginalBounds(),r=this.$canvasScaleX,n=this.$canvasScaleY;this.offsetX=-i.x,this.offsetY=-i.y,this.offsetMatrix.setTo(this.offsetMatrix.a,0,0,this.offsetMatrix.d,this.offsetX,this.offsetY);var o=this.renderBuffer,s=Math.max(257,i.width*r),a=Math.max(257,i.height*n);(this.offsetX!=t||this.offsetY!=e||o.surface.width!=s||o.surface.height!=a)&&o.resize(s,a)},r.$setCanvasScale=function(e,i){r.$canvasScaleX=e,r.$canvasScaleY=i,t.nativeRender&&egret_native.nrSetCanvasScaleFactor(r.$canvasScaleFactor,e,i)},r.$canvasScaleFactor=1,r.$canvasScaleX=1,r.$canvasScaleY=1,r}(t.HashObject);e.DisplayList=i,__reflect(i.prototype,"egret.sys.DisplayList")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){var e;!function(e){function i(t){for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e}var r=function(r){function h(e,i,n){var o=r.call(this)||this;return o.isPlaying=!1,e||t.$error(1003,"buffer"),o.entryClassName=n,o.stage=i,o.screenDisplayList=o.createDisplayList(i,e),o.showFPS=!1,o.showLog=!1,o.stageDisplayList=null,t.nativeRender&&(egret_native.rootWebGLBuffer=e),o}return __extends(h,r),h.prototype.createDisplayList=function(t,i){var r=new e.DisplayList(t);return r.renderBuffer=i,t.$displayList=r,r},h.prototype.start=function(){!this.isPlaying&&this.stage&&(e.$TempStage=e.$TempStage||this.stage,this.isPlaying=!0,this.root||this.initialize(),t.ticker.$addPlayer(this))},h.prototype.initialize=function(){var e;if(this.entryClassName&&(e=t.getDefinitionByName(this.entryClassName)),e){var i=new e;this.root=i,i instanceof t.DisplayObject?this.stage.addChild(i):t.$error(1002,this.entryClassName)}else t.$error(1001,this.entryClassName)},h.prototype.stop=function(){this.pause(),this.stage=null},h.prototype.pause=function(){this.isPlaying&&(this.isPlaying=!1,t.ticker.$removePlayer(this))
},h.prototype.$render=function(e,i){if(t.nativeRender)return egret_native.updateNativeRender(),void egret_native.nrRender();var r=this.stage,o=t.getTimer(),s=r.$displayList.drawToSurface(),a=t.getTimer();e&&this.showFPS&&n.update(s,a-o,i)},h.prototype.updateStageSize=function(e,i){var r=this.stage;r.$stageWidth=e,r.$stageHeight=i,t.nativeRender?egret_native.nrResize(e,i):(this.screenDisplayList.setClipRect(e,i),this.stageDisplayList&&this.stageDisplayList.setClipRect(e,i)),r.dispatchEventWith(t.Event.RESIZE)},h.prototype.displayFPS=function(r,h,u,l){if(h=!!h,h&&(t.log=function(){for(var t=arguments.length,r="",n=0;t>n;n++)r+=arguments[n]+" ";e.$logToFPS(r),console.log.apply(console,i(arguments))},t.warn=function(){for(var t=arguments.length,r="",n=0;t>n;n++)r+=arguments[n]+" ";e.$warnToFPS(r),console.warn.apply(console,i(arguments))},t.error=function(){for(var t=arguments.length,r="",n=0;t>n;n++)r+=arguments[n]+" ";e.$errorToFPS(r),console.error.apply(console,i(arguments))}),this.showFPS=!!r,this.showLog=h,!n){n=new FPS(this.stage,r,h,u,l);for(var c=o.length,p=0;c>p;p++)n.updateInfo(o[p]);o=null;for(var d=s.length,p=0;d>p;p++)n.updateWarn(s[p]);s=null;for(var f=a.length,p=0;f>p;p++)n.updateError(a[p]);a=null}},h}(t.HashObject);e.Player=r,__reflect(r.prototype,"egret.sys.Player");var n,o=[],s=[],a=[];e.$logToFPS=function(t){return n?void n.updateInfo(t):void o.push(t)},e.$warnToFPS=function(t){return n?void n.updateWarn(t):void s.push(t)},e.$errorToFPS=function(t){return n?void n.updateError(t):void a.push(t)};var h=function(){function e(e,i,r,n,o){this.showFPS=i,this.showLog=r,this.logFilter=n,this.styles=o,this.infoLines=[],this.totalTime=0,this.totalTick=0,this.lastTime=0,this.drawCalls=0,this.costRender=0,this.costTicker=0,this.infoLines=[],this.totalTime=0,this.totalTick=0,this.lastTime=0,this.drawCalls=0,this.costRender=0,this.costTicker=0,this._stage=e,this.showFPS=i,this.showLog=r,this.logFilter=n,this.styles=o,this.fpsDisplay=new t.FPSDisplay(e,i,r,n,o);var s;try{s=n?new RegExp(n):null}catch(a){t.log(a)}this.filter=function(t){return s?s.test(t):!n||0==t.indexOf(n)}}return e.prototype.update=function(e,i,r){var n=t.getTimer();if(this.totalTime+=n-this.lastTime,this.lastTime=n,this.totalTick++,this.drawCalls+=e,this.costRender+=i,this.costTicker+=r,this.totalTime>=1e3){var o=Math.min(Math.ceil(1e3*this.totalTick/this.totalTime),t.ticker.$frameRate),s=Math.round(this.drawCalls/this.totalTick),a=Math.round(this.costRender/this.totalTick),h=Math.round(this.costTicker/this.totalTick);this.fpsDisplay.update({fps:o,draw:s,costTicker:h,costRender:a}),this.totalTick=0,this.totalTime=this.totalTime%1e3,this.drawCalls=0,this.costRender=0,this.costTicker=0}},e.prototype.updateInfo=function(t){t&&this.showLog&&this.filter(t)&&this.fpsDisplay.updateInfo(t)},e.prototype.updateWarn=function(t){t&&this.showLog&&this.filter(t)&&(this.fpsDisplay.updateWarn?this.fpsDisplay.updateWarn(t):this.fpsDisplay.updateInfo("[Warning]"+t))},e.prototype.updateError=function(t){t&&this.showLog&&this.filter(t)&&(this.fpsDisplay.updateError?this.fpsDisplay.updateError(t):this.fpsDisplay.updateInfo("[Error]"+t))},e}();__reflect(h.prototype,"FPSImpl"),__global.FPS=h,t.warn=function(){console.warn.apply(console,i(arguments))},t.error=function(){console.error.apply(console,i(arguments))},t.assert=function(){console.assert.apply(console,i(arguments))},t.log=function(){console.log.apply(console,i(arguments))}}(e=t.sys||(t.sys={}))}(egret||(egret={})),function(t){if(t.nativeRender=__global.nativeRender,t.nativeRender){var e=egret_native.nrABIVersion,i=egret_native.nrMinEgretVersion,r=4;if(r>e){t.nativeRender=!1;var n="需要升级微端版本到 0.1.8 才可以开启原生渲染加速";t.sys.$warnToFPS(n),t.warn(n)}else if(e>r){t.nativeRender=!1;var n="需要升级引擎版本到 "+i+" 才可以开启原生渲染加速";t.sys.$warnToFPS(n),t.warn(n)}}}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(i){var r=e.call(this,i)||this;return r._verticesDirty=!0,r._bounds=new t.Rectangle,r.$renderNode=new t.sys.MeshNode,r}return __extends(i,e),i.prototype.createNativeDisplayObject=function(){this.$nativeDisplayObject=new egret_native.NativeDisplayObject(12)},i.prototype.setBitmapDataToWasm=function(t){this.$nativeDisplayObject.setBitmapDataToMesh(t)},i.prototype.$updateRenderNode=function(){var e=this.$bitmapData;if(e){var i=(t.$TextureScaleFactor,this.$renderNode);i.smoothing=this.$smoothing,i.image=e,i.imageWidth=this.$sourceWidth,i.imageHeight=this.$sourceHeight;var r=isNaN(this.$explicitBitmapWidth)?this.$textureWidth:this.$explicitBitmapWidth,n=isNaN(this.$explicitBitmapHeight)?this.$textureHeight:this.$explicitBitmapHeight,o=r/this.$textureWidth,s=n/this.$textureHeight,a=this.$bitmapWidth,h=this.$bitmapHeight;i.drawMesh(this.$bitmapX,this.$bitmapY,a,h,this.$offsetX*o,this.$offsetY*s,o*a,s*h)}},i.prototype.$updateVertices=function(){var e=this;if(e._verticesDirty=!0,e.$renderDirty=!0,t.nativeRender){var i=this.$renderNode;this.$nativeDisplayObject.setDataToMesh(i.vertices,i.indices,i.uvs)}else{var r=e.$parent;r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp());var n=e.$maskedObject;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp())}},i.prototype.$measureContentBounds=function(t){if(this._verticesDirty){this._verticesDirty=!1;var e=this.$renderNode,i=e.vertices;if(i.length){this._bounds.setTo(Number.MAX_VALUE,Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);for(var r=0,n=i.length;n>r;r+=2){var o=i[r],s=i[r+1];this._bounds.x>o&&(this._bounds.x=o),this._bounds.width<o&&(this._bounds.width=o),this._bounds.y>s&&(this._bounds.y=s),this._bounds.height<s&&(this._bounds.height=s)}this._bounds.width-=this._bounds.x,this._bounds.height-=this._bounds.y}else this._bounds.setTo(0,0,0,0);e.bounds.copyFrom(this._bounds)}t.copyFrom(this._bounds)},i}(t.Bitmap);t.Mesh=e,__reflect(e.prototype,"egret.Mesh")}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.calculateStageSize=function(e,i,r,n,o){var s=i,a=r,h=n,u=o,l=i/h||0,c=r/u||0;switch(e){case t.StageScaleMode.EXACT_FIT:break;case t.StageScaleMode.FIXED_HEIGHT:h=Math.round(i/c);break;case t.StageScaleMode.FIXED_WIDTH:u=Math.round(r/l);break;case t.StageScaleMode.NO_BORDER:l>c?a=Math.round(u*l):s=Math.round(h*c);break;case t.StageScaleMode.SHOW_ALL:l>c?s=Math.round(h*c):a=Math.round(u*l);break;case t.StageScaleMode.FIXED_NARROW:l>c?h=Math.round(i/c):u=Math.round(r/l);break;case t.StageScaleMode.FIXED_WIDE:l>c?u=Math.round(r/l):h=Math.round(i/c);break;default:h=i,u=r}return t.Capabilities.runtimeType!=t.RuntimeType.WXGAME&&(h%2!=0&&(h+=1),u%2!=0&&(u+=1),s%2!=0&&(s+=1),a%2!=0&&(a+=1)),{stageWidth:h,stageHeight:u,displayWidth:s,displayHeight:a}},i}(t.HashObject);e.DefaultScreenAdapter=i,__reflect(i.prototype,"egret.sys.DefaultScreenAdapter",["egret.sys.IScreenAdapter"])}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.NO_SCALE="noScale",t.SHOW_ALL="showAll",t.NO_BORDER="noBorder",t.EXACT_FIT="exactFit",t.FIXED_WIDTH="fixedWidth",t.FIXED_HEIGHT="fixedHeight",t.FIXED_NARROW="fixedNarrow",t.FIXED_WIDE="fixedWide",t}();t.StageScaleMode=e,__reflect(e.prototype,"egret.StageScaleMode")}(egret||(egret={}));var egret;!function(t){var e;!function(t){}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){e.$START_TIME=0,e.$invalidateRenderFlag=!1,e.$requestRenderingFlag=!1;var i=function(){function i(){this.playerList=[],this.callBackList=[],this.thisObjectList=[],this.$frameRate=30,this.lastTimeStamp=0,this.costEnterFrame=0,this.isPaused=!1,t.ticker&&t.$error(1008,"egret.sys.SystemTicker"),e.$START_TIME=Date.now(),this.frameDeltaTime=1e3/this.$frameRate,this.lastCount=this.frameInterval=Math.round(6e4/this.$frameRate)}return i.prototype.$addPlayer=function(t){-1==this.playerList.indexOf(t)&&(egret_stages.push(t.stage),this.playerList=this.playerList.concat(),this.playerList.push(t))},i.prototype.$removePlayer=function(t){var e=this.playerList.indexOf(t);if(-1!==e){var i=egret_stages.indexOf(t.stage);egret_stages.splice(i,1),this.playerList=this.playerList.concat(),this.playerList.splice(e,1)}},i.prototype.$startTick=function(t,e){var i=this.getTickIndex(t,e);-1==i&&(this.concatTick(),this.callBackList.push(t),this.thisObjectList.push(e))},i.prototype.$stopTick=function(t,e){var i=this.getTickIndex(t,e);-1!=i&&(this.concatTick(),this.callBackList.splice(i,1),this.thisObjectList.splice(i,1))},i.prototype.getTickIndex=function(t,e){for(var i=this.callBackList,r=this.thisObjectList,n=i.length-1;n>=0;n--)if(i[n]==t&&r[n]==e)return n;return-1},i.prototype.concatTick=function(){this.callBackList=this.callBackList.concat(),this.thisObjectList=this.thisObjectList.concat()},i.prototype.$setFrameRate=function(t){return 0>=t?!1:this.$frameRate==t?!1:(this.$frameRate=t,t>60&&(t=60),this.frameDeltaTime=1e3/t,this.lastCount=this.frameInterval=Math.round(6e4/t),!0)},i.prototype.pause=function(){this.isPaused=!0},i.prototype.resume=function(){this.isPaused=!1},i.prototype.update=function(){for(var i=t.getTimer(),r=this.callBackList,n=this.thisObjectList,o=r.length,s=e.$requestRenderingFlag,a=t.getTimer(),h=t.lifecycle.contexts,u=0,l=h;u<l.length;u++){var c=l[u];c.onUpdate&&c.onUpdate()}if(this.isPaused)return void(this.lastTimeStamp=a);this.callLaterAsyncs();for(var p=0;o>p;p++)r[p].call(n[p],a)&&(s=!0);var d=t.getTimer(),f=a-this.lastTimeStamp;if(this.lastTimeStamp=a,f>=this.frameDeltaTime)this.lastCount=this.frameInterval;else{if(this.lastCount-=1e3,this.lastCount>0)return void(s&&this.render(!1,this.costEnterFrame+d-i));this.lastCount+=this.frameInterval}this.render(!0,this.costEnterFrame+d-i);var g=t.getTimer();this.broadcastEnterFrame();var v=t.getTimer();this.costEnterFrame=v-g},i.prototype.render=function(t,i){var r=this.playerList,n=r.length;if(0!=n){this.callLaters(),e.$invalidateRenderFlag&&(this.broadcastRender(),e.$invalidateRenderFlag=!1);for(var o=0;n>o;o++)r[o].$render(t,i);e.$requestRenderingFlag=!1}},i.prototype.broadcastEnterFrame=function(){var e=t.DisplayObject.$enterFrameCallBackList,i=e.length;if(0!=i){e=e.concat();for(var r=0;i>r;r++)e[r].dispatchEventWith(t.Event.ENTER_FRAME)}},i.prototype.broadcastRender=function(){var e=t.DisplayObject.$renderCallBackList,i=e.length;if(0!=i){e=e.concat();for(var r=0;i>r;r++)e[r].dispatchEventWith(t.Event.RENDER)}},i.prototype.callLaters=function(){var e,i,r;if(t.$callLaterFunctionList.length>0&&(e=t.$callLaterFunctionList,t.$callLaterFunctionList=[],i=t.$callLaterThisList,t.$callLaterThisList=[],r=t.$callLaterArgsList,t.$callLaterArgsList=[]),e)for(var n=e.length,o=0;n>o;o++){var s=e[o];null!=s&&s.apply(i[o],r[o])}},i.prototype.callLaterAsyncs=function(){if(t.$callAsyncFunctionList.length>0){var e=t.$callAsyncFunctionList,i=t.$callAsyncThisList,r=t.$callAsyncArgsList;t.$callAsyncFunctionList=[],t.$callAsyncThisList=[],t.$callAsyncArgsList=[];for(var n=0;n<e.length;n++){var o=e[n];null!=o&&o.apply(i[n],r[n])}}},i}();e.SystemTicker=i,__reflect(i.prototype,"egret.sys.SystemTicker")}(e=t.sys||(t.sys={}))}(egret||(egret={})),function(t){var e;!function(e){function i(t){var i=new n;e.contexts.push(i),t(i)}e.contexts=[];var r=!0,n=function(){function i(){}return i.prototype.pause=function(){r&&(r=!1,e.stage.dispatchEvent(new t.Event(t.Event.DEACTIVATE)),e.onPause&&e.onPause())},i.prototype.resume=function(){r||(r=!0,e.stage.dispatchEvent(new t.Event(t.Event.ACTIVATE)),e.onResume&&e.onResume())},i}();e.LifecycleContext=n,__reflect(n.prototype,"egret.lifecycle.LifecycleContext"),e.addLifecycleListener=i}(e=t.lifecycle||(t.lifecycle={})),t.ticker=new t.sys.SystemTicker}(egret||(egret={})),global.egret_stages=[];var egret;!function(t){var e;!function(e){var i=function(e){function i(t){var i=e.call(this)||this;return i.maxTouches=0,i.useTouchesCount=0,i.touchDownTarget={},i.lastTouchX=-1,i.lastTouchY=-1,i.stage=t,i}return __extends(i,e),i.prototype.$initMaxTouches=function(){this.maxTouches=this.stage.$maxTouches},i.prototype.onTouchBegin=function(e,i,r){if(!(this.useTouchesCount>=this.maxTouches)){this.lastTouchX=e,this.lastTouchY=i;var n=this.findTarget(e,i);null==this.touchDownTarget[r]&&(this.touchDownTarget[r]=n,this.useTouchesCount++),t.TouchEvent.dispatchTouchEvent(n,t.TouchEvent.TOUCH_BEGIN,!0,!0,e,i,r,!0)}},i.prototype.onTouchMove=function(e,i,r){if(null!=this.touchDownTarget[r]&&(this.lastTouchX!=e||this.lastTouchY!=i)){this.lastTouchX=e,this.lastTouchY=i;var n=this.findTarget(e,i);t.TouchEvent.dispatchTouchEvent(n,t.TouchEvent.TOUCH_MOVE,!0,!0,e,i,r,!0)}},i.prototype.onTouchEnd=function(e,i,r){if(null!=this.touchDownTarget[r]){var n=this.findTarget(e,i),o=this.touchDownTarget[r];delete this.touchDownTarget[r],this.useTouchesCount--,t.TouchEvent.dispatchTouchEvent(n,t.TouchEvent.TOUCH_END,!0,!0,e,i,r,!1),o==n?t.TouchEvent.dispatchTouchEvent(n,t.TouchEvent.TOUCH_TAP,!0,!0,e,i,r,!1):t.TouchEvent.dispatchTouchEvent(o,t.TouchEvent.TOUCH_RELEASE_OUTSIDE,!0,!0,e,i,r,!1)}},i.prototype.findTarget=function(t,e){var i=this.stage.$hitTest(t,e);return i||(i=this.stage),i},i}(t.HashObject);e.TouchHandler=i,__reflect(i.prototype,"egret.sys.TouchHandler")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){var t=e.call(this)||this;return t.image=null,t.smoothing=!0,t.blendMode=null,t.alpha=0/0,t.filter=null,t.rotated=!1,t.type=1,t}return __extends(i,e),i.prototype.drawImage=function(t,e,i,r,n,o,s,a){this.drawData.push(t,e,i,r,n,o,s,a),this.renderCount++},i.prototype.cleanBeforeRender=function(){e.prototype.cleanBeforeRender.call(this),this.image=null,this.matrix=null,this.blendMode=null,this.alpha=0/0,this.filter=null},i.$updateTextureData=function(e,r,n,o,s,a,h,u,l,c,p,d,f,g,v,y){if(r){var m=t.$TextureScaleFactor;if(e.smoothing=y,e.image=r,e.imageWidth=f,e.imageHeight=g,v==t.BitmapFillMode.SCALE){var _=p/l*m,b=d/c*m;e.drawImage(n,o,s,a,_*h,b*u,_*s,b*a)}else if(v==t.BitmapFillMode.CLIP){var $=Math.min(l,p),x=Math.min(c,d),E=s*m,T=a*m;i.drawClipImage(e,m,n,o,E,T,h,u,$,x)}else for(var E=s*m,T=a*m,w=0;p>w;w+=l)for(var S=0;d>S;S+=c){var $=Math.min(p-w,l),x=Math.min(d-S,c);i.drawClipImage(e,m,n,o,E,T,h,u,$,x,w,S)}}},i.$updateTextureDataWithScale9Grid=function(e,i,r,n,o,s,a,h,u,l,c,p,d,f,g,v){e.smoothing=v,e.image=i,e.imageWidth=f,e.imageHeight=g;var y=s,m=a;p-=l-s*t.$TextureScaleFactor,d-=c-a*t.$TextureScaleFactor;var _=r.x-h,b=r.y-u,$=_/t.$TextureScaleFactor,x=b/t.$TextureScaleFactor,E=r.width/t.$TextureScaleFactor,T=r.height/t.$TextureScaleFactor;0==T&&(T=1,x>=m&&x--),0==E&&(E=1,$>=y&&$--);var w=n,S=w+$,C=S+E,P=y-$-E,k=o,O=k+x,I=O+T,D=m-x-T,R=P*t.$TextureScaleFactor,L=D*t.$TextureScaleFactor;if(($+P)*t.$TextureScaleFactor>p||(x+D)*t.$TextureScaleFactor>d)return void e.drawImage(n,o,s,a,h,u,p,d);var A=h,N=A+_,B=A+(p-R),M=p-_-R,F=u,z=F+b,j=F+d-L,U=d-b-L;x>0&&($>0&&e.drawImage(w,k,$,x,A,F,_,b),E>0&&e.drawImage(S,k,E,x,N,F,M,b),P>0&&e.drawImage(C,k,P,x,B,F,R,b)),T>0&&($>0&&e.drawImage(w,O,$,T,A,z,_,U),E>0&&e.drawImage(S,O,E,T,N,z,M,U),P>0&&e.drawImage(C,O,P,T,B,z,R,U)),D>0&&($>0&&e.drawImage(w,I,$,D,A,j,_,L),E>0&&e.drawImage(S,I,E,D,N,j,M,L),P>0&&e.drawImage(C,I,P,D,B,j,R,L))},i.drawClipImage=function(t,e,i,r,n,o,s,a,h,u,l,c){void 0===l&&(l=0),void 0===c&&(c=0);var p=s+n-h;p>0&&(n-=p),p=a+o-u,p>0&&(o-=p),t.drawImage(i,r,n/e,o/e,l+s,c+a,n,o)},i}(e.RenderNode);e.BitmapNode=i,__reflect(i.prototype,"egret.sys.BitmapNode")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=["none","round","square"],r=["bevel","miter","round"],n=function(n){function o(){var t=n.call(this)||this;return t.dirtyRender=!0,t.type=3,t}return __extends(o,n),o.prototype.beginFill=function(t,i,r){void 0===i&&(i=1);var n=new e.FillPath;if(n.fillColor=t,n.fillAlpha=i,r){var o=this.drawData.lastIndexOf(r);this.drawData.splice(o,0,n)}else this.drawData.push(n);return this.renderCount++,n},o.prototype.beginGradientFill=function(i,r,n,o,s,a){var h=new t.Matrix;s?(h.a=819.2*s.a,h.b=819.2*s.b,h.c=819.2*s.c,h.d=819.2*s.d,h.tx=s.tx,h.ty=s.ty):(h.a=100,h.d=100);var u=new e.GradientFillPath;if(u.gradientType=i,u.colors=r,u.alphas=n,u.ratios=o,u.matrix=h,a){var l=this.drawData.lastIndexOf(a);this.drawData.splice(l,0,u)}else this.drawData.push(u);return this.renderCount++,u},o.prototype.lineStyle=function(n,o,s,a,h,u,l){void 0===s&&(s=1),void 0===u&&(u=3),void 0===l&&(l=[]),-1==i.indexOf(a)&&(a="round"),-1==r.indexOf(h)&&(h="round");var c=new e.StrokePath;return c.lineWidth=n,c.lineColor=o,c.lineAlpha=s,c.caps=a||t.CapsStyle.ROUND,c.joints=h,c.miterLimit=u,c.lineDash=l,this.drawData.push(c),this.renderCount++,c},o.prototype.clear=function(){this.drawData.length=0,this.dirtyRender=!0,this.renderCount=0},o.prototype.cleanBeforeRender=function(){},o.prototype.clean=function(){this.$texture&&(t.WebGLUtils.deleteWebGLTexture(this.$texture),this.$texture=null,this.dirtyRender=!0)},o}(e.RenderNode);e.GraphicsNode=n,__reflect(n.prototype,"egret.sys.GraphicsNode")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.type=4,e}return __extends(e,t),e.prototype.addNode=function(t){this.drawData.push(t)},e.prototype.cleanBeforeRender=function(){for(var t=this.drawData,e=t.length-1;e>=0;e--)t[e].cleanBeforeRender()},e.prototype.$getRenderCount=function(){for(var t=0,e=this.drawData,i=e.length-1;i>=0;i--)t+=e[i].$getRenderCount();return t},e}(t.RenderNode);t.GroupNode=e,__reflect(e.prototype,"egret.sys.GroupNode")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){var i=e.call(this)||this;return i.image=null,i.smoothing=!0,i.bounds=new t.Rectangle,i.blendMode=null,i.alpha=0/0,i.filter=null,i.rotated=!1,i.type=5,i.vertices=[],i.uvs=[],i.indices=[],i}return __extends(i,e),i.prototype.drawMesh=function(t,e,i,r,n,o,s,a){this.drawData.push(t,e,i,r,n,o,s,a),this.renderCount++},i.prototype.cleanBeforeRender=function(){e.prototype.cleanBeforeRender.call(this),this.image=null,this.matrix=null},i}(e.RenderNode);e.MeshNode=i,__reflect(i.prototype,"egret.sys.MeshNode")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.image=null,e.smoothing=!0,e.rotated=!1,e.type=6,e}return __extends(e,t),e.prototype.drawImage=function(t,e,i,r,n,o,s,a){var h=this;h.sourceX=t,h.sourceY=e,h.sourceW=i,h.sourceH=r,h.drawX=n,h.drawY=o,h.drawW=s,h.drawH=a,h.renderCount=1},e.prototype.cleanBeforeRender=function(){t.prototype.cleanBeforeRender.call(this),this.image=null},e}(t.RenderNode);t.NormalBitmapNode=e,__reflect(e.prototype,"egret.sys.NormalBitmapNode")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){t.OrientationMode={AUTO:"auto",PORTRAIT:"portrait",LANDSCAPE:"landscape",LANDSCAPE_FLIPPED:"landscapeFlipped"}}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(e){function i(){var t=e.call(this)||this;return t.textColor=16777215,t.strokeColor=0,t.size=30,t.stroke=0,t.bold=!1,t.italic=!1,t.fontFamily="Arial",t.dirtyRender=!0,t.type=2,t}return __extends(i,e),i.prototype.drawText=function(t,e,i,r){this.drawData.push(t,e,i,r),this.renderCount++,this.dirtyRender=!0},i.prototype.clean=function(){this.$texture&&(t.WebGLUtils.deleteWebGLTexture(this.$texture),this.$texture=null,this.dirtyRender=!0)},i.prototype.cleanBeforeRender=function(){e.prototype.cleanBeforeRender.call(this),this.dirtyRender=!0},i}(e.RenderNode);e.TextNode=i,__reflect(i.prototype,"egret.sys.TextNode")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.type=1,e}return __extends(e,t),e}(t.Path2D);t.FillPath=e,__reflect(e.prototype,"egret.sys.FillPath")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.type=2,e}return __extends(e,t),e}(t.Path2D);t.GradientFillPath=e,__reflect(e.prototype,"egret.sys.GradientFillPath")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){var i=e.call(this)||this;i.$renderBuffer=new t.sys.RenderBuffer;var r=new t.BitmapData(i.$renderBuffer.surface);return r.$deleteSource=!1,i._setBitmapData(r),i}return __extends(i,e),i.prototype.drawToTexture=function(e,i,r){if(void 0===r&&(r=1),i&&(0==i.width||0==i.height))return!1;var n=i||e.$getOriginalBounds();if(0==n.width||0==n.height)return!1;r/=t.$TextureScaleFactor;var o=(n.x+n.width)*r,s=(n.y+n.height)*r;i&&(o=n.width*r,s=n.height*r);var a=this.$renderBuffer;if(!a)return!1;if(a.resize(o,s),this.$bitmapData.width=o,this.$bitmapData.height=s,t.nativeRender){egret_native.activateBuffer(this.$renderBuffer);var h=!1,u=0,l=0,c=0,p=0;i&&(h=!0,u=i.x,l=i.y,c=i.width,p=i.height),egret_native.updateNativeRender(),egret_native.nrRenderDisplayObject(e.$nativeDisplayObject.id,r,h,u,l,c,p),egret_native.activateBuffer(null)}else{var d=t.Matrix.create();d.identity(),d.scale(r,r),i&&d.translate(-i.x,-i.y),t.sys.systemRenderer.render(e,a,d,!0),t.Matrix.release(d)}return this.$initData(0,0,o,s,0,0,o,s,o,s),!0},i.prototype.getPixel32=function(e,i){var r;if(this.$renderBuffer){var n=t.$TextureScaleFactor;e=Math.round(e/n),i=Math.round(i/n),r=this.$renderBuffer.getPixels(e,i,1,1)}return r},i.prototype.dispose=function(){e.prototype.dispose.call(this),this.$renderBuffer=null},i}(t.Texture);t.RenderTexture=e,__reflect(e.prototype,"egret.RenderTexture")}(egret||(egret={}));var egret;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.type=3,e}return __extends(e,t),e}(t.Path2D);t.StrokePath=e,__reflect(e.prototype,"egret.sys.StrokePath")}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){function e(t,e){var i=null==e.italic?t.italic:e.italic,r=null==e.bold?t.bold:e.bold,n=null==e.size?t.size:e.size,o=e.fontFamily||t.fontFamily,s=i?"italic ":"normal ";return s+=r?"bold ":"normal ",s+=n+"px "+o}function i(t,e){var i=t>>16,r=t>>8&255,n=255&t;return"rgba("+i+","+r+","+n+","+e+")"}function r(e,r,n,o,s,a){var h;h=r==t.GradientType.LINEAR?e.createLinearGradient(-1,0,1,0):e.createRadialGradient(0,0,0,0,0,1);for(var u=n.length,l=0;u>l;l++)h.addColorStop(s[l]/255,i(n[l],o[l]));return h}function n(t,e,i){void 0===i&&(i=0);for(var r=0,n=e.length;n>r;r++)t[r+i]=e[r]}function o(t,e,i,r){for(var n=r[0],o=r[1],s=r[2],a=r[3],h=r[4],u=r[5],l=r[6],c=r[7],p=r[8],d=r[9],f=r[10],g=r[11],v=r[12],y=r[13],m=r[14],_=r[15],b=r[16],$=r[17],x=r[18],E=r[19],T=0,w=e*i*4;w>T;T+=4){var S=t[T+0],C=t[T+1],P=t[T+2],k=t[T+3];t[T+0]=n*S+o*C+s*P+a*k+h,t[T+1]=u*S+l*C+c*P+p*k+d,t[T+2]=f*S+g*C+v*P+y*k+m,t[T+3]=_*S+b*C+$*P+x*k+E}}function s(t,e,i,r,n){a(t,e,i,r),h(t,e,i,n)}function a(t,e,i,r){var o;o=E?new Uint8ClampedArray(4*e):new Array(4*e);for(var s=4*e,a=2*r+1,h=0;i>h;h++){for(var u=h*s,l=0,c=0,p=0,d=0,f=0,g=0,v=4*-r,y=4*r+4;y>v;v+=4){var m=u+v;u>m||m>=u+s||(f=t[m+3],l+=t[m+0]*f,c+=t[m+1]*f,p+=t[m+2]*f,d+=f)}for(var v=u,y=u+s,_=0,b=v-4*r,$=v+4*(r+1);y>v;v+=4,_+=4,$+=4,b+=4)0===d?(o[_+0]=0,o[_+1]=0,o[_+2]=0,o[_+3]=0):(o[_+0]=l/d,o[_+1]=c/d,o[_+2]=p/d,o[_+3]=d/a),f=t[$+3],g=t[b+3],f||0==f?g||0==g?(l+=t[$+0]*f-t[b+0]*g,c+=t[$+1]*f-t[b+1]*g,p+=t[$+2]*f-t[b+2]*g,d+=f-g):(l+=t[$+0]*f,c+=t[$+1]*f,p+=t[$+2]*f,d+=f):(g||0==g)&&(l+=-t[b+0]*g,c+=-t[b+1]*g,p+=-t[b+2]*g,d+=-g);E?t.set(o,u):n(t,o,u)}}function h(t,e,i,r){var n;n=E?new Uint8ClampedArray(4*i):new Array(4*i);for(var o=4*e,s=2*r+1,a=0;e>a;a++){for(var h=4*a,u=0,l=0,c=0,p=0,d=0,f=0,g=-r*o,v=r*o+o;v>g;g+=o){var y=h+g;h>y||y>=h+i*o||(d=t[y+3],u+=t[y+0]*d,l+=t[y+1]*d,c+=t[y+2]*d,p+=d)}for(var g=h,v=h+i*o,m=0,_=h-r*o,b=h+(r+1)*o;v>g;g+=o,m+=4,b+=o,_+=o)0===p?(n[m+0]=0,n[m+1]=0,n[m+2]=0,n[m+3]=0):(n[m+0]=u/p,n[m+1]=l/p,n[m+2]=c/p,n[m+3]=p/s),d=t[b+3],f=t[_+3],d||0==d?f||0==f?(u+=t[b+0]*d-t[_+0]*f,l+=t[b+1]*d-t[_+1]*f,c+=t[b+2]*d-t[_+2]*f,p+=d-f):(u+=t[b+0]*d,l+=t[b+1]*d,c+=t[b+2]*d,p+=d):(f||0==f)&&(u+=-t[_+0]*f,l+=-t[_+1]*f,c+=-t[_+2]*f,p+=-f);for(var $=4*a,v=$+i*o,x=0;v>$;$+=o,x+=4)t[$+0]=n[x+0],t[$+1]=n[x+1],t[$+2]=n[x+2],t[$+3]=n[x+3]}}function u(t,e,i,r,o,a,h,u,f){var g=l(t,r);c(g,e,i,h,u),s(g,e,i,o,a),p(g,f),d(g,t),t.set(g),E?t.set(g):n(t,g)}function l(t,e){e||(e=[0,0,0,0]);var i;E?i=new Uint8ClampedArray(t):(i=new Array(t.length),n(i,t));for(var r=e[0],o=e[1],s=e[2],a=e[3],h=0,u=i.length;u>h;h+=4){var l=i[h+3];i[h+0]=r*l,i[h+1]=o*l,i[h+2]=s*l,i[h+3]=a*l}return i}function c(t,e,i,r,o){var s,a,h=Math.sin(r)*o|0,u=Math.cos(r)*o|0;if(E){s=new Int32Array(t.buffer),a=new Int32Array(s.length);for(var l=0;i>l;l++){var c=l+h;if(!(0>c||c>i))for(var p=0;e>p;p++){var d=p+u;0>d||d>e||(a[c*e+d]=s[l*e+p])}}s.set(a)}else{s=t,a=new Array(s.length);for(var l=0;i>l;l++){var c=l+h;if(!(0>c||c>i))for(var p=0;e>p;p++){var d=p+u;0>d||d>e||(a[4*(c*e+d)+0]=s[4*(l*e+p)+0],a[4*(c*e+d)+1]=s[4*(l*e+p)+1],a[4*(c*e+d)+2]=s[4*(l*e+p)+2],a[4*(c*e+d)+3]=s[4*(l*e+p)+3])}}n(s,a)}}function p(t,e){for(var i=0,r=t.length;r>i;i+=4)t[i+3]*=e}function d(t,e){for(var i=0,r=t.length;r>i;i+=4){var n=t[i+0],o=t[i+1],s=t[i+2],a=t[i+3]/255,h=e[i+0],u=e[i+1],l=e[i+2],c=e[i+3]/255;t[i+0]=h+n*(1-c),t[i+1]=u+o*(1-c),t[i+2]=l+s*(1-c),t[i+3]=255*(c+a*(1-c))}}function f(t,e,i){return t*(1-i)+e*i}function g(t,e,i,r,o,s,a,h,u,l,c,p){var d;d=E?new Uint8ClampedArray(t.length):new Array(t.length);for(var g,v,y=r[3],m=0,_=0,b=h*Math.cos(a),$=h*Math.sin(a),x=7,T=12,w=3.141592653589793,S=o/x,C=s/x,P=0;e>P;P++)for(var k=0;i>k;k++){for(var O=0,I=k*e*4+4*P,D=0,R=0,L=t[I+0]/255,A=t[I+1]/255,N=t[I+2]/255,B=t[I+3]/255,M=0;2*w>=M;M+=2*w/T){g=Math.cos(M+O),v=Math.sin(M+O);for(var F=0;x>F;F++){m=F*S*g,_=F*C*v;var z=Math.round(P+m-b),j=Math.round(k+_-$),U=0;if(z>=e||0>z||0>j||j>=i)U=0;else{var H=j*e*4+4*z;U=t[H+3]/255}D+=(x-F)*U,R+=x-F}}B=Math.max(B,1e-4);var W=D/R*u*y*(1-l)*Math.max(Math.min(p,c),1-B),V=(R-D)/R*u*y*l*B;B=Math.max(B*c*(1-p),1e-4);var G=V/(V+B),X=f(L,r[0],G),Y=f(A,r[1],G),Z=f(N,r[2],G),q=W/(V+B+W),J=f(X,r[0],q),K=f(Y,r[1],q),Q=f(Z,r[2],q),te=Math.min(B+W+V,1);d[I+0]=255*J,d[I+1]=255*K,d[I+2]=255*Q,d[I+3]=255*te}E?t.set(d):n(t,d)}var v=["source-over","lighter","destination-out"],y="source-over",m="#000000",_={none:"butt",square:"square",round:"round"},b=[],$=[],x=function(){function n(){this.nestLevel=0,this.renderingMask=!1}return n.prototype.render=function(e,i,r,n){this.nestLevel++;var o=i.context;o.transform(r.a,r.b,r.c,r.d,0,0);var s=this.drawDisplayObject(e,o,r.tx,r.ty,!0),a=t.Matrix.create();if(r.$invertInto(a),o.transform(a.a,a.b,a.c,a.d,0,0),t.Matrix.release(a),this.nestLevel--,0===this.nestLevel){b.length>6&&(b.length=6);for(var h=b.length,u=0;h>u;u++)b[u].resize(0,0)}return s},n.prototype.drawDisplayObject=function(e,i,r,n,o){var s,a=0,h=e.$displayList;if(h&&!o?((e.$cacheDirty||e.$renderDirty||h.$canvasScaleX!=t.sys.DisplayList.$canvasScaleX||h.$canvasScaleY!=t.sys.DisplayList.$canvasScaleY)&&(a+=h.drawToSurface()),s=h.$renderNode):s=e.$renderDirty?e.$getRenderNode():e.$renderNode,e.$cacheDirty=!1,s){switch(a++,i.$offsetX=r,i.$offsetY=n,s.type){case 1:this.renderBitmap(s,i);break;case 2:this.renderText(s,i);break;case 3:this.renderGraphics(s,i);break;case 4:this.renderGroup(s,i);break;case 5:this.renderMesh(s,i);break;case 6:this.renderNormalBitmap(s,i)}i.$offsetX=0,i.$offsetY=0}if(h&&!o)return a;var u=e.$children;if(u)for(var l=u.length,c=0;l>c;c++){var p=u[c],d=void 0,f=void 0;if(p.$useTranslate){var g=p.$getMatrix();d=r+p.$x,f=n+p.$y,i.save(),i.transform(g.a,g.b,g.c,g.d,d,f),d=-p.$anchorOffsetX,f=-p.$anchorOffsetY}else d=r+p.$x-p.$anchorOffsetX,f=n+p.$y-p.$anchorOffsetY;var v=void 0;switch(1!=p.$alpha&&(v=i.globalAlpha,i.globalAlpha*=p.$alpha),p.$renderMode){case 1:break;case 2:a+=this.drawWithFilter(p,i,d,f);break;case 3:a+=this.drawWithClip(p,i,d,f);break;case 4:a+=this.drawWithScrollRect(p,i,d,f);break;default:a+=this.drawDisplayObject(p,i,d,f)}p.$useTranslate?i.restore():v&&(i.globalAlpha=v)}return a},n.prototype.drawWithFilter=function(t,e,i,r){if(t.$children&&0==t.$children.length&&(!t.$renderNode||0==t.$renderNode.$getRenderCount()))return 0;var n,a=0,h=t.$filters,l=h.length,c=0!==t.$blendMode;c&&(n=v[t.$blendMode],n||(n=y));var p=t.$getOriginalBounds(),d=p.x,f=p.y,m=p.width,_=p.height;if(0>=m||0>=_)return a;var b=this.createRenderBuffer(m-d,_-f,!0),x=b.context;if(a+=t.$mask?this.drawWithClip(t,x,-d,-f):t.$scrollRect||t.$maskRect?this.drawWithScrollRect(t,x,-d,-f):this.drawDisplayObject(t,x,-d,-f),a>0){c&&(e.globalCompositeOperation=n),a++;for(var E=x.getImageData(0,0,b.surface.width,b.surface.height),T=0;l>T;T++){var w=h[T];if("colorTransform"==w.type)o(E.data,b.surface.width,b.surface.height,w.$matrix);else if("blur"==w.type)s(E.data,b.surface.width,b.surface.height,w.$blurX,w.$blurY);else if("glow"==w.type){var S=w.$red,C=w.$green,P=w.$blue,k=w.$alpha;w.$inner||w.$knockout||w.$hideObject?g(E.data,b.surface.width,b.surface.height,[S/255,C/255,P/255,k],w.$blurX,w.$blurY,w.$angle?w.$angle/180*Math.PI:0,w.$distance||0,w.$strength,w.$inner?1:0,w.$knockout?0:1,w.$hideObject?1:0):u(E.data,b.surface.width,b.surface.height,[S/255,C/255,P/255,k],w.$blurX,w.$blurY,w.$angle?w.$angle/180*Math.PI:0,w.$distance||0,w.$strength)}else"custom"==w.type}x.putImageData(E,0,0),e.drawImage(b.surface,i+d,r+f),c&&(e.globalCompositeOperation=y)}return $.push(b),a},n.prototype.drawWithClip=function(e,i,r,n){var o,s=0,a=0!==e.$blendMode;a&&(o=v[e.$blendMode],o||(o=y));var h=e.$scrollRect?e.$scrollRect:e.$maskRect,u=e.$mask;if(u){var l=u.$getMatrix();if(0==l.a&&0==l.b||0==l.c&&0==l.d)return s}if(!(u||e.$children&&0!=e.$children.length))return h&&(i.save(),i.beginPath(),i.rect(h.x+r,h.y+n,h.width,h.height),i.clip()),a&&(i.globalCompositeOperation=o),s+=this.drawDisplayObject(e,i,r,n),a&&(i.globalCompositeOperation=y),h&&i.restore(),s;if(u){var c=u.$getRenderNode();if((!u.$children||0==u.$children.length)&&c&&3==c.type&&1==c.drawData.length&&1==c.drawData[0].type&&1==c.drawData[0].fillAlpha){this.renderingMask=!0,i.save();var p=t.Matrix.create();p.copyFrom(u.$getConcatenatedMatrix()),u.$getConcatenatedMatrixAt(e,p),i.transform(p.a,p.b,p.c,p.d,p.tx,p.ty);var d=this.drawDisplayObject(u,i,r,n);return this.renderingMask=!1,p.$invertInto(p),i.transform(p.a,p.b,p.c,p.d,p.tx,p.ty),t.Matrix.release(p),h&&(i.beginPath(),i.rect(h.x+r,h.y+n,h.width,h.height),i.clip()),d+=this.drawDisplayObject(e,i,r,n),i.restore(),d}}var f=e.$getOriginalBounds(),g=f.x,m=f.y,_=f.width,$=f.height;if(0>=_||0>=$)return s;var x=this.createRenderBuffer(_,$),E=x.context;if(!E)return s+=this.drawDisplayObject(e,i,r,n);if(s+=this.drawDisplayObject(e,E,-g,-m),u){var c=u.$getRenderNode(),p=t.Matrix.create();if(p.copyFrom(u.$getConcatenatedMatrix()),u.$getConcatenatedMatrixAt(e,p),p.translate(-g,-m),c&&1==c.$getRenderCount()||u.$displayList)E.globalCompositeOperation="destination-in",E.save(),E.setTransform(p.a,p.b,p.c,p.d,p.tx,p.ty),s+=this.drawDisplayObject(u,E,0,0),E.restore();else{var T=this.createRenderBuffer(_,$),w=T.context;w.setTransform(p.a,p.b,p.c,p.d,p.tx,p.ty),s+=this.drawDisplayObject(u,w,0,0),E.globalCompositeOperation="destination-in",E.drawImage(T.surface,0,0),b.push(T)}t.Matrix.release(p)}return s>0&&(s++,a&&(i.globalCompositeOperation=o),h&&(i.save(),i.beginPath(),i.rect(h.x+r,h.y+n,h.width,h.height),i.clip()),i.drawImage(x.surface,r+g,n+m),h&&i.restore(),a&&(i.globalCompositeOperation=y)),b.push(x),s},n.prototype.drawWithScrollRect=function(t,e,i,r){var n=0,o=t.$scrollRect?t.$scrollRect:t.$maskRect;return o.isEmpty()?n:(t.$scrollRect&&(i-=o.x,r-=o.y),e.save(),e.beginPath(),e.rect(o.x+i,o.y+r,o.width,o.height),e.clip(),n+=this.drawDisplayObject(t,e,i,r),e.restore(),n)},n.prototype.drawNodeToBuffer=function(t,e,i,r){var n=e.context;n.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty),this.renderNode(t,n,r)},n.prototype.drawDisplayToBuffer=function(t,e,i){var r=e.context;i&&r.setTransform(i.a,i.b,i.c,i.d,i.tx,i.ty);var n;n=t.$renderDirty?t.$getRenderNode():t.$renderNode;var o=0;if(n)switch(o++,n.type){case 1:this.renderBitmap(n,r);
break;case 2:this.renderText(n,r);break;case 3:this.renderGraphics(n,r);break;case 4:this.renderGroup(n,r);break;case 5:this.renderMesh(n,r);break;case 6:this.renderNormalBitmap(n,r)}var s=t.$children;if(s)for(var a=s.length,h=0;a>h;h++){var u=s[h];switch(u.$renderMode){case 1:break;case 2:o+=this.drawWithFilter(u,r,0,0);break;case 3:o+=this.drawWithClip(u,r,0,0);break;case 4:o+=this.drawWithScrollRect(u,r,0,0);break;default:o+=this.drawDisplayObject(u,r,0,0)}}return o},n.prototype.renderNode=function(t,e,i){var r=0;switch(t.type){case 1:r=this.renderBitmap(t,e);break;case 2:r=1,this.renderText(t,e);break;case 3:r=this.renderGraphics(t,e,i);break;case 4:r=this.renderGroup(t,e);break;case 5:r=this.renderMesh(t,e);break;case 6:r+=this.renderNormalBitmap(t,e)}return r},n.prototype.renderNormalBitmap=function(t,e){var i=t.image;if(!i||!i.source)return 0;if(e.$imageSmoothingEnabled!=t.smoothing&&(e.imageSmoothingEnabled=t.smoothing,e.$imageSmoothingEnabled=t.smoothing),t.rotated){var r=t.sourceX,n=t.sourceY,o=t.sourceW,s=t.sourceH,a=t.drawX,h=t.drawY,u=t.drawW,l=t.drawH;e.save(),e.transform(0,-1,1,0,0,l),e.drawImage(i.source,r,n,s,o,a+e.$offsetX,h+e.$offsetY,l,u),e.restore()}else e.drawImage(i.source,t.sourceX,t.sourceY,t.sourceW,t.sourceH,t.drawX+e.$offsetX,t.drawY+e.$offsetY,t.drawW,t.drawH);return 1},n.prototype.renderBitmap=function(t,e){var i=t.image;if(!i||!i.source)return 0;e.$imageSmoothingEnabled!=t.smoothing&&(e.imageSmoothingEnabled=t.smoothing,e.$imageSmoothingEnabled=t.smoothing);var r,n,s=t.drawData,a=s.length,h=0,u=t.matrix,l=t.blendMode,c=t.alpha,p=!1;u&&(e.save(),p=!0,(0!=e.$offsetX||0!=e.$offsetY)&&(e.translate(e.$offsetX,e.$offsetY),r=e.$offsetX,n=e.$offsetY,e.$offsetX=e.$offsetY=0),e.transform(u.a,u.b,u.c,u.d,u.tx,u.ty)),l&&(e.globalCompositeOperation=v[l]);var d;c==c&&(d=e.globalAlpha,e.globalAlpha*=c);var f=0,g=t.filter;if(g&&8==a){var m=s[0],_=s[1],$=s[2],x=s[3],E=s[4],T=s[5],w=s[6],S=s[7];t.rotated&&($=s[3],x=s[2],w=s[7],S=s[6]);var C=this.createRenderBuffer(w,S),P=C.context;f++,t.rotated&&e.transform(0,-1,1,0,0,w),P.drawImage(i.source,m,_,$,x,0,0,w,S),f++;var k=P.getImageData(0,0,w,S);o(k.data,w,S,g.$matrix),P.putImageData(k,0,0),e.drawImage(C.surface,0,0,w,S,E+e.$offsetX,T+e.$offsetY,w,S),b.push(C)}else for(;a>h;)if(f++,t.rotated){var m=s[h++],_=s[h++],x=s[h++],$=s[h++],O=s[h++],I=s[h++],S=s[h++],w=s[h++];e.save(),e.transform(0,-1,1,0,0,w),e.drawImage(i.source,m,_,$,x,O+e.$offsetX,I+e.$offsetY,w,S),e.restore()}else e.drawImage(i.source,s[h++],s[h++],s[h++],s[h++],s[h++]+e.$offsetX,s[h++]+e.$offsetY,s[h++],s[h++]);return p?e.restore():(l&&(e.globalCompositeOperation=y),c==c&&(e.globalAlpha=d)),r&&(e.$offsetX=r),n&&(e.$offsetY=n),f},n.prototype.renderMesh=function(t,e){return 0},n.prototype.renderText=function(i,r){r.textAlign="left",r.textBaseline="middle",r.lineJoin="round";for(var n=i.drawData,o=n.length,s=0;o>s;){var a=n[s++],h=n[s++],u=n[s++],l=n[s++];r.font=e(i,l);var c=null==l.textColor?i.textColor:l.textColor,p=null==l.strokeColor?i.strokeColor:l.strokeColor,d=null==l.stroke?i.stroke:l.stroke;r.fillStyle=t.toColorString(c),r.strokeStyle=t.toColorString(p),d&&(r.lineWidth=2*d,r.strokeText(u,a+r.$offsetX,h+r.$offsetY)),r.fillText(u,a+r.$offsetX,h+r.$offsetY)}},n.prototype.renderGraphics=function(t,e,n){var o=t.drawData,s=o.length;n=!!n;for(var a=0;s>a;a++){var h=o[a];switch(h.type){case 1:var u=h;e.fillStyle=n?m:i(u.fillColor,u.fillAlpha),this.renderPath(h,e),this.renderingMask?e.clip():e.fill();break;case 2:var l=h;e.fillStyle=n?m:r(e,l.gradientType,l.colors,l.alphas,l.ratios,l.matrix),e.save();var c=l.matrix;this.renderPath(h,e),e.transform(c.a,c.b,c.c,c.d,c.tx,c.ty),e.fill(),e.restore();break;case 3:var p=h,d=p.lineWidth;e.lineWidth=d,e.strokeStyle=n?m:i(p.lineColor,p.lineAlpha),e.lineCap=_[p.caps],e.lineJoin=p.joints,e.miterLimit=p.miterLimit,e.setLineDash&&e.setLineDash(p.lineDash);var f=1===d||3===d;f&&e.translate(.5,.5),this.renderPath(h,e),e.stroke(),f&&e.translate(-.5,-.5)}}return 0==s?0:1},n.prototype.renderPath=function(t,e){e.beginPath();for(var i=t.$data,r=t.$commands,n=r.length,o=0,s=0;n>s;s++){var a=r[s];switch(a){case 4:e.bezierCurveTo(i[o++]+e.$offsetX,i[o++]+e.$offsetY,i[o++]+e.$offsetX,i[o++]+e.$offsetY,i[o++]+e.$offsetX,i[o++]+e.$offsetY);break;case 3:e.quadraticCurveTo(i[o++]+e.$offsetX,i[o++]+e.$offsetY,i[o++]+e.$offsetX,i[o++]+e.$offsetY);break;case 2:e.lineTo(i[o++]+e.$offsetX,i[o++]+e.$offsetY);break;case 1:e.moveTo(i[o++]+e.$offsetX,i[o++]+e.$offsetY)}}},n.prototype.renderGroup=function(t,e){var i,r,n=t.matrix,o=!1;n&&(e.save(),o=!0,(0!=e.$offsetX||0!=e.$offsetY)&&(e.translate(e.$offsetX,e.$offsetY),i=e.$offsetX,r=e.$offsetY,e.$offsetX=e.$offsetY=0),e.transform(n.a,n.b,n.c,n.d,n.tx,n.ty));for(var s=0,a=t.drawData,h=a.length,u=0;h>u;u++){var l=a[u];s+=this.renderNode(l,e)}return o&&e.restore(),i&&(e.$offsetX=i),r&&(e.$offsetY=r),s},n.prototype.createRenderBuffer=function(e,i,r){var n=r?$.pop():b.pop();return n?n.resize(e,i,!0):n=new t.sys.CanvasRenderBuffer(e,i),n},n}();t.CanvasRenderer=x,__reflect(x.prototype,"egret.CanvasRenderer"),t.getFontString=e,t.getRGBAString=i;var E=!1;try{E=void 0!==typeof Uint8ClampedArray}catch(T){}}(egret||(egret={}));var egret;!function(t){t.DeviceOrientation=null}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){var e;!function(t){t.WEB="web",t.NATIVE="native",t.RUNTIME2="runtime2",t.WXGAME="wxgame"}(e=t.RuntimeType||(t.RuntimeType={}));var i=function(){function e(){}return e.language="zh-CN",e.os="Unknown",e.runtimeType=t.RuntimeType.WEB,e.engineVersion="5.2.8",e.renderMode="Unknown",e.boundingClientWidth=0,e.boundingClientHeight=0,e}();t.Capabilities=i,__reflect(i.prototype,"egret.Capabilities")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.$graphics=new t.Graphics,i.$graphics.$setTarget(i),i}return __extends(i,e),i.prototype.createNativeDisplayObject=function(){this.$nativeDisplayObject=new egret_native.NativeDisplayObject(8)},Object.defineProperty(i.prototype,"graphics",{get:function(){return this.$graphics},enumerable:!0,configurable:!0}),i.prototype.$measureContentBounds=function(t){this.$graphics.$measureContentBounds(t)},i.prototype.$hitTest=function(t,i){var r=e.prototype.$hitTest.call(this,t,i);return r==this&&(r=this.$graphics.$hitTest(t,i)),r},i.prototype.$onRemoveFromStage=function(){e.prototype.$onRemoveFromStage.call(this),this.$graphics&&this.$graphics.$onRemoveFromStage()},i}(t.DisplayObject);t.Shape=e,__reflect(e.prototype,"egret.Shape")}(egret||(egret={}));var egret;!function(t){function e(t,e){r[t]=e}function i(t){return r[t]}var r={};t.registerImplementation=e,t.getImplementation=i}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.$graphics=new t.Graphics,i.$graphics.$setTarget(i),i}return __extends(i,e),i.prototype.createNativeDisplayObject=function(){this.$nativeDisplayObject=new egret_native.NativeDisplayObject(9)},Object.defineProperty(i.prototype,"graphics",{get:function(){return this.$graphics},enumerable:!0,configurable:!0}),i.prototype.$hitTest=function(e,i){if(!this.$visible)return null;var r=this.$getInvertedConcatenatedMatrix(),n=r.a*e+r.c*i+r.tx,o=r.b*e+r.d*i+r.ty,s=this.$scrollRect?this.$scrollRect:this.$maskRect;if(s&&!s.contains(n,o))return null;if(this.$mask&&!this.$mask.$hitTest(e,i))return null;for(var a=this.$children,h=!1,u=null,l=a.length-1;l>=0;l--){var c=a[l];if(!c.$maskedObject&&(u=c.$hitTest(e,i))){if(h=!0,u.$touchEnabled)break;u=null}}return u?this.$touchChildren?u:this:h?this:(u=t.DisplayObject.prototype.$hitTest.call(this,e,i),u&&(u=this.$graphics.$hitTest(e,i)),u)},i.prototype.$measureContentBounds=function(t){this.$graphics.$measureContentBounds(t)},i.prototype.$onRemoveFromStage=function(){e.prototype.$onRemoveFromStage.call(this),this.$graphics&&this.$graphics.$onRemoveFromStage()},i}(t.DisplayObjectContainer);t.Sprite=e,__reflect(e.prototype,"egret.Sprite")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e,i){var r=t.call(this,e)||this;return r.firstCharHeight=0,"string"==typeof i?r.charList=r.parseConfig(i):i&&i.hasOwnProperty("frames")?r.charList=i.frames:r.charList={},r}return __extends(e,t),e.prototype.getTexture=function(t){var e=this._textureMap[t];if(!e){var i=this.charList[t];if(!i)return null;e=this.createTexture(t,i.x,i.y,i.w,i.h,i.offX,i.offY,i.sourceW,i.sourceH),this._textureMap[t]=e}return e},e.prototype.getConfig=function(t,e){return this.charList[t]?this.charList[t][e]:0},e.prototype._getFirstCharHeight=function(){if(0==this.firstCharHeight)for(var t in this.charList){var e=this.charList[t];if(e){var i=e.sourceH;if(void 0===i){var r=e.h;void 0===r&&(r=0);var n=e.offY;void 0===n&&(n=0),i=r+n}if(0>=i)continue;this.firstCharHeight=i;break}}return this.firstCharHeight},e.prototype.parseConfig=function(t){t=t.split("\r\n").join("\n");for(var e=t.split("\n"),i=this.getConfigByKey(e[3],"count"),r={},n=4;4+i>n;n++){var o=e[n],s=String.fromCharCode(this.getConfigByKey(o,"id")),a={};r[s]=a,a.x=this.getConfigByKey(o,"x"),a.y=this.getConfigByKey(o,"y"),a.w=this.getConfigByKey(o,"width"),a.h=this.getConfigByKey(o,"height"),a.offX=this.getConfigByKey(o,"xoffset"),a.offY=this.getConfigByKey(o,"yoffset"),a.xadvance=this.getConfigByKey(o,"xadvance")}return r},e.prototype.getConfigByKey=function(t,e){for(var i=t.split(" "),r=0,n=i.length;n>r;r++){var o=i[r];if(e==o.substring(0,e.length)){var s=o.substring(e.length+1);return parseInt(s)}}return 0},e}(t.SpriteSheet);t.BitmapFont=e,__reflect(e.prototype,"egret.BitmapFont")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.$smoothing=t.Bitmap.defaultSmoothing,i.$text="",i.$textFieldWidth=0/0,i.$textLinesChanged=!1,i.$textFieldHeight=0/0,i.$font=null,i.$fontStringChanged=!1,i.$lineSpacing=0,i.$letterSpacing=0,i.$textAlign=t.HorizontalAlign.LEFT,i.$verticalAlign=t.VerticalAlign.TOP,i.$textWidth=0/0,i.$textHeight=0/0,i.$textOffsetX=0,i.$textOffsetY=0,i.$textStartX=0,i.$textStartY=0,i.textLines=[],i.$lineHeights=[],t.nativeRender||(i.$renderNode=new t.sys.BitmapNode),i}return __extends(i,e),i.prototype.createNativeDisplayObject=function(){this.$nativeDisplayObject=new egret_native.NativeDisplayObject(11)},Object.defineProperty(i.prototype,"smoothing",{get:function(){return this.$smoothing},set:function(t){var e=this;t!=e.$smoothing&&(e.$smoothing=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"text",{get:function(){return this.$text},set:function(t){this.$setText(t)},enumerable:!0,configurable:!0}),i.prototype.$setText=function(t){t=null==t?"":String(t);var e=this;return t==e.$text?!1:(e.$text=t,e.$invalidateContentBounds(),!0)},i.prototype.$getWidth=function(){var t=this,e=t.$textFieldWidth;return isNaN(e)?t.$getContentBounds().width:e},i.prototype.$setWidth=function(t){var e=this;return 0>t||t==e.$textFieldWidth?!1:(e.$textFieldWidth=t,e.$invalidateContentBounds(),!0)},i.prototype.$invalidateContentBounds=function(){this.$renderDirty=!0,this.$textLinesChanged=!0,this.$updateRenderNode()},i.prototype.$getHeight=function(){var t=this,e=t.$textFieldHeight;return isNaN(e)?t.$getContentBounds().height:e},i.prototype.$setHeight=function(t){var e=this;return 0>t||t==e.$textFieldHeight?!1:(e.$textFieldHeight=t,e.$invalidateContentBounds(),!0)},Object.defineProperty(i.prototype,"font",{get:function(){return this.$font},set:function(t){this.$setFont(t)},enumerable:!0,configurable:!0}),i.prototype.$setFont=function(t){var e=this;return e.$font==t?!1:(e.$font=t,e.$fontStringChanged=!0,this.$invalidateContentBounds(),!0)},Object.defineProperty(i.prototype,"lineSpacing",{get:function(){return this.$lineSpacing},set:function(t){this.$setLineSpacing(t)},enumerable:!0,configurable:!0}),i.prototype.$setLineSpacing=function(t){var e=this;return e.$lineSpacing==t?!1:(e.$lineSpacing=t,e.$invalidateContentBounds(),!0)},Object.defineProperty(i.prototype,"letterSpacing",{get:function(){return this.$letterSpacing},set:function(t){this.$setLetterSpacing(t)},enumerable:!0,configurable:!0}),i.prototype.$setLetterSpacing=function(t){var e=this;return e.$letterSpacing==t?!1:(e.$letterSpacing=t,e.$invalidateContentBounds(),!0)},Object.defineProperty(i.prototype,"textAlign",{get:function(){return this.$textAlign},set:function(t){this.$setTextAlign(t)},enumerable:!0,configurable:!0}),i.prototype.$setTextAlign=function(t){var e=this;return e.$textAlign==t?!1:(e.$textAlign=t,e.$invalidateContentBounds(),!0)},Object.defineProperty(i.prototype,"verticalAlign",{get:function(){return this.$verticalAlign},set:function(t){this.$setVerticalAlign(t)},enumerable:!0,configurable:!0}),i.prototype.$setVerticalAlign=function(t){var e=this;return e.$verticalAlign==t?!1:(e.$verticalAlign=t,e.$invalidateContentBounds(),!0)},i.prototype.$updateRenderNode=function(){var e=this,r=this.$getTextLines(),n=r.length;if(0==n)return void(t.nativeRender&&e.$font&&(e.$nativeDisplayObject.setDataToBitmapNode(e.$nativeDisplayObject.id,e.$font.$texture,[]),e.$nativeDisplayObject.setWidth(0),e.$nativeDisplayObject.setHeight(0)));var o,s=[],a=this.$textLinesWidth,h=e.$font;t.nativeRender||(o=this.$renderNode,h.$texture&&(o.image=h.$texture.$bitmapData),o.smoothing=e.$smoothing);for(var u=h._getFirstCharHeight(),l=Math.ceil(u*i.EMPTY_FACTOR),c=!isNaN(e.$textFieldHeight),p=e.$textWidth,d=e.$textFieldWidth,f=e.$textFieldHeight,g=e.$textAlign,v=this.$textOffsetY+this.$textStartY,y=this.$lineHeights,m=0;n>m;m++){var _=y[m];if(c&&m>0&&v+_>f)break;var b=r[m],$=b.length,x=this.$textOffsetX;if(g!=t.HorizontalAlign.LEFT){var E=d>p?d:p;g==t.HorizontalAlign.RIGHT?x+=E-a[m]:g==t.HorizontalAlign.CENTER&&(x+=Math.floor((E-a[m])/2))}for(var T=0;$>T;T++){var w=b.charAt(T),S=h.getTexture(w);if(S){var C=S.$bitmapWidth,P=S.$bitmapHeight;t.nativeRender?s.push(S.$bitmapX,S.$bitmapY,C,P,x+S.$offsetX,v+S.$offsetY,S.$getScaleBitmapWidth(),S.$getScaleBitmapHeight(),S.$sourceWidth,S.$sourceHeight):(o.imageWidth=S.$sourceWidth,o.imageHeight=S.$sourceHeight,o.drawImage(S.$bitmapX,S.$bitmapY,C,P,x+S.$offsetX,v+S.$offsetY,S.$getScaleBitmapWidth(),S.$getScaleBitmapHeight())),x+=(h.getConfig(w,"xadvance")||S.$getTextureWidth())+e.$letterSpacing}else" "==w?x+=l:t.$warn(1046,w)}v+=_+e.$lineSpacing}if(t.nativeRender){e.$nativeDisplayObject.setDataToBitmapNode(e.$nativeDisplayObject.id,h.$texture,s);var k=e.$getContentBounds();e.$nativeDisplayObject.setWidth(k.width),e.$nativeDisplayObject.setHeight(k.height)}},i.prototype.$measureContentBounds=function(t){var e=this.$getTextLines();0==e.length?t.setEmpty():t.setTo(this.$textOffsetX+this.$textStartX,this.$textOffsetY+this.$textStartY,this.$textWidth-this.$textOffsetX,this.$textHeight-this.$textOffsetY)},Object.defineProperty(i.prototype,"textWidth",{get:function(){return this.$getTextLines(),this.$textWidth},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textHeight",{get:function(){return this.$getTextLines(),this.$textHeight},enumerable:!0,configurable:!0}),i.prototype.$getTextLines=function(){function e(t){return _&&n.length>0&&f>_?!1:(f+=u+c,a||h||(l-=p),n.push(t),s.push(u),o.push(l),d=Math.max(l,d),!0)}var r=this;if(!r.$textLinesChanged)return r.textLines;var n=[];r.textLines=n;var o=[];r.$textLinesWidth=o,r.$textLinesChanged=!1;var s=[];if(r.$lineHeights=s,!r.$text||!r.$font)return r.$textWidth=0,r.$textHeight=0,n;for(var a,h,u,l,c=r.$lineSpacing,p=r.$letterSpacing,d=0,f=0,g=0,v=0,y=!isNaN(r.$textFieldWidth),m=r.$textFieldWidth,_=r.$textFieldHeight,b=r.$font,$=b._getFirstCharHeight(),x=Math.ceil($*i.EMPTY_FACTOR),E=r.$text,T=E.split(/(?:\r\n|\r|\n)/),w=T.length,S=!0,C=0;w>C;C++){var P=T[C],k=P.length;u=0,l=0,a=!0,h=!1;for(var O=0;k>O;O++){a||(l+=p);var I=P.charAt(O),D=void 0,R=void 0,L=0,A=0,N=b.getTexture(I);if(N)D=N.$getTextureWidth(),R=N.$getTextureHeight(),L=N.$offsetX,A=N.$offsetY;else{if(" "!=I){t.$warn(1046,I),a&&(a=!1);continue}D=x,R=$}if(a&&(a=!1,g=Math.min(L,g)),S&&(S=!1,v=Math.min(A,v)),y&&O>0&&l+D>m){if(!e(P.substring(0,O)))break;P=P.substring(O),k=P.length,O=0,l=O==k-1?D:b.getConfig(I,"xadvance")||D,u=R}else l+=O==k-1?D:b.getConfig(I,"xadvance")||D,u=Math.max(R,u)}if(_&&C>0&&f>_)break;if(h=!0,!e(P))break}f-=c,r.$textWidth=d,r.$textHeight=f,this.$textOffsetX=g,this.$textOffsetY=v,this.$textStartX=0,this.$textStartY=0;var B;return m>d&&(B=r.$textAlign,B==t.HorizontalAlign.RIGHT?this.$textStartX=m-d:B==t.HorizontalAlign.CENTER&&(this.$textStartX=Math.floor((m-d)/2))),_>f&&(B=r.$verticalAlign,B==t.VerticalAlign.BOTTOM?this.$textStartY=_-f:B==t.VerticalAlign.MIDDLE&&(this.$textStartY=Math.floor((_-f)/2))),n},i.EMPTY_FACTOR=.33,i}(t.DisplayObject);t.BitmapText=e,__reflect(e.prototype,"egret.BitmapText")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.LEFT="left",t.RIGHT="right",t.CENTER="center",t.JUSTIFY="justify",t.CONTENT_JUSTIFY="contentJustify",t}();t.HorizontalAlign=e,__reflect(e.prototype,"egret.HorizontalAlign")}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){this.replaceArr=[],this.resutlArr=[],this.initReplaceArr()}return e.prototype.initReplaceArr=function(){this.replaceArr=[],this.replaceArr.push([/&lt;/g,"<"]),this.replaceArr.push([/&gt;/g,">"]),this.replaceArr.push([/&amp;/g,"&"]),this.replaceArr.push([/&quot;/g,'"']),this.replaceArr.push([/&apos;/g,"'"])},e.prototype.replaceSpecial=function(t){for(var e=0;e<this.replaceArr.length;e++){var i=this.replaceArr[e][0],r=this.replaceArr[e][1];t=t.replace(i,r)}return t},e.prototype.parse=function(e){this.stackArray=[],this.resutlArr=[];for(var i=0,r=e.length;r>i;){var n=e.indexOf("<",i);if(0>n)this.addToResultArr(e.substring(i)),i=r;else{this.addToResultArr(e.substring(i,n));var o=e.indexOf(">",n);-1==o?(t.$error(1038),o=n):"/"==e.charAt(n+1)?this.stackArray.pop():this.addToArray(e.substring(n+1,o)),i=o+1}}return this.resutlArr},e.prototype.parser=function(t){return this.parse(t)},e.prototype.addToResultArr=function(t){""!=t&&(t=this.replaceSpecial(t),this.stackArray.length>0?this.resutlArr.push({text:t,style:this.stackArray[this.stackArray.length-1]}):this.resutlArr.push({text:t}))},e.prototype.changeStringToObject=function(t){t=t.trim();var e={},i=[];if("i"==t.charAt(0)||"b"==t.charAt(0)||"u"==t.charAt(0))this.addProperty(e,t,"true");else if(i=t.match(/^(font|a)\s/)){t=t.substring(i[0].length).trim();for(var r=0,n=void 0;n=t.match(this.getHeadReg());){var o=n[0],s="";t=t.substring(o.length).trim(),'"'==t.charAt(0)?(r=t.indexOf('"',1),s=t.substring(1,r),r+=1):"'"==t.charAt(0)?(r=t.indexOf("'",1),s=t.substring(1,r),r+=1):(s=t.match(/(\S)+/)[0],r=s.length),this.addProperty(e,o.substring(0,o.length-1).trim(),s.trim()),t=t.substring(r).trim()}}return e},e.prototype.getHeadReg=function(){return/^(color|textcolor|strokecolor|stroke|b|bold|i|italic|u|size|fontfamily|href|target)(\s)*=/},e.prototype.addProperty=function(t,e,i){switch(e.toLowerCase()){case"color":case"textcolor":i=i.replace(/#/,"0x"),t.textColor=parseInt(i);break;case"strokecolor":i=i.replace(/#/,"0x"),t.strokeColor=parseInt(i);break;case"stroke":t.stroke=parseInt(i);break;case"b":case"bold":t.bold="true"==i;break;case"u":t.underline="true"==i;break;case"i":case"italic":t.italic="true"==i;break;case"size":t.size=parseInt(i);break;case"fontfamily":t.fontFamily=i;break;case"href":t.href=this.replaceSpecial(i);break;case"target":t.target=this.replaceSpecial(i)}},e.prototype.addToArray=function(t){var e=this.changeStringToObject(t);if(0==this.stackArray.length)this.stackArray.push(e);else{var i=this.stackArray[this.stackArray.length-1];for(var r in i)null==e[r]&&(e[r]=i[r]);this.stackArray.push(e)}},e}();t.HtmlTextParser=e,__reflect(e.prototype,"egret.HtmlTextParser")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.stageTextAdded=!1,t._text=null,t._isFocus=!1,t}return __extends(i,e),i.prototype.init=function(e){this._text=e,this.stageText=new t.StageText,this.stageText.$setTextField(this._text)},i.prototype._addStageText=function(){this.stageTextAdded||(this._text.$inputEnabled||(this._text.$touchEnabled=!0),this.tempStage=this._text.stage,this.stageText.$addToStage(),this.stageText.addEventListener("updateText",this.updateTextHandler,this),this._text.addEventListener(t.TouchEvent.TOUCH_BEGIN,this.onMouseDownHandler,this),this.stageText.addEventListener("blur",this.blurHandler,this),this.stageText.addEventListener("focus",this.focusHandler,this),this.stageTextAdded=!0)},i.prototype._removeStageText=function(){this.stageTextAdded&&(this._text.$inputEnabled||(this._text.$touchEnabled=!1),this.stageText.$removeFromStage(),this.stageText.removeEventListener("updateText",this.updateTextHandler,this),this._text.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.onMouseDownHandler,this),this.tempStage.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.onStageDownHandler,this),this.stageText.removeEventListener("blur",this.blurHandler,this),this.stageText.removeEventListener("focus",this.focusHandler,this),this.stageTextAdded=!1)},i.prototype._getText=function(){return this.stageText.$getText()},i.prototype._setText=function(t){this.stageText.$setText(t)},i.prototype._setColor=function(t){this.stageText.$setColor(t)},i.prototype.focusHandler=function(e){this._isFocus||(this._isFocus=!0,e.showing||this._text.$setIsTyping(!0),this._text.dispatchEvent(new t.FocusEvent(t.FocusEvent.FOCUS_IN,!0)))},i.prototype.blurHandler=function(e){this._isFocus&&(this._isFocus=!1,this.tempStage.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.onStageDownHandler,this),this._text.$setIsTyping(!1),this.stageText.$onBlur(),this._text.dispatchEvent(new t.FocusEvent(t.FocusEvent.FOCUS_OUT,!0)))},i.prototype.onMouseDownHandler=function(t){this.$onFocus()},i.prototype.$onFocus=function(){var e=this;this._text.visible&&(this._isFocus||(this.tempStage.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this.onStageDownHandler,this),t.callLater(function(){e.tempStage.addEventListener(t.TouchEvent.TOUCH_BEGIN,e.onStageDownHandler,e)},this),t.nativeRender&&this.stageText.$setText(this._text.$TextField[13]),this.stageText.$show()))},i.prototype.onStageDownHandler=function(t){t.$target!=this._text&&this.stageText.$hide()},i.prototype.updateTextHandler=function(e){var i,r,n=this._text.$TextField,o=this.stageText.$getText(),s=!1;null!=n[35]&&(i=new RegExp("["+n[35]+"]","g"),r=o.match(i),o=r?r.join(""):"",s=!0),null!=n[36]&&(i=new RegExp("[^"+n[36]+"]","g"),r=o.match(i),o=r?r.join(""):"",s=!0),s&&this.stageText.$getText()!=o&&this.stageText.$setText(o),this.resetText(),this._text.dispatchEvent(new t.Event(t.Event.CHANGE,!0))},i.prototype.resetText=function(){this._text.$setBaseText(this.stageText.$getText())},i.prototype._hideInput=function(){this.stageText.$removeFromStage()},i.prototype.updateInput=function(){!this._text.$visible&&this.stageText&&this._hideInput()},i.prototype._updateProperties=function(){return this._isFocus?(this.stageText.$resetStageText(),void this.updateInput()):(this.stageText.$setText(this._text.$TextField[13]),this.stageText.$resetStageText(),void this.updateInput())},i}(t.HashObject);t.InputController=e,__reflect(e.prototype,"egret.InputController")}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){function e(e,i,n){n=n||{};var o=null==n.italic?i[16]:n.italic,s=null==n.bold?i[15]:n.bold,a=null==n.size?i[0]:n.size,h=n.fontFamily||i[8]||r.default_fontFamily;return t.sys.measureText(e,h,a,s,o)}var i=new RegExp("(?=[\\u00BF-\\u1FFF\\u2C00-\\uD7FF]|\\b|\\s)(?![。，！、》…）)}”】\\.\\,\\!\\?\\]\\:])"),r=function(r){function n(){var e=r.call(this)||this;e.$inputEnabled=!1,e.inputUtils=null,e.$graphicsNode=null,e.isFlow=!1,e.textArr=[],e.linesArr=[],e.$isTyping=!1;var i=new t.sys.TextNode;return i.fontFamily=n.default_fontFamily,e.textNode=i,e.$renderNode=i,e.$TextField={0:n.default_size,1:0,2:n.default_textColor,3:0/0,4:0/0,5:0,6:0,7:0,8:n.default_fontFamily,9:"left",10:"top",11:"#ffffff",12:"",13:"",14:[],15:!1,16:!1,17:!0,18:!1,19:!1,20:!1,21:0,22:0,23:0,24:t.TextFieldType.DYNAMIC,25:0,26:"#000000",27:0,28:-1,29:0,30:!1,31:!1,32:0,33:!1,34:16777215,35:null,36:null,37:t.TextFieldInputType.TEXT,38:!1},e}return __extends(n,r),n.prototype.createNativeDisplayObject=function(){this.$nativeDisplayObject=new egret_native.NativeDisplayObject(7)},n.prototype.isInput=function(){return this.$TextField[24]==t.TextFieldType.INPUT},n.prototype.$setTouchEnabled=function(t){r.prototype.$setTouchEnabled.call(this,t),this.isInput()&&(this.$inputEnabled=!0)},Object.defineProperty(n.prototype,"fontFamily",{get:function(){return this.$TextField[8]},set:function(t){this.$setFontFamily(t)},enumerable:!0,configurable:!0}),n.prototype.$setFontFamily=function(e){var i=this.$TextField;return i[8]==e?!1:(i[8]=e,this.invalidateFontString(),t.nativeRender&&this.$nativeDisplayObject.setFontFamily(e),!0)},Object.defineProperty(n.prototype,"size",{get:function(){return this.$TextField[0]},set:function(t){this.$setSize(t)},enumerable:!0,configurable:!0}),n.prototype.$setSize=function(e){var i=this.$TextField;return i[0]==e?!1:(i[0]=e,this.invalidateFontString(),t.nativeRender&&this.$nativeDisplayObject.setFontSize(e),!0)},Object.defineProperty(n.prototype,"bold",{get:function(){return this.$TextField[15]},set:function(t){this.$setBold(t)},enumerable:!0,configurable:!0}),n.prototype.$setBold=function(e){var i=this.$TextField;return e==i[15]?!1:(i[15]=e,this.invalidateFontString(),t.nativeRender&&this.$nativeDisplayObject.setBold(e),!0)},Object.defineProperty(n.prototype,"italic",{get:function(){return this.$TextField[16]},set:function(t){this.$setItalic(t)},enumerable:!0,configurable:!0}),n.prototype.$setItalic=function(e){var i=this.$TextField;return e==i[16]?!1:(i[16]=e,this.invalidateFontString(),t.nativeRender&&this.$nativeDisplayObject.setItalic(e),!0)},n.prototype.invalidateFontString=function(){this.$TextField[17]=!0,this.$invalidateTextField()},Object.defineProperty(n.prototype,"textAlign",{get:function(){return this.$TextField[9]},set:function(t){this.$setTextAlign(t)},enumerable:!0,configurable:!0}),n.prototype.$setTextAlign=function(e){var i=this.$TextField;return i[9]==e?!1:(i[9]=e,this.$invalidateTextField(),t.nativeRender&&this.$nativeDisplayObject.setTextAlign(e),!0)},Object.defineProperty(n.prototype,"verticalAlign",{get:function(){return this.$TextField[10]},set:function(t){this.$setVerticalAlign(t)},enumerable:!0,configurable:!0}),n.prototype.$setVerticalAlign=function(e){var i=this.$TextField;return i[10]==e?!1:(i[10]=e,this.$invalidateTextField(),t.nativeRender&&this.$nativeDisplayObject.setVerticalAlign(e),!0)},Object.defineProperty(n.prototype,"lineSpacing",{get:function(){return this.$TextField[1]},set:function(t){this.$setLineSpacing(t)},enumerable:!0,configurable:!0}),n.prototype.$setLineSpacing=function(e){var i=this.$TextField;return i[1]==e?!1:(i[1]=e,this.$invalidateTextField(),t.nativeRender&&this.$nativeDisplayObject.setLineSpacing(e),!0)},Object.defineProperty(n.prototype,"textColor",{get:function(){return this.$TextField[2]},set:function(t){this.$setTextColor(t)},enumerable:!0,configurable:!0}),n.prototype.$setTextColor=function(e){var i=this.$TextField;return i[2]==e?!1:(i[2]=e,this.inputUtils&&this.inputUtils._setColor(this.$TextField[2]),this.$invalidateTextField(),t.nativeRender&&this.$nativeDisplayObject.setTextColor(e),!0)},Object.defineProperty(n.prototype,"wordWrap",{get:function(){return this.$TextField[19]},set:function(t){this.$setWordWrap(t)},enumerable:!0,configurable:!0}),n.prototype.$setWordWrap=function(e){var i=this.$TextField;e!=i[19]&&(i[20]||(i[19]=e,this.$invalidateTextField(),t.nativeRender&&this.$nativeDisplayObject.setWordWrap(e)))},Object.defineProperty(n.prototype,"type",{get:function(){return this.$TextField[24]},set:function(t){this.$setType(t)},enumerable:!0,configurable:!0}),n.prototype.$setType=function(e){var i=this.$TextField;return i[24]!=e?(i[24]=e,t.nativeRender&&this.$nativeDisplayObject.setType(e),e==t.TextFieldType.INPUT?(isNaN(i[3])&&this.$setWidth(100),isNaN(i[4])&&this.$setHeight(30),this.$setTouchEnabled(!0),null==this.inputUtils&&(this.inputUtils=new t.InputController),this.inputUtils.init(this),this.$invalidateTextField(),this.$stage&&this.inputUtils._addStageText()):(this.inputUtils&&(this.inputUtils._removeStageText(),this.inputUtils=null),this.$setTouchEnabled(!1)),!0):!1},Object.defineProperty(n.prototype,"inputType",{get:function(){return this.$TextField[37]},set:function(e){this.$TextField[37]=e,t.nativeRender&&this.$nativeDisplayObject.setInputType(e)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"text",{get:function(){return this.$getText()},set:function(t){this.$setText(t)},enumerable:!0,configurable:!0}),n.prototype.$getText=function(){return this.$TextField[24]==t.TextFieldType.INPUT?this.inputUtils._getText():this.$TextField[13]},n.prototype.$setBaseText=function(e){e=null==e?"":e.toString(),this.isFlow=!1;var i=this.$TextField;if(i[13]!=e){this.$invalidateTextField(),i[13]=e;var r="";return r=i[20]?this.changeToPassText(e):e,t.nativeRender&&this.$nativeDisplayObject.setText(r),this.setMiddleStyle([{text:r}]),!0}return!1},n.prototype.$setText=function(t){null==t&&(t="");var e=this.$setBaseText(t);return this.inputUtils&&this.inputUtils._setText(this.$TextField[13]),e},Object.defineProperty(n.prototype,"displayAsPassword",{get:function(){return this.$TextField[20]},set:function(t){this.$setDisplayAsPassword(t)},enumerable:!0,configurable:!0}),n.prototype.$setDisplayAsPassword=function(e){var i=this.$TextField;if(i[20]!=e){i[20]=e,this.$invalidateTextField();var r="";return r=e?this.changeToPassText(i[13]):i[13],t.nativeRender&&this.$nativeDisplayObject.setText(r),this.setMiddleStyle([{text:r}]),!0}return!1},Object.defineProperty(n.prototype,"strokeColor",{get:function(){return this.$TextField[25]},set:function(t){this.$setStrokeColor(t)},enumerable:!0,configurable:!0}),n.prototype.$setStrokeColor=function(e){var i=this.$TextField;return i[25]!=e?(this.$invalidateTextField(),i[25]=e,t.nativeRender&&this.$nativeDisplayObject.setStrokeColor(e),i[26]=t.toColorString(e),!0):!1},Object.defineProperty(n.prototype,"stroke",{get:function(){return this.$TextField[27]},set:function(t){this.$setStroke(t)},enumerable:!0,configurable:!0}),n.prototype.$setStroke=function(e){return this.$TextField[27]!=e?(this.$invalidateTextField(),this.$TextField[27]=e,t.nativeRender&&this.$nativeDisplayObject.setStroke(e),!0):!1},Object.defineProperty(n.prototype,"maxChars",{get:function(){return this.$TextField[21]},set:function(t){this.$setMaxChars(t)},enumerable:!0,configurable:!0}),n.prototype.$setMaxChars=function(e){return this.$TextField[21]!=e?(this.$TextField[21]=e,t.nativeRender&&this.$nativeDisplayObject.setMaxChars(e),!0):!1},Object.defineProperty(n.prototype,"scrollV",{get:function(){return Math.min(Math.max(this.$TextField[28],1),this.maxScrollV)},set:function(e){this.$TextField[28]=Math.max(e,1),t.nativeRender&&this.$nativeDisplayObject.setScrollV(e),this.$invalidateTextField()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxScrollV",{get:function(){return this.$getLinesArr(),Math.max(this.$TextField[29]-t.TextFieldUtils.$getScrollNum(this)+1,1)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectionBeginIndex",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectionEndIndex",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"caretIndex",{get:function(){return 0},enumerable:!0,configurable:!0}),n.prototype.$setSelection=function(t,e){return!1},n.prototype.$getLineHeight=function(){return this.$TextField[1]+this.$TextField[0]},Object.defineProperty(n.prototype,"numLines",{get:function(){return this.$getLinesArr(),this.$TextField[29]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"multiline",{get:function(){return this.$TextField[30]
},set:function(t){this.$setMultiline(t)},enumerable:!0,configurable:!0}),n.prototype.$setMultiline=function(e){return this.$TextField[30]=e,this.$invalidateTextField(),t.nativeRender&&this.$nativeDisplayObject.setMultiline(e),!0},Object.defineProperty(n.prototype,"restrict",{get:function(){var t=this.$TextField,e=null;return null!=t[35]&&(e=t[35]),null!=t[36]&&(null==e&&(e=""),e+="^"+t[36]),e},set:function(t){var e=this.$TextField;if(null==t)e[35]=null,e[36]=null;else{for(var i=-1;i<t.length&&(i=t.indexOf("^",i),0!=i)&&i>0&&"\\"==t.charAt(i-1);)i++;0==i?(e[35]=null,e[36]=t.substring(i+1)):i>0?(e[35]=t.substring(0,i),e[36]=t.substring(i+1)):(e[35]=t,e[36]=null)}},enumerable:!0,configurable:!0}),n.prototype.$setWidth=function(e){t.nativeRender&&this.$nativeDisplayObject.setTextFieldWidth(e);var i=this.$TextField;if(isNaN(e)){if(isNaN(i[3]))return!1;i[3]=0/0}else{if(i[3]==e)return!1;i[3]=e}return e=+e,0>e?!1:(this.$invalidateTextField(),!0)},n.prototype.$setHeight=function(e){t.nativeRender&&this.$nativeDisplayObject.setTextFieldHeight(e);var i=this.$TextField;if(isNaN(e)){if(isNaN(i[4]))return!1;i[4]=0/0}else{if(i[4]==e)return!1;i[4]=e}return e=+e,0>e?!1:(this.$invalidateTextField(),!0)},n.prototype.$getWidth=function(){var t=this.$TextField;return isNaN(t[3])?this.$getContentBounds().width:t[3]},n.prototype.$getHeight=function(){var t=this.$TextField;return isNaN(t[4])?this.$getContentBounds().height:t[4]},Object.defineProperty(n.prototype,"border",{get:function(){return this.$TextField[31]},set:function(t){this.$setBorder(t)},enumerable:!0,configurable:!0}),n.prototype.$setBorder=function(e){e=!!e,this.$TextField[31]=e,t.nativeRender&&this.$nativeDisplayObject.setBorder(e)},Object.defineProperty(n.prototype,"borderColor",{get:function(){return this.$TextField[32]},set:function(t){this.$setBorderColor(t)},enumerable:!0,configurable:!0}),n.prototype.$setBorderColor=function(e){e=+e||0,this.$TextField[32]=e,t.nativeRender&&this.$nativeDisplayObject.setBorderColor(e)},Object.defineProperty(n.prototype,"background",{get:function(){return this.$TextField[33]},set:function(t){this.$setBackground(t)},enumerable:!0,configurable:!0}),n.prototype.$setBackground=function(e){this.$TextField[33]=e,t.nativeRender&&this.$nativeDisplayObject.setBackground(e)},Object.defineProperty(n.prototype,"backgroundColor",{get:function(){return this.$TextField[34]},set:function(t){this.$setBackgroundColor(t)},enumerable:!0,configurable:!0}),n.prototype.$setBackgroundColor=function(e){this.$TextField[34]=e,t.nativeRender&&this.$nativeDisplayObject.setBackgroundColor(e)},n.prototype.fillBackground=function(e){var i=this.$graphicsNode;i&&i.clear();var r=this.$TextField;if(r[33]||r[31]||e&&e.length>0){if(!i)if(i=this.$graphicsNode=new t.sys.GraphicsNode,t.nativeRender)this.$renderNode=this.textNode;else{var n=new t.sys.GroupNode;n.addNode(i),n.addNode(this.textNode),this.$renderNode=n}var o=void 0,s=void 0;if(r[33]&&(o=i.beginFill(r[34]),o.drawRect(0,0,this.$getWidth(),this.$getHeight())),r[31]&&(s=i.lineStyle(1,r[32]),s.drawRect(0,0,this.$getWidth()-1,this.$getHeight()-1)),e&&e.length>0)for(var a=r[2],h=-1,u=e.length,l=0;u>l;l+=4){var c=e[l],p=e[l+1],d=e[l+2],f=e[l+3]||a;(0>h||h!=f)&&(h=f,s=i.lineStyle(2,f,1,t.CapsStyle.NONE)),s.moveTo(c,p),s.lineTo(c+d,p)}}if(i){var g=this.$getRenderBounds();i.x=g.x,i.y=g.y,i.width=g.width,i.height=g.height,t.Rectangle.release(g)}},n.prototype.setFocus=function(){this.type==t.TextFieldType.INPUT&&this.$stage&&this.inputUtils.$onFocus()},n.prototype.$onRemoveFromStage=function(){r.prototype.$onRemoveFromStage.call(this),this.removeEvent(),this.$TextField[24]==t.TextFieldType.INPUT&&this.inputUtils._removeStageText(),this.textNode&&(this.textNode.clean(),t.nativeRender&&egret_native.NativeDisplayObject.disposeTextData(this))},n.prototype.$onAddToStage=function(e,i){r.prototype.$onAddToStage.call(this,e,i),this.addEvent(),this.$TextField[24]==t.TextFieldType.INPUT&&this.inputUtils._addStageText()},n.prototype.$invalidateTextField=function(){var e=this;if(e.$renderDirty=!0,e.$TextField[18]=!0,e.$TextField[38]=!0,t.nativeRender);else{var i=e.$parent;i&&!i.$cacheDirty&&(i.$cacheDirty=!0,i.$cacheDirtyUp());var r=e.$maskedObject;r&&!r.$cacheDirty&&(r.$cacheDirty=!0,r.$cacheDirtyUp())}},n.prototype.$getRenderBounds=function(){var e=this.$getContentBounds(),i=t.Rectangle.create();i.copyFrom(e),this.$TextField[31]&&(i.width+=2,i.height+=2);var r=2*this.$TextField[27];return r>0&&(i.width+=2*r,i.height+=2*r),i.x-=r+2,i.y-=r+2,i.width=Math.ceil(i.width)+4,i.height=Math.ceil(i.height)+4,i},n.prototype.$measureContentBounds=function(e){this.$getLinesArr();var i=0,r=0;t.nativeRender?(i=egret_native.nrGetTextFieldWidth(this.$nativeDisplayObject.id),r=egret_native.nrGetTextFieldHeight(this.$nativeDisplayObject.id)):(i=isNaN(this.$TextField[3])?this.$TextField[5]:this.$TextField[3],r=isNaN(this.$TextField[4])?t.TextFieldUtils.$getTextHeight(this):this.$TextField[4]),e.setTo(0,0,i,r)},n.prototype.$updateRenderNode=function(){if(this.$TextField[24]==t.TextFieldType.INPUT){if(this.inputUtils._updateProperties(),this.$isTyping)return void this.fillBackground()}else if(0==this.$TextField[3]){var e=this.$graphicsNode;return void(e&&e.clear())}var i=this.drawText();this.fillBackground(i);var r=this.$getRenderBounds(),n=this.textNode;n.x=r.x,n.y=r.y,n.width=Math.ceil(r.width),n.height=Math.ceil(r.height),t.Rectangle.release(r)},Object.defineProperty(n.prototype,"textFlow",{get:function(){return this.textArr},set:function(e){this.isFlow=!0;var i="";null==e&&(e=[]);for(var r=0;r<e.length;r++){var n=e[r];i+=n.text}this.$TextField[20]?this.$setBaseText(i):(this.$TextField[13]=i,this.setMiddleStyle(e),t.nativeRender&&this.$nativeDisplayObject.setTextFlow(e))},enumerable:!0,configurable:!0}),n.prototype.changeToPassText=function(t){if(this.$TextField[20]){for(var e="",i=0,r=t.length;r>i;i++)switch(t.charAt(i)){case"\n":e+="\n";break;case"\r":break;default:e+="*"}return e}return t},n.prototype.setMiddleStyle=function(t){this.$TextField[18]=!0,this.$TextField[38]=!0,this.textArr=t,this.$invalidateTextField()},Object.defineProperty(n.prototype,"textWidth",{get:function(){return this.$getLinesArr(),t.nativeRender?egret_native.nrGetTextWidth(this.$nativeDisplayObject.id):this.$TextField[5]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"textHeight",{get:function(){return this.$getLinesArr(),t.nativeRender?egret_native.nrGetTextHeight(this.$nativeDisplayObject.id):t.TextFieldUtils.$getTextHeight(this)},enumerable:!0,configurable:!0}),n.prototype.appendText=function(t){this.appendElement({text:t})},n.prototype.appendElement=function(e){var i=this.$TextField[13]+e.text;return t.nativeRender?(this.textArr.push(e),this.$TextField[13]=i,this.$TextField[18]=!0,this.$TextField[38]=!0,void this.$nativeDisplayObject.setTextFlow(this.textArr)):void(this.$TextField[20]?this.$setBaseText(i):(this.$TextField[13]=i,this.textArr.push(e),this.setMiddleStyle(this.textArr)))},n.prototype.$getLinesArr=function(){var e=this.$TextField;return t.nativeRender&&e[38]?(egret_native.updateNativeRender(),void(e[38]=!1)):this.$getLinesArr2()},n.prototype.$getLinesArr2=function(){var r=this.$TextField;if(!r[18])return this.linesArr;r[18]=!1;var n=this.textArr;this.linesArr.length=0,r[6]=0,r[5]=0;var o=r[3];if(!isNaN(o)&&0==o)return r[29]=0,[{width:0,height:0,charNum:0,elements:[],hasNextLine:!1}];for(var s,a=this.linesArr,h=0,u=0,l=0,c=0,p=0,d=n.length;d>p;p++){var f=n[p];if(f.text){f.style=f.style||{};for(var g=f.text.toString(),v=g.split(/(?:\r\n|\r|\n)/),y=0,m=v.length;m>y;y++){null==a[c]&&(s={width:0,height:0,elements:[],charNum:0,hasNextLine:!1},a[c]=s,h=0,l=0,u=0),l=r[24]==t.TextFieldType.INPUT?r[0]:Math.max(l,f.style.size||r[0]);var _=!0;if(""==v[y])y==m-1&&(_=!1);else{var b=e(v[y],r,f.style);if(isNaN(o))h+=b,u+=v[y].length,s.elements.push({width:b,text:v[y],style:f.style}),y==m-1&&(_=!1);else if(o>=h+b)s.elements.push({width:b,text:v[y],style:f.style}),h+=b,u+=v[y].length,y==m-1&&(_=!1);else{var $=0,x=0,E=v[y],T=void 0;T=r[19]?E.split(i):E.match(/./g);for(var w=T.length,S=0;w>$;$++){var C=T[$].length,P=!1;if(1==C&&w-1>$){var k=T[$].charCodeAt(0),O=T[$+1].charCodeAt(0);if(k>=55296&&56319>=k&&56320==(64512&O)){var I=T[$]+T[$+1];C=2,P=!0,b=e(I,r,f.style)}else b=e(T[$],r,f.style)}else b=e(T[$],r,f.style);if(0!=h&&h+b>o&&h+$!=0)break;if(x+b>o)for(var D=T[$].match(/./g),R=0,L=D.length;L>R;R++){var C=D[R].length,A=!1;if(1==C&&L-1>R){var k=D[R].charCodeAt(0),O=D[R+1].charCodeAt(0);if(k>=55296&&56319>=k&&56320==(64512&O)){var I=D[R]+D[R+1];C=2,A=!0,b=e(I,r,f.style)}else b=e(D[R],r,f.style)}else b=e(D[R],r,f.style);if(R>0&&h+b>o)break;S+=C,x+=b,h+=b,u+=S,A&&R++}else S+=C,x+=b,h+=b,u+=S;P&&$++}if($>0){s.elements.push({width:x,text:E.substring(0,S),style:f.style});var N=E.substring(S),B=void 0,M=N.length;for(B=0;M>B&&" "==N.charAt(B);B++);v[y]=N.substring(B)}""!=v[y]&&(y--,_=!1)}}_&&(u++,s.hasNextLine=!0),y<v.length-1&&(s.width=h,s.height=l,s.charNum=u,r[5]=Math.max(r[5],h),r[6]+=l,c++)}p==n.length-1&&s&&(s.width=h,s.height=l,s.charNum=u,r[5]=Math.max(r[5],h),r[6]+=l)}else s&&(s.width=h,s.height=l,s.charNum=u,r[5]=Math.max(r[5],h),r[6]+=l)}return r[29]=a.length,a},n.prototype.$setIsTyping=function(e){this.$isTyping=e,this.$invalidateTextField(),t.nativeRender&&this.$nativeDisplayObject.setIsTyping(e)},n.prototype.drawText=function(){var e=this.textNode,i=this.$TextField;e.bold=i[15],e.fontFamily=i[8]||n.default_fontFamily,e.italic=i[16],e.size=i[0],e.stroke=i[27],e.strokeColor=i[25],e.textColor=i[2];var r=this.$getLinesArr();if(0==i[5])return[];var o=isNaN(i[3])?i[5]:i[3],s=t.TextFieldUtils.$getTextHeight(this),a=0,h=t.TextFieldUtils.$getStartLine(this),u=i[4];if(!isNaN(u)&&u>s){var l=t.TextFieldUtils.$getValign(this);a+=l*(u-s)}a=Math.round(a);for(var c=t.TextFieldUtils.$getHalign(this),p=0,d=[],f=h,g=i[29];g>f;f++){var v=r[f],y=v.height;if(a+=y/2,f!=h){if(i[24]==t.TextFieldType.INPUT&&!i[30])break;if(!isNaN(u)&&a>u)break}p=Math.round((o-v.width)*c);for(var m=0,_=v.elements.length;_>m;m++){var b=v.elements[m],$=b.style.size||i[0];e.drawText(p,a+(y-$)/2,b.text,b.style),b.style.underline&&d.push(p,a+y/2,b.width,b.style.textColor),p+=b.width}a+=y/2+i[1]}return d},n.prototype.addEvent=function(){this.addEventListener(t.TouchEvent.TOUCH_TAP,this.onTapHandler,this)},n.prototype.removeEvent=function(){this.removeEventListener(t.TouchEvent.TOUCH_TAP,this.onTapHandler,this)},n.prototype.onTapHandler=function(e){if(this.$TextField[24]!=t.TextFieldType.INPUT){var i=t.TextFieldUtils.$getTextElement(this,e.localX,e.localY);if(null!=i){var r=i.style;if(r&&r.href)if(r.href.match(/^event:/)){var n=r.href.match(/^event:/)[0];t.TextEvent.dispatchTextEvent(this,t.TextEvent.LINK,r.href.substring(n.length))}else open(r.href,r.target||"_blank")}}},n.default_fontFamily="Arial",n.default_size=30,n.default_textColor=16777215,n}(t.DisplayObject);t.TextField=r,__reflect(r.prototype,"egret.TextField")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.TEXT="text",t.TEL="tel",t.PASSWORD="password",t}();t.TextFieldInputType=e,__reflect(e.prototype,"egret.TextFieldInputType")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.DYNAMIC="dynamic",t.INPUT="input",t}();t.TextFieldType=e,__reflect(e.prototype,"egret.TextFieldType")}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){}return e.$getStartLine=function(t){var i=t.$TextField,r=e.$getTextHeight(t),n=0,o=i[4];return isNaN(o)||(o>r||r>o&&(n=Math.max(i[28]-1,0),n=Math.min(i[29]-1,n)),i[30]||(n=Math.max(i[28]-1,0),i[29]>0&&(n=Math.min(i[29]-1,n)))),n},e.$getHalign=function(e){var i=e.$getLinesArr2(),r=0;return e.$TextField[9]==t.HorizontalAlign.CENTER?r=.5:e.$TextField[9]==t.HorizontalAlign.RIGHT&&(r=1),e.$TextField[24]==t.TextFieldType.INPUT&&!e.$TextField[30]&&i.length>1&&(r=0),r},e.$getTextHeight=function(e){var i=t.TextFieldType.INPUT!=e.$TextField[24]||e.$TextField[30]?e.$TextField[6]+(e.$TextField[29]-1)*e.$TextField[1]:e.$TextField[0];return i},e.$getValign=function(i){var r=e.$getTextHeight(i),n=i.$TextField[4];if(!isNaN(n)&&n>r){var o=0;return i.$TextField[10]==t.VerticalAlign.MIDDLE?o=.5:i.$TextField[10]==t.VerticalAlign.BOTTOM&&(o=1),o}return 0},e.$getTextElement=function(t,i,r){var n=e.$getHit(t,i,r),o=t.$getLinesArr2();return n&&o[n.lineIndex]&&o[n.lineIndex].elements[n.textElementIndex]?o[n.lineIndex].elements[n.textElementIndex]:null},e.$getHit=function(t,i,r){var n=t.$getLinesArr2();if(0==t.$TextField[3])return null;var o=0,s=e.$getTextHeight(t),a=0,h=t.$TextField[4];if(!isNaN(h)&&h>s){var u=e.$getValign(t);a=u*(h-s),0!=a&&(r-=a)}for(var l=e.$getStartLine(t),c=0,p=l;p<n.length;p++){var d=n[p];if(c+d.height>=r){r>c&&(o=p+1);break}if(c+=d.height,c+t.$TextField[1]>r)return null;c+=t.$TextField[1]}if(0==o)return null;var f=n[o-1],g=t.$TextField[3];isNaN(g)&&(g=t.textWidth);var v=e.$getHalign(t);i-=v*(g-f.width);for(var y=0,p=0;p<f.elements.length;p++){var m=f.elements[p];if(y+m.width<=i)y+=m.width;else if(i>y)return{lineIndex:o-1,textElementIndex:p}}return null},e.$getScrollNum=function(t){var e=1;if(t.$TextField[30]){var i=t.height,r=t.size,n=t.lineSpacing;e=Math.floor(i/(r+n));var o=i-(r+n)*e;o>r/2&&e++}return e},e}();t.TextFieldUtils=e,__reflect(e.prototype,"egret.TextFieldUtils")}(egret||(egret={}));var egret;!function(t){var e;!function(t){}(e=t.sys||(t.sys={}))}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.TOP="top",t.BOTTOM="bottom",t.MIDDLE="middle",t.JUSTIFY="justify",t.CONTENT_JUSTIFY="contentJustify",t}();t.VerticalAlign=e,__reflect(e.prototype,"egret.VerticalAlign")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.encode=function(t){for(var e=new Uint8Array(t),i=e.length,r="",n=0;i>n;n+=3)r+=chars[e[n]>>2],r+=chars[(3&e[n])<<4|e[n+1]>>4],r+=chars[(15&e[n+1])<<2|e[n+2]>>6],r+=chars[63&e[n+2]];return i%3===2?r=r.substring(0,r.length-1)+"=":i%3===1&&(r=r.substring(0,r.length-2)+"=="),r},t.decode=function(t){var e=.75*t.length,i=t.length,r=0,n=0,o=0,s=0,a=0;"="===t[t.length-1]&&(e--,"="===t[t.length-2]&&e--);for(var h=new ArrayBuffer(e),u=new Uint8Array(h),l=0;i>l;l+=4)n=lookup[t.charCodeAt(l)],o=lookup[t.charCodeAt(l+1)],s=lookup[t.charCodeAt(l+2)],a=lookup[t.charCodeAt(l+3)],u[r++]=n<<2|o>>4,u[r++]=(15&o)<<4|s>>2,u[r++]=(3&s)<<6|63&a;return h},t}();t.Base64Util=e,__reflect(e.prototype,"egret.Base64Util")}(egret||(egret={}));for(var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=new Uint8Array(256),i=0;i<chars.length;i++)lookup[chars.charCodeAt(i)]=i;var egret;!function(t){var e=function(){function t(){}return t.LITTLE_ENDIAN="littleEndian",t.BIG_ENDIAN="bigEndian",t}();t.Endian=e,__reflect(e.prototype,"egret.Endian");var i=function(){function i(t,i){void 0===i&&(i=0),this.bufferExtSize=0,this.EOF_byte=-1,this.EOF_code_point=-1,0>i&&(i=0),this.bufferExtSize=i;var r,n=0;if(t){var o=void 0;if(t instanceof Uint8Array?(o=t,n=t.length):(n=t.byteLength,o=new Uint8Array(t)),0==i)r=new Uint8Array(n);else{var s=(n/i|0)+1;r=new Uint8Array(s*i)}r.set(o)}else r=new Uint8Array(i);this.write_position=n,this._position=0,this._bytes=r,this.data=new DataView(r.buffer),this.endian=e.BIG_ENDIAN}return Object.defineProperty(i.prototype,"endian",{get:function(){return 0==this.$endian?e.LITTLE_ENDIAN:e.BIG_ENDIAN},set:function(t){this.$endian=t==e.LITTLE_ENDIAN?0:1},enumerable:!0,configurable:!0}),i.prototype.setArrayBuffer=function(t){},Object.defineProperty(i.prototype,"readAvailable",{get:function(){return this.write_position-this._position},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"buffer",{get:function(){return this.data.buffer.slice(0,this.write_position)},set:function(t){var e,i=t.byteLength,r=new Uint8Array(t),n=this.bufferExtSize;if(0==n)e=new Uint8Array(i);else{var o=(i/n|0)+1;e=new Uint8Array(o*n)}e.set(r),this.write_position=i,this._bytes=e,this.data=new DataView(e.buffer)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"rawBuffer",{get:function(){return this.data.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bytes",{get:function(){return this._bytes},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"dataView",{get:function(){return this.data},set:function(t){this.buffer=t.buffer},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"bufferOffset",{get:function(){return this.data.byteOffset},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t,t>this.write_position&&(this.write_position=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"length",{get:function(){return this.write_position},set:function(t){this.write_position=t,this.data.byteLength>t&&(this._position=t),this._validateBuffer(t)},enumerable:!0,configurable:!0}),i.prototype._validateBuffer=function(t){if(this.data.byteLength<t){var e=this.bufferExtSize,i=void 0;if(0==e)i=new Uint8Array(t);else{var r=((t/e>>0)+1)*e;i=new Uint8Array(r)}i.set(this._bytes),this._bytes=i,this.data=new DataView(i.buffer)}},Object.defineProperty(i.prototype,"bytesAvailable",{get:function(){return this.data.byteLength-this._position},enumerable:!0,configurable:!0}),i.prototype.clear=function(){var t=new ArrayBuffer(this.bufferExtSize);this.data=new DataView(t),this._bytes=new Uint8Array(t),this._position=0,this.write_position=0},i.prototype.readBoolean=function(){return this.validate(1)?!!this._bytes[this.position++]:void 0},i.prototype.readByte=function(){return this.validate(1)?this.data.getInt8(this.position++):void 0},i.prototype.readBytes=function(e,i,r){if(void 0===i&&(i=0),void 0===r&&(r=0),e){var n=this._position,o=this.write_position-n;if(0>o)return void t.$error(1025);if(0==r)r=o;else if(r>o)return void t.$error(1025);var s=e._position;e._position=0,e.validateBuffer(i+r),e._position=s,e._bytes.set(this._bytes.subarray(n,n+r),i),this.position+=r}},i.prototype.readDouble=function(){if(this.validate(8)){var t=this.data.getFloat64(this._position,0==this.$endian);return this.position+=8,t}},i.prototype.readFloat=function(){if(this.validate(4)){var t=this.data.getFloat32(this._position,0==this.$endian);return this.position+=4,t}},i.prototype.readInt=function(){if(this.validate(4)){var t=this.data.getInt32(this._position,0==this.$endian);return this.position+=4,t}},i.prototype.readShort=function(){if(this.validate(2)){var t=this.data.getInt16(this._position,0==this.$endian);return this.position+=2,t}},i.prototype.readUnsignedByte=function(){return this.validate(1)?this._bytes[this.position++]:void 0},i.prototype.readUnsignedInt=function(){if(this.validate(4)){var t=this.data.getUint32(this._position,0==this.$endian);return this.position+=4,t}},i.prototype.readUnsignedShort=function(){if(this.validate(2)){var t=this.data.getUint16(this._position,0==this.$endian);return this.position+=2,t}},i.prototype.readUTF=function(){var t=this.readUnsignedShort();return t>0?this.readUTFBytes(t):""},i.prototype.readUTFBytes=function(t){if(this.validate(t)){var e=this.data,i=new Uint8Array(e.buffer,e.byteOffset+this._position,t);return this.position+=t,this.decodeUTF8(i)}},i.prototype.writeBoolean=function(t){this.validateBuffer(1),this._bytes[this.position++]=+t},i.prototype.writeByte=function(t){this.validateBuffer(1),this._bytes[this.position++]=255&t},i.prototype.writeBytes=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var r;0>e||0>i||(r=0==i?t.length-e:Math.min(t.length-e,i),r>0&&(this.validateBuffer(r),this._bytes.set(t._bytes.subarray(e,e+r),this._position),this.position=this._position+r))},i.prototype.writeDouble=function(t){this.validateBuffer(8),this.data.setFloat64(this._position,t,0==this.$endian),this.position+=8},i.prototype.writeFloat=function(t){this.validateBuffer(4),this.data.setFloat32(this._position,t,0==this.$endian),this.position+=4},i.prototype.writeInt=function(t){this.validateBuffer(4),this.data.setInt32(this._position,t,0==this.$endian),this.position+=4},i.prototype.writeShort=function(t){this.validateBuffer(2),this.data.setInt16(this._position,t,0==this.$endian),this.position+=2},i.prototype.writeUnsignedInt=function(t){this.validateBuffer(4),this.data.setUint32(this._position,t,0==this.$endian),this.position+=4},i.prototype.writeUnsignedShort=function(t){this.validateBuffer(2),this.data.setUint16(this._position,t,0==this.$endian),this.position+=2},i.prototype.writeUTF=function(t){var e=this.encodeUTF8(t),i=e.length;this.validateBuffer(2+i),this.data.setUint16(this._position,i,0==this.$endian),this.position+=2,this._writeUint8Array(e,!1)},i.prototype.writeUTFBytes=function(t){this._writeUint8Array(this.encodeUTF8(t))},i.prototype.toString=function(){return"[ByteArray] length:"+this.length+", bytesAvailable:"+this.bytesAvailable},i.prototype._writeUint8Array=function(t,e){void 0===e&&(e=!0);var i=this._position,r=i+t.length;e&&this.validateBuffer(r),this.bytes.set(t,i),this.position=r},i.prototype.validate=function(e){var i=this._bytes.length;return i>0&&this._position+e<=i?!0:void t.$error(1025)},i.prototype.validateBuffer=function(t){this.write_position=t>this.write_position?t:this.write_position,t+=this._position,this._validateBuffer(t)},i.prototype.encodeUTF8=function(t){for(var e=0,i=this.stringToCodePoints(t),r=[];i.length>e;){var n=i[e++];if(this.inRange(n,55296,57343))this.encoderError(n);else if(this.inRange(n,0,127))r.push(n);else{var o=void 0,s=void 0;for(this.inRange(n,128,2047)?(o=1,s=192):this.inRange(n,2048,65535)?(o=2,s=224):this.inRange(n,65536,1114111)&&(o=3,s=240),r.push(this.div(n,Math.pow(64,o))+s);o>0;){var a=this.div(n,Math.pow(64,o-1));r.push(128+a%64),o-=1}}}return new Uint8Array(r)},i.prototype.decodeUTF8=function(t){for(var e,i=!1,r=0,n="",o=0,s=0,a=0,h=0;t.length>r;){var u=t[r++];if(u==this.EOF_byte)e=0!=s?this.decoderError(i):this.EOF_code_point;else if(0==s)this.inRange(u,0,127)?e=u:(this.inRange(u,194,223)?(s=1,h=128,o=u-192):this.inRange(u,224,239)?(s=2,h=2048,o=u-224):this.inRange(u,240,244)?(s=3,h=65536,o=u-240):this.decoderError(i),o*=Math.pow(64,s),e=null);else if(this.inRange(u,128,191))if(a+=1,o+=(u-128)*Math.pow(64,s-a),a!==s)e=null;else{var l=o,c=h;o=0,s=0,a=0,h=0,e=this.inRange(l,c,1114111)&&!this.inRange(l,55296,57343)?l:this.decoderError(i,u)}else o=0,s=0,a=0,h=0,r--,e=this.decoderError(i,u);null!==e&&e!==this.EOF_code_point&&(65535>=e?e>0&&(n+=String.fromCharCode(e)):(e-=65536,n+=String.fromCharCode(55296+(e>>10&1023)),n+=String.fromCharCode(56320+(1023&e))))}return n},i.prototype.encoderError=function(e){t.$error(1026,e)},i.prototype.decoderError=function(e,i){return e&&t.$error(1027),i||65533},i.prototype.inRange=function(t,e,i){return t>=e&&i>=t},i.prototype.div=function(t,e){return Math.floor(t/e)},i.prototype.stringToCodePoints=function(t){for(var e=[],i=0,r=t.length;i<t.length;){var n=t.charCodeAt(i);if(this.inRange(n,55296,57343))if(this.inRange(n,56320,57343))e.push(65533);else if(i==r-1)e.push(65533);else{var o=t.charCodeAt(i+1);if(this.inRange(o,56320,57343)){var s=1023&n,a=1023&o;i+=1,e.push(65536+(s<<10)+a)}else e.push(65533)}else e.push(n);i+=1}return e},i}();t.ByteArray=i,__reflect(i.prototype,"egret.ByteArray")}(egret||(egret={}));var egret;!function(t){t.BitmapFillMode={REPEAT:"repeat",SCALE:"scale",CLIP:"clip"}}(egret||(egret={}));var egret;!function(t){function e(e,i,r){e||t.$error(1003,"classDefinition"),e.prototype||t.$error(1012,"classDefinition"),void 0===i&&t.$error(1003,"className");var n=e.prototype;n.__class__=i;var o=[i];r&&(o=o.concat(r));var s=n.__types__;if(n.__types__)for(var a=s.length,h=0;a>h;h++){var u=s[h];-1==o.indexOf(u)&&o.push(u)}n.__types__=o}t.registerClass=e}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.$stageWidth=0,i.$stageHeight=0,i.$scaleMode=t.StageScaleMode.SHOW_ALL,i.$orientation=t.OrientationMode.AUTO,i.$maxTouches=99,i.$stage=i,i.$nestLevel=1,i}return __extends(i,e),i.prototype.createNativeDisplayObject=function(){this.$nativeDisplayObject=new egret_native.NativeDisplayObject(13)},Object.defineProperty(i.prototype,"frameRate",{get:function(){return t.ticker.$frameRate},set:function(e){t.ticker.$setFrameRate(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stageWidth",{get:function(){return this.$stageWidth},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"stageHeight",{get:function(){return this.$stageHeight},enumerable:!0,configurable:!0}),i.prototype.invalidate=function(){t.sys.$invalidateRenderFlag=!0},i.prototype.registerImplementation=function(e,i){t.registerImplementation(e,i)},i.prototype.getImplementation=function(e){return t.getImplementation(e)},Object.defineProperty(i.prototype,"scaleMode",{get:function(){return this.$scaleMode},set:function(t){this.$scaleMode!=t&&(this.$scaleMode=t,this.$screen.updateScreenSize())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"orientation",{get:function(){return this.$orientation},set:function(t){this.$orientation!=t&&(this.$orientation=t,this.$screen.updateScreenSize())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"textureScaleFactor",{get:function(){return t.$TextureScaleFactor},set:function(e){t.$TextureScaleFactor=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"maxTouches",{get:function(){return this.$maxTouches},set:function(t){this.$maxTouches!=t&&(this.$maxTouches=t,this.$screen.updateMaxTouches())},enumerable:!0,configurable:!0}),i.prototype.setContentSize=function(t,e){this.$screen.setContentSize(t,e)},i}(t.DisplayObjectContainer);t.Stage=e,__reflect(e.prototype,"egret.Stage"),t.$markCannotUse(e,"alpha",1),t.$markCannotUse(e,"visible",!0),t.$markCannotUse(e,"x",0),t.$markCannotUse(e,"y",0),t.$markCannotUse(e,"scaleX",1),t.$markCannotUse(e,"scaleY",1),t.$markCannotUse(e,"rotation",0),t.$markCannotUse(e,"cacheAsBitmap",!1),t.$markCannotUse(e,"scrollRect",null),t.$markCannotUse(e,"filters",null),t.$markCannotUse(e,"blendMode",null),t.$markCannotUse(e,"touchEnabled",!0),t.$markCannotUse(e,"matrix",null)}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return Object.defineProperty(t,"logLevel",{set:function(t){},enumerable:!0,configurable:!0}),t.ALL="all",t.DEBUG="debug",t.INFO="info",t.WARN="warn",t.ERROR="error",t.OFF="off",t}();t.Logger=e,__reflect(e.prototype,"egret.Logger")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.isNumber=function(t){return"number"==typeof t&&!isNaN(t)},t.sin=function(e){var i=Math.floor(e),r=i+1,n=t.sinInt(i);if(i==e)return n;var o=t.sinInt(r);return(e-i)*o+(r-e)*n},t.sinInt=function(t){return t%=360,0>t&&(t+=360),egret_sin_map[t]},t.cos=function(e){var i=Math.floor(e),r=i+1,n=t.cosInt(i);if(i==e)return n;var o=t.cosInt(r);return(e-i)*o+(r-e)*n},t.cosInt=function(t){return t%=360,0>t&&(t+=360),egret_cos_map[t]},t}();t.NumberUtils=e,__reflect(e.prototype,"egret.NumberUtils")}(egret||(egret={}));for(var egret_sin_map={},egret_cos_map={},DEG_TO_RAD=Math.PI/180,NumberUtils_i=0;360>NumberUtils_i;NumberUtils_i++)egret_sin_map[NumberUtils_i]=Math.sin(NumberUtils_i*DEG_TO_RAD),egret_cos_map[NumberUtils_i]=Math.cos(NumberUtils_i*DEG_TO_RAD);egret_sin_map[90]=1,egret_cos_map[90]=0,egret_sin_map[180]=0,egret_cos_map[180]=-1,egret_sin_map[270]=-1,egret_cos_map[270]=0,Function.prototype.bind||(Function.prototype.bind=function(t){"function"!=typeof this&&egret.$error(1029);var e=Array.prototype.slice.call(arguments,1),i=this,r=function(){},n=function(){return i.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,n.prototype=new r,n});var egret;!function(t){var e=function(e){function i(t,i){void 0===i&&(i=0);var r=e.call(this)||this;return r._delay=0,r._currentCount=0,r._running=!1,r.updateInterval=1e3,r.lastCount=1e3,r.lastTimeStamp=0,r.delay=t,r.repeatCount=0|+i,r}return __extends(i,e),Object.defineProperty(i.prototype,"delay",{get:function(){return this._delay},set:function(t){1>t&&(t=1),this._delay!=t&&(this._delay=t,this.lastCount=this.updateInterval=Math.round(60*t))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentCount",{get:function(){return this._currentCount},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"running",{get:function(){return this._running},enumerable:!0,configurable:!0}),i.prototype.reset=function(){this.stop(),this._currentCount=0},i.prototype.start=function(){this._running||(this.lastCount=this.updateInterval,this.lastTimeStamp=t.getTimer(),t.ticker.$startTick(this.$update,this),this._running=!0)},i.prototype.stop=function(){this._running&&(t.stopTick(this.$update,this),this._running=!1)},i.prototype.$update=function(e){var i=e-this.lastTimeStamp;if(i>=this._delay)this.lastCount=this.updateInterval;else{if(this.lastCount-=1e3,this.lastCount>0)return!1;this.lastCount+=this.updateInterval}this.lastTimeStamp=e,this._currentCount++;var r=this.repeatCount>0&&this._currentCount>=this.repeatCount;return t.TimerEvent.dispatchTimerEvent(this,t.TimerEvent.TIMER),r&&(this.stop(),t.TimerEvent.dispatchTimerEvent(this,t.TimerEvent.TIMER_COMPLETE)),!1},i}(t.EventDispatcher);t.Timer=e,__reflect(e.prototype,"egret.Timer")}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){function e(e,i){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];t.$callLaterFunctionList.push(e),t.$callLaterThisList.push(i),t.$callLaterArgsList.push(r)}function i(e,i){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];t.$callAsyncFunctionList.push(e),t.$callAsyncThisList.push(i),t.$callAsyncArgsList.push(r)}t.$callLaterFunctionList=[],t.$callLaterThisList=[],t.$callLaterArgsList=[],t.callLater=e,t.$callAsyncFunctionList=[],t.$callAsyncThisList=[],t.$callAsyncArgsList=[],t.$callAsync=i}(egret||(egret={}));var egret;!function(t){function e(t,e,i){for(var r=[],n=3;n<arguments.length;n++)r[n-3]=arguments[n];var o,s=t.prototype;t.hasOwnProperty("__sets__")||Object.defineProperty(t,"__sets__",{value:{}}),o=t.__sets__;var a=o[i];if(a)return a.apply(e,r);var h=Object.getPrototypeOf(s);if(null!=h){for(;!h.hasOwnProperty(i);)if(h=Object.getPrototypeOf(h),null==h)return;a=Object.getOwnPropertyDescriptor(h,i).set,o[i]=a,a.apply(e,r)}}function i(t,e,i){var r,n=t.prototype;t.hasOwnProperty("__gets__")||Object.defineProperty(t,"__gets__",{value:{}}),r=t.__gets__;var o=r[i];if(o)return o.call(e);var s=Object.getPrototypeOf(n);if(null!=s){for(;!s.hasOwnProperty(i);)if(s=Object.getPrototypeOf(s),null==s)return;return o=Object.getOwnPropertyDescriptor(s,i).get,r[i]=o,o.call(e)}}t.superSetter=e,t.superGetter=i}(egret||(egret={}));var egret;!function(t){function e(t){if(!t)return null;var e=i[t];if(e)return e;var r=t.split("."),n=r.length;e=global;for(var o=0;n>o;o++){var s=r[o];if(e=e[s],!e)return null}return i[t]=e,e}var i={};t.getDefinitionByName=e,t.cleanCache=function(){i={}}}(egret||(egret={}));var egret;!function(t){}(egret||(egret={}));var egret;!function(t){function e(t){var e=typeof t;if(!t||"object"!=e&&!t.prototype)return e;var i=t.prototype?t.prototype:Object.getPrototypeOf(t);if(i.hasOwnProperty("__class__"))return i.__class__;var r=i.constructor.toString().trim(),n=r.indexOf("("),o=r.substring(9,n);return Object.defineProperty(i,"__class__",{value:o,enumerable:!1,writable:!0}),o}t.getQualifiedClassName=e}(egret||(egret={}));var egret;!function(t){function e(e){if(!e||"object"!=typeof e&&!e.prototype)return null;var i=e.prototype?e.prototype:Object.getPrototypeOf(e),r=Object.getPrototypeOf(i);if(!r)return null;var n=t.getQualifiedClassName(r.constructor);return n?n:null}t.getQualifiedSuperclassName=e}(egret||(egret={}));var egret;!function(t){function e(){return Date.now()-t.sys.$START_TIME}t.getTimer=e}(egret||(egret={}));var egret;!function(t){function e(e){var i=t.getDefinitionByName(e);return i?!0:!1}t.hasDefinition=e
}(egret||(egret={}));var egret;!function(t){function e(t,e){if(!t||"object"!=typeof t)return!1;var i=Object.getPrototypeOf(t),r=i?i.__types__:null;return r?-1!==r.indexOf(e):!1}t.is=e}(egret||(egret={}));var egret;!function(t){function e(e,i){e||t.$error(1003,"callBack"),t.ticker.$startTick(e,i)}t.startTick=e}(egret||(egret={}));var egret;!function(t){function e(e,i){e||t.$error(1003,"callBack"),t.ticker.$stopTick(e,i)}t.stopTick=e}(egret||(egret={}));var egret;!function(t){function e(t){0>t&&(t=0),t>16777215&&(t=16777215);for(var e=t.toString(16).toUpperCase();e.length>6;)e=e.slice(1,e.length);for(;e.length<6;)e="0"+e;return"#"+e}t.toColorString=e}(egret||(egret={}));var egret;!function(t){var e;!function(t){}(e=t.sys||(t.sys={}))}(egret||(egret={})),window.egret=egret;var egret=window.egret,__reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},egret;!function(t){var e=function(){function t(){}return t.BINARY="binary",t.TEXT="text",t.VARIABLES="variables",t.TEXTURE="texture",t.SOUND="sound",t}();t.URLLoaderDataFormat=e,__reflect(e.prototype,"egret.URLLoaderDataFormat")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e,i,r){var n=t.call(this)||this;return n._name=e,n._frame=0|i,r&&(n._end=0|r),n}return __extends(e,t),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!0,configurable:!0}),e.prototype.clone=function(){return new e(this._name,this._frame,this._end)},e}(t.EventDispatcher);t.FrameLabel=e,__reflect(e.prototype,"egret.FrameLabel")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.$mcData=null,t.numFrames=1,t.frames=[],t.labels=null,t.events=[],t.frameRate=0,t.textureData=null,t.spriteSheet=null,t}return __extends(i,e),i.prototype.$init=function(t,e,i){this.textureData=e,this.spriteSheet=i,this.setMCData(t)},i.prototype.getKeyFrameData=function(t){var e=this.frames[t-1];return e.frame&&(e=this.frames[e.frame-1]),e},i.prototype.getTextureByFrame=function(t){var e=this.getKeyFrameData(t);if(e.res){var i=this.getTextureByResName(e.res);return i}return null},i.prototype.$getOffsetByFrame=function(t,e){var i=this.getKeyFrameData(t);i.res&&e.setTo(0|i.x,0|i.y)},i.prototype.getTextureByResName=function(t){if(null==this.spriteSheet)return null;var e=this.spriteSheet.getTexture(t);if(!e){var i=this.textureData[t];e=this.spriteSheet.createTexture(t,i.x,i.y,i.w,i.h)}return e},i.prototype.$isDataValid=function(){return this.frames.length>0},i.prototype.$isTextureValid=function(){return null!=this.textureData&&null!=this.spriteSheet},i.prototype.$fillMCData=function(t){this.frameRate=t.frameRate||24,this.fillFramesData(t.frames),this.fillFrameLabelsData(t.labels),this.fillFrameEventsData(t.events)},i.prototype.fillFramesData=function(t){for(var e,i=this.frames,r=t?t.length:0,n=0;r>n;n++){var o=t[n];if(i.push(o),o.duration){var s=parseInt(o.duration);if(s>1){e=i.length;for(var a=1;s>a;a++)i.push({frame:e})}}}this.numFrames=i.length},i.prototype.fillFrameLabelsData=function(e){if(e){var i=e.length;if(i>0){this.labels=[];for(var r=0;i>r;r++){var n=e[r];this.labels.push(new t.FrameLabel(n.name,n.frame,n.end))}}}},i.prototype.fillFrameEventsData=function(t){if(t){var e=t.length;if(e>0){this.events=[];for(var i=0;e>i;i++){var r=t[i];this.events[r.frame]=r.name}}}},Object.defineProperty(i.prototype,"mcData",{get:function(){return this.$mcData},set:function(t){this.setMCData(t)},enumerable:!0,configurable:!0}),i.prototype.setMCData=function(t){this.$mcData!=t&&(this.$mcData=t,t&&this.$fillMCData(t))},i}(t.HashObject);t.MovieClipData=e,__reflect(e.prototype,"egret.MovieClipData")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i){var r=e.call(this)||this;return r.enableCache=!0,r.$mcDataCache={},r.$mcDataSet=t,r.setTexture(i),r}return __extends(i,e),i.prototype.clearCache=function(){this.$mcDataCache={}},i.prototype.generateMovieClipData=function(e){if(void 0===e&&(e=""),""==e&&this.$mcDataSet)for(e in this.$mcDataSet.mc)break;if(""==e)return null;var i=this.findFromCache(e,this.$mcDataCache);return i||(i=new t.MovieClipData,this.fillData(e,i,this.$mcDataCache)),i},i.prototype.findFromCache=function(t,e){return this.enableCache&&e[t]?e[t]:null},i.prototype.fillData=function(t,e,i){if(this.$mcDataSet){var r=this.$mcDataSet.mc[t];r&&(e.$init(r,this.$mcDataSet.res,this.$spriteSheet),this.enableCache&&(i[t]=e))}},Object.defineProperty(i.prototype,"mcDataSet",{get:function(){return this.$mcDataSet},set:function(t){this.$mcDataSet=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"texture",{set:function(t){this.setTexture(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"spriteSheet",{get:function(){return this.$spriteSheet},enumerable:!0,configurable:!0}),i.prototype.setTexture=function(e){this.$spriteSheet=e?new t.SpriteSheet(e):null},i}(t.EventDispatcher);t.MovieClipDataFactory=e,__reflect(e.prototype,"egret.MovieClipDataFactory")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,r,n){void 0===i&&(i=!1),void 0===r&&(r=!1),void 0===n&&(n=null);var o=e.call(this,t,i,r)||this;return o.frameLabel=null,o.frameLabel=n,o}return __extends(i,e),i.dispatchMovieClipEvent=function(e,r,n){void 0===n&&(n=null);var o=t.Event.create(i,r);o.frameLabel=n;var s=e.dispatchEvent(o);return t.Event.release(o),s},i.FRAME_LABEL="frame_label",i}(t.Event);t.MovieClipEvent=e,__reflect(e.prototype,"egret.MovieClipEvent")}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){t.$error(1014)}return e.get=function(t){return-1>t&&(t=-1),t>1&&(t=1),function(e){return 0==t?e:0>t?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},e.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},e.quintOut=e.getPowOut(5),e.quartOut=e.getPowOut(4),e}();t.ScrollEase=e,__reflect(e.prototype,"egret.ScrollEase");var i=function(e){function i(t,i,r){var n=e.call(this)||this;return n._target=null,n._useTicks=!1,n.ignoreGlobalPause=!1,n.loop=!1,n.pluginData=null,n._steps=null,n._actions=null,n.paused=!1,n.duration=0,n._prevPos=-1,n.position=null,n._prevPosition=0,n._stepPosition=0,n.passive=!1,n.initialize(t,i,r),n}return __extends(i,e),i.get=function(t,e,r,n){return void 0===e&&(e=null),void 0===r&&(r=null),void 0===n&&(n=!1),n&&i.removeTweens(t),new i(t,e,r)},i.removeTweens=function(t){if(t.tween_count){for(var e=i._tweens,r=e.length-1;r>=0;r--)e[r]._target==t&&(e[r].paused=!0,e.splice(r,1));t.tween_count=0}},i.tick=function(t,e){void 0===e&&(e=!1);var r=t-i._lastTime;i._lastTime=t;for(var n=i._tweens.concat(),o=n.length-1;o>=0;o--){var s=n[o];e&&!s.ignoreGlobalPause||s.paused||s.tick(s._useTicks?1:r)}return!1},i._register=function(e,r){var n=e._target,o=i._tweens;if(r)n&&(n.tween_count=n.tween_count>0?n.tween_count+1:1),o.push(e),i._inited||(i._lastTime=t.getTimer(),t.ticker.$startTick(i.tick,null),i._inited=!0);else{n&&n.tween_count--;for(var s=o.length;s--;)if(o[s]==e)return void o.splice(s,1)}},i.prototype.initialize=function(t,e,r){this._target=t,e&&(this._useTicks=e.useTicks,this.ignoreGlobalPause=e.ignoreGlobalPause,this.loop=e.loop,e.onChange&&this.addEventListener("change",e.onChange,e.onChangeObj),e.override&&i.removeTweens(t)),this.pluginData=r||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],e&&e.paused?this.paused=!0:i._register(this,!0),e&&null!=e.position&&this.setPosition(e.position)},i.prototype.setPosition=function(t,e){void 0===e&&(e=1),0>t&&(t=0);var i=t,r=!1;if(i>=this.duration&&(this.loop?i%=this.duration:(i=this.duration,r=!0)),i==this._prevPos)return r;var n=this._prevPos;if(this.position=this._prevPos=i,this._prevPosition=t,this._target)if(r)this._updateTargetProps(null,1);else if(this._steps.length>0){var o=void 0,s=this._steps.length;for(o=0;s>o&&!(this._steps[o].t>i);o++);var a=this._steps[o-1];this._updateTargetProps(a,(this._stepPosition=i-a.t)/a.d)}return r&&this.setPaused(!0),0!=e&&this._actions.length>0&&(this._useTicks?this._runActions(i,i):1==e&&n>i?(n!=this.duration&&this._runActions(n,this.duration),this._runActions(0,i,!0)):this._runActions(n,i)),this.dispatchEventWith("change"),r},i.prototype._runActions=function(t,e,i){void 0===i&&(i=!1);var r=t,n=e,o=-1,s=this._actions.length,a=1;for(t>e&&(r=e,n=t,o=s,s=a=-1);(o+=a)!=s;){var h=this._actions[o],u=h.t;(u==n||u>r&&n>u||i&&u==t)&&h.f.apply(h.o,h.p)}},i.prototype._updateTargetProps=function(t,e){var r,n,o,s,a,h;if(t||1!=e){if(this.passive=!!t.v,this.passive)return;t.e&&(e=t.e(e,0,1,1)),r=t.p0,n=t.p1}else this.passive=!1,r=n=this._curQueueProps;for(var u in this._initQueueProps){null==(s=r[u])&&(r[u]=s=this._initQueueProps[u]),null==(a=n[u])&&(n[u]=a=s),o=s==a||0==e||1==e||"number"!=typeof s?1==e?a:s:s+(a-s)*e;var l=!1;if(h=i._plugins[u])for(var c=0,p=h.length;p>c;c++){var d=h[c].tween(this,u,o,r,n,e,!!t&&r==n,!t);d==i.IGNORE?l=!0:o=d}l||(this._target[u]=o)}},i.prototype.setPaused=function(t){return this.paused=t,i._register(this,!t),this},i.prototype._cloneProps=function(t){var e={};for(var i in t)e[i]=t[i];return e},i.prototype._addStep=function(t){return t.d>0&&(this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},i.prototype._appendQueueProps=function(t){var e,r,n,o,s;for(var a in t)if(void 0===this._initQueueProps[a]){if(r=this._target[a],e=i._plugins[a])for(n=0,o=e.length;o>n;n++)r=e[n].init(this,a,r);this._initQueueProps[a]=this._curQueueProps[a]=void 0===r?null:r}else r=this._curQueueProps[a];for(var a in t){if(r=this._curQueueProps[a],e=i._plugins[a])for(s=s||{},n=0,o=e.length;o>n;n++)e[n].step&&e[n].step(this,a,r,t[a],s);this._curQueueProps[a]=t[a]}return s&&this._appendQueueProps(s),this._curQueueProps},i.prototype._addAction=function(t){return t.t=this.duration,this._actions.push(t),this},i.prototype.to=function(t,e,i){return void 0===i&&(i=void 0),(isNaN(e)||0>e)&&(e=0),this._addStep({d:e||0,p0:this._cloneProps(this._curQueueProps),e:i,p1:this._cloneProps(this._appendQueueProps(t))})},i.prototype.call=function(t,e,i){return void 0===e&&(e=void 0),void 0===i&&(i=void 0),this._addAction({f:t,p:i?i:[],o:e?e:this._target})},i.prototype.tick=function(t){this.paused||this.setPosition(this._prevPosition+t)},i._tweens=[],i.IGNORE={},i._plugins={},i._inited=!1,i._lastTime=0,i}(t.EventDispatcher);t.ScrollTween=i,__reflect(i.prototype,"egret.ScrollTween")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(i){void 0===i&&(i=null);var r=e.call(this)||this;return r.scrollBeginThreshold=10,r.scrollSpeed=1,r._content=null,r.delayTouchBeginEvent=null,r.touchBeginTimer=null,r.touchEnabled=!0,r._ScrV_Props_=new t.ScrollViewProperties,i&&r.setContent(i),r}return __extends(i,e),Object.defineProperty(i.prototype,"bounces",{get:function(){return this._ScrV_Props_._bounces},set:function(t){this._ScrV_Props_._bounces=!!t},enumerable:!0,configurable:!0}),i.prototype.setContent=function(t){this._content!==t&&(this.removeContent(),t&&(this._content=t,e.prototype.addChild.call(this,t),this._addEvents()))},i.prototype.removeContent=function(){this._content&&(this._removeEvents(),e.prototype.removeChildAt.call(this,0)),this._content=null},Object.defineProperty(i.prototype,"verticalScrollPolicy",{get:function(){return this._ScrV_Props_._verticalScrollPolicy},set:function(t){t!=this._ScrV_Props_._verticalScrollPolicy&&(this._ScrV_Props_._verticalScrollPolicy=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"horizontalScrollPolicy",{get:function(){return this._ScrV_Props_._horizontalScrollPolicy},set:function(t){t!=this._ScrV_Props_._horizontalScrollPolicy&&(this._ScrV_Props_._horizontalScrollPolicy=t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scrollLeft",{get:function(){return this._ScrV_Props_._scrollLeft},set:function(t){t!=this._ScrV_Props_._scrollLeft&&(this._ScrV_Props_._scrollLeft=t,this._validatePosition(!1,!0),this._updateContentPosition())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scrollTop",{get:function(){return this._ScrV_Props_._scrollTop},set:function(t){t!=this._ScrV_Props_._scrollTop&&(this._ScrV_Props_._scrollTop=t,this._validatePosition(!0,!1),this._updateContentPosition())},enumerable:!0,configurable:!0}),i.prototype.setScrollPosition=function(t,e,i){if(void 0===i&&(i=!1),(!i||0!=t||0!=e)&&(i||this._ScrV_Props_._scrollTop!=t||this._ScrV_Props_._scrollLeft!=e)){var r=this._ScrV_Props_._scrollTop,n=this._ScrV_Props_._scrollLeft;if(i){var o=this.getMaxScrollLeft(),s=this.getMaxScrollTop();(0>=r||r>=s)&&(t/=2),(0>=n||n>=o)&&(e/=2);var a=r+t,h=n+e,u=this._ScrV_Props_._bounces;u||((0>=a||a>=s)&&(a=Math.max(0,Math.min(a,s))),(0>=h||h>=o)&&(h=Math.max(0,Math.min(h,o)))),this._ScrV_Props_._scrollTop=a,this._ScrV_Props_._scrollLeft=h}else this._ScrV_Props_._scrollTop=t,this._ScrV_Props_._scrollLeft=e;this._validatePosition(!0,!0),this._updateContentPosition()}},i.prototype._validatePosition=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),t){var i=this.height,r=this._getContentHeight();this._ScrV_Props_._scrollTop=Math.max(this._ScrV_Props_._scrollTop,(0-i)/2),this._ScrV_Props_._scrollTop=Math.min(this._ScrV_Props_._scrollTop,r>i?r-i/2:i/2)}if(e){var n=this.width,o=this._getContentWidth();this._ScrV_Props_._scrollLeft=Math.max(this._ScrV_Props_._scrollLeft,(0-n)/2),this._ScrV_Props_._scrollLeft=Math.min(this._ScrV_Props_._scrollLeft,o>n?o-n/2:n/2)}},i.prototype.$setWidth=function(t){this.$explicitWidth!=t&&(e.prototype.$setWidth.call(this,t),this._updateContentPosition())},i.prototype.$setHeight=function(t){this.$explicitHeight!=t&&(e.prototype.$setHeight.call(this,t),this._updateContentPosition())},i.prototype._updateContentPosition=function(){var e=this.height,i=this.width;this.scrollRect=new t.Rectangle(Math.round(this._ScrV_Props_._scrollLeft),Math.round(this._ScrV_Props_._scrollTop),i,e),this.dispatchEvent(new t.Event(t.Event.CHANGE))},i.prototype._checkScrollPolicy=function(){var t=this._ScrV_Props_._horizontalScrollPolicy,e=this.__checkScrollPolicy(t,this._getContentWidth(),this.width);this._ScrV_Props_._hCanScroll=e;var i=this._ScrV_Props_._verticalScrollPolicy,r=this.__checkScrollPolicy(i,this._getContentHeight(),this.height);return this._ScrV_Props_._vCanScroll=r,e||r},i.prototype.__checkScrollPolicy=function(t,e,i){return"on"==t?!0:"off"==t?!1:e>i},i.prototype._addEvents=function(){this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBegin,this),this.addEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBeginCapture,this,!0),this.addEventListener(t.TouchEvent.TOUCH_END,this._onTouchEndCapture,this,!0)},i.prototype._removeEvents=function(){this.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBegin,this),this.removeEventListener(t.TouchEvent.TOUCH_BEGIN,this._onTouchBeginCapture,this,!0),this.removeEventListener(t.TouchEvent.TOUCH_END,this._onTouchEndCapture,this,!0)},i.prototype._onTouchBegin=function(e){if(!e.$isDefaultPrevented){var i=this._checkScrollPolicy();i&&(this._ScrV_Props_._touchStartPosition.x=e.stageX,this._ScrV_Props_._touchStartPosition.y=e.stageY,(this._ScrV_Props_._isHTweenPlaying||this._ScrV_Props_._isVTweenPlaying)&&this._onScrollFinished(),this._tempStage=this.stage,this._tempStage.addEventListener(t.TouchEvent.TOUCH_MOVE,this._onTouchMove,this),this._tempStage.addEventListener(t.TouchEvent.TOUCH_END,this._onTouchEnd,this),this._tempStage.addEventListener(t.TouchEvent.LEAVE_STAGE,this._onTouchEnd,this),this.addEventListener(t.Event.ENTER_FRAME,this._onEnterFrame,this),this._logTouchEvent(e),e.preventDefault())}},i.prototype._onTouchBeginCapture=function(e){var i=this._checkScrollPolicy();if(i){for(var r=e.target;r!=this;){if("_checkScrollPolicy"in r&&(i=r._checkScrollPolicy()))return;r=r.parent}e.stopPropagation();var n=this.cloneTouchEvent(e);this.delayTouchBeginEvent=n,this.touchBeginTimer||(this.touchBeginTimer=new t.Timer(100,1),this.touchBeginTimer.addEventListener(t.TimerEvent.TIMER_COMPLETE,this._onTouchBeginTimer,this)),this.touchBeginTimer.start(),this._onTouchBegin(e)}},i.prototype._onTouchEndCapture=function(e){var i=this;if(this.delayTouchBeginEvent){this._onTouchBeginTimer(),e.stopPropagation();var r=this.cloneTouchEvent(e);t.callLater(function(){i.stage&&i.dispatchPropagationEvent(r)},this)}},i.prototype._onTouchBeginTimer=function(){this.touchBeginTimer.stop();var t=this.delayTouchBeginEvent;this.delayTouchBeginEvent=null,this.stage&&this.dispatchPropagationEvent(t)},i.prototype.dispatchPropagationEvent=function(e){for(var i=e.$target,r=this.$getPropagationList(i),n=r.length,o=.5*r.length,s=-1,a=0;n>a;a++)if(r[a]===this._content){s=a;break}r.splice(0,s+1),o-=s+1,this.$dispatchPropagationEvent(e,r,o),t.Event.release(e)},i.prototype._onTouchMove=function(t){if(this._ScrV_Props_._lastTouchPosition.x!=t.stageX||this._ScrV_Props_._lastTouchPosition.y!=t.stageY){if(!this._ScrV_Props_._scrollStarted){var e=t.stageX-this._ScrV_Props_._touchStartPosition.x,i=t.stageY-this._ScrV_Props_._touchStartPosition.y,r=Math.sqrt(e*e+i*i);if(r<this.scrollBeginThreshold)return void this._logTouchEvent(t)}this._ScrV_Props_._scrollStarted=!0,this.delayTouchBeginEvent&&(this.delayTouchBeginEvent=null,this.touchBeginTimer.stop()),this.touchChildren=!1;var n=this._getPointChange(t);this.setScrollPosition(n.y,n.x,!0),this._calcVelocitys(t),this._logTouchEvent(t)}},i.prototype._onTouchEnd=function(e){this.touchChildren=!0,this._ScrV_Props_._scrollStarted=!1,this._tempStage.removeEventListener(t.TouchEvent.TOUCH_MOVE,this._onTouchMove,this),this._tempStage.removeEventListener(t.TouchEvent.TOUCH_END,this._onTouchEnd,this),this._tempStage.removeEventListener(t.TouchEvent.LEAVE_STAGE,this._onTouchEnd,this),this.removeEventListener(t.Event.ENTER_FRAME,this._onEnterFrame,this),this._moveAfterTouchEnd()},i.prototype._onEnterFrame=function(e){var i=t.getTimer();i-this._ScrV_Props_._lastTouchTime>100&&i-this._ScrV_Props_._lastTouchTime<300&&this._calcVelocitys(this._ScrV_Props_._lastTouchEvent)},i.prototype._logTouchEvent=function(e){this._ScrV_Props_._lastTouchPosition.x=e.stageX,this._ScrV_Props_._lastTouchPosition.y=e.stageY,this._ScrV_Props_._lastTouchEvent=this.cloneTouchEvent(e),this._ScrV_Props_._lastTouchTime=t.getTimer()},i.prototype._getPointChange=function(t){return{x:this._ScrV_Props_._hCanScroll===!1?0:this._ScrV_Props_._lastTouchPosition.x-t.stageX,y:this._ScrV_Props_._vCanScroll===!1?0:this._ScrV_Props_._lastTouchPosition.y-t.stageY}},i.prototype._calcVelocitys=function(e){var i=t.getTimer();if(0==this._ScrV_Props_._lastTouchTime)return void(this._ScrV_Props_._lastTouchTime=i);var r=this._getPointChange(e),n=i-this._ScrV_Props_._lastTouchTime;r.x/=n,r.y/=n,this._ScrV_Props_._velocitys.push(r),this._ScrV_Props_._velocitys.length>5&&this._ScrV_Props_._velocitys.shift(),this._ScrV_Props_._lastTouchPosition.x=e.stageX,this._ScrV_Props_._lastTouchPosition.y=e.stageY},i.prototype._getContentWidth=function(){return this._content.$explicitWidth||this._content.width},i.prototype._getContentHeight=function(){return this._content.$explicitHeight||this._content.height},i.prototype.getMaxScrollLeft=function(){var t=this._getContentWidth()-this.width;return Math.max(0,t)},i.prototype.getMaxScrollTop=function(){var t=this._getContentHeight()-this.height;return Math.max(0,t)},i.prototype._moveAfterTouchEnd=function(){if(0!=this._ScrV_Props_._velocitys.length){for(var t={x:0,y:0},e=0,r=0;r<this._ScrV_Props_._velocitys.length;r++){var n=this._ScrV_Props_._velocitys[r],o=i.weight[r];t.x+=n.x*o,t.y+=n.y*o,e+=o}this._ScrV_Props_._velocitys.length=0,this.scrollSpeed<=0&&(this.scrollSpeed=1);var s=t.x/e*this.scrollSpeed,a=t.y/e*this.scrollSpeed,h=Math.abs(s),u=Math.abs(a),l=this.getMaxScrollLeft(),c=this.getMaxScrollTop(),p=h>.02?this.getAnimationDatas(s,this._ScrV_Props_._scrollLeft,l):{position:this._ScrV_Props_._scrollLeft,duration:1},d=u>.02?this.getAnimationDatas(a,this._ScrV_Props_._scrollTop,c):{position:this._ScrV_Props_._scrollTop,duration:1};this.setScrollLeft(p.position,p.duration),this.setScrollTop(d.position,d.duration)}},i.prototype.onTweenFinished=function(t){t==this._ScrV_Props_._vScrollTween&&(this._ScrV_Props_._isVTweenPlaying=!1),t==this._ScrV_Props_._hScrollTween&&(this._ScrV_Props_._isHTweenPlaying=!1),0==this._ScrV_Props_._isHTweenPlaying&&0==this._ScrV_Props_._isVTweenPlaying&&this._onScrollFinished()},i.prototype._onScrollStarted=function(){},i.prototype._onScrollFinished=function(){t.ScrollTween.removeTweens(this),this._ScrV_Props_._hScrollTween=null,this._ScrV_Props_._vScrollTween=null,this._ScrV_Props_._isHTweenPlaying=!1,this._ScrV_Props_._isVTweenPlaying=!1,this.dispatchEvent(new t.Event(t.Event.COMPLETE))},i.prototype.setScrollTop=function(e,i){void 0===i&&(i=0);var r=Math.min(this.getMaxScrollTop(),Math.max(e,0));if(0==i)return void(this.scrollTop=r);0==this._ScrV_Props_._bounces&&(e=r);var n=t.ScrollTween.get(this).to({scrollTop:e},i,t.ScrollEase.quartOut);r!=e&&n.to({scrollTop:r},300,t.ScrollEase.quintOut),this._ScrV_Props_._isVTweenPlaying=!0,this._ScrV_Props_._vScrollTween=n,n.call(this.onTweenFinished,this,[n]),this._ScrV_Props_._isHTweenPlaying||this._onScrollStarted()},i.prototype.setScrollLeft=function(e,i){void 0===i&&(i=0);var r=Math.min(this.getMaxScrollLeft(),Math.max(e,0));if(0==i)return void(this.scrollLeft=r);0==this._ScrV_Props_._bounces&&(e=r);var n=t.ScrollTween.get(this).to({scrollLeft:e},i,t.ScrollEase.quartOut);r!=e&&n.to({scrollLeft:r},300,t.ScrollEase.quintOut),this._ScrV_Props_._isHTweenPlaying=!0,this._ScrV_Props_._hScrollTween=n,n.call(this.onTweenFinished,this,[n]),this._ScrV_Props_._isVTweenPlaying||this._onScrollStarted()},i.prototype.getAnimationDatas=function(t,e,i){var r=Math.abs(t),n=.95,o=0,s=.998,a=.02,h=e+500*t;if(0>h||h>i)for(h=e;Math.abs(t)!=1/0&&Math.abs(t)>a;)h+=t,t*=0>h||h>i?s*n:s,o++;else o=500*-Math.log(a/r);var u={position:Math.min(i+50,Math.max(h,-50)),duration:o};return u},i.prototype.cloneTouchEvent=function(e){var i=new t.TouchEvent(e.type,e.bubbles,e.cancelable);return i.touchPointID=e.touchPointID,i.$stageX=e.stageX,i.$stageY=e.stageY,i.touchDown=e.touchDown,i.$isDefaultPrevented=!1,i.$target=e.target,i},i.prototype.throwNotSupportedError=function(){t.$error(1023)},i.prototype.addChild=function(t){return this.throwNotSupportedError(),null},i.prototype.addChildAt=function(t,e){return this.throwNotSupportedError(),null},i.prototype.removeChild=function(t){return this.throwNotSupportedError(),null},i.prototype.removeChildAt=function(t){return this.throwNotSupportedError(),null},i.prototype.setChildIndex=function(t,e){this.throwNotSupportedError()},i.prototype.swapChildren=function(t,e){this.throwNotSupportedError()},i.prototype.swapChildrenAt=function(t,e){this.throwNotSupportedError()},i.weight=[1,1.33,1.66,2,2.33],i}(t.DisplayObjectContainer);t.ScrollView=e,__reflect(e.prototype,"egret.ScrollView")}(egret||(egret={}));var egret;!function(t){var e=function(){function e(){this._verticalScrollPolicy="auto",this._horizontalScrollPolicy="auto",this._scrollLeft=0,this._scrollTop=0,this._hCanScroll=!1,this._vCanScroll=!1,this._lastTouchPosition=new t.Point(0,0),this._touchStartPosition=new t.Point(0,0),this._scrollStarted=!1,this._lastTouchTime=0,this._lastTouchEvent=null,this._velocitys=[],this._isHTweenPlaying=!1,this._isVTweenPlaying=!1,this._hScrollTween=null,this._vScrollTween=null,this._bounces=!0}return e}();t.ScrollViewProperties=e,__reflect(e.prototype,"egret.ScrollViewProperties")}(egret||(egret={}));var egret;!function(t){function e(e){var i=e.url;return-1==i.indexOf("?")&&e.method==t.URLRequestMethod.GET&&e.data&&e.data instanceof t.URLVariables&&(i=i+"?"+e.data.toString()),i}var i=function(i){function r(e){void 0===e&&(e=null);var r=i.call(this)||this;return r.dataFormat=t.URLLoaderDataFormat.TEXT,r.data=null,r._request=null,r._status=-1,e&&r.load(e),r}return __extends(r,i),r.prototype.load=function(i){this._request=i,this.data=null;var r=this;if(r.dataFormat==t.URLLoaderDataFormat.TEXTURE)return void this.loadTexture(r);if(r.dataFormat==t.URLLoaderDataFormat.SOUND)return void this.loadSound(r);var n=e(i),o=new t.HttpRequest;o.open(n,i.method==t.URLRequestMethod.POST?t.HttpMethod.POST:t.HttpMethod.GET);var s;if(i.method!=t.URLRequestMethod.GET&&i.data)if(i.data instanceof t.URLVariables){o.setRequestHeader("Content-Type","application/x-www-form-urlencoded");var a=i.data;s=a.toString()}else o.setRequestHeader("Content-Type","multipart/form-data"),s=i.data;else;for(var h=i.requestHeaders.length,u=0;h>u;u++){var l=i.requestHeaders[u];o.setRequestHeader(l.name,l.value)}o.addEventListener(t.Event.COMPLETE,function(){r.data=o.response,t.Event.dispatchEvent(r,t.Event.COMPLETE)},this),o.addEventListener(t.IOErrorEvent.IO_ERROR,function(){t.IOErrorEvent.dispatchIOErrorEvent(r)},this),o.responseType=r.dataFormat==t.URLLoaderDataFormat.BINARY?t.HttpResponseType.ARRAY_BUFFER:t.HttpResponseType.TEXT,o.send(s)},r.prototype.getResponseType=function(e){switch(e){case t.URLLoaderDataFormat.TEXT:case t.URLLoaderDataFormat.VARIABLES:return t.URLLoaderDataFormat.TEXT;case t.URLLoaderDataFormat.BINARY:return"arraybuffer";default:return e}},r.prototype.loadSound=function(e){function i(t){e.dispatchEvent(t)}function r(t){o(),e.dispatchEvent(t)}function n(i){o(),e.data=h,window.setTimeout(function(){e.dispatchEventWith(t.Event.COMPLETE)},0)}function o(){h.removeEventListener(t.Event.COMPLETE,n,s),h.removeEventListener(t.IOErrorEvent.IO_ERROR,r,s),h.removeEventListener(t.ProgressEvent.PROGRESS,i,s)}var s=this,a=e._request.url,h=new t.Sound;h.addEventListener(t.Event.COMPLETE,n,s),h.addEventListener(t.IOErrorEvent.IO_ERROR,r,s),h.addEventListener(t.ProgressEvent.PROGRESS,i,s),h.load(a)},r.prototype.loadTexture=function(e){function i(t){e.dispatchEvent(t)}function r(t){o(),e.dispatchEvent(t)}function n(i){o();var r=h.data;r.source.setAttribute("bitmapSrc",a);var n=new t.Texture;n._setBitmapData(r),e.data=n,window.setTimeout(function(){e.dispatchEventWith(t.Event.COMPLETE)},s)}function o(){h.removeEventListener(t.Event.COMPLETE,n,s),h.removeEventListener(t.IOErrorEvent.IO_ERROR,r,s),h.removeEventListener(t.ProgressEvent.PROGRESS,i,s)}var s=this,a=e._request.url,h=new t.ImageLoader;h.addEventListener(t.Event.COMPLETE,n,s),h.addEventListener(t.IOErrorEvent.IO_ERROR,r,s),h.addEventListener(t.ProgressEvent.PROGRESS,i,s),h.load(a)},r.prototype.__recycle=function(){this._request=null,this.data=null},r}(t.EventDispatcher);t.URLLoader=i,__reflect(i.prototype,"egret.URLLoader")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(i){var r=e.call(this)||this;return r.$texture=null,r.offsetPoint=t.Point.create(0,0),r.$movieClipData=null,r.frames=null,r.$totalFrames=0,r.frameLabels=null,r.$frameLabelStart=0,r.$frameLabelEnd=0,r.frameEvents=null,r.frameIntervalTime=0,r.$eventPool=null,r.$isPlaying=!1,r.isStopped=!0,r.playTimes=0,r.$currentFrameNum=0,r.$nextFrameNum=1,r.displayedKeyFrameNum=0,r.passedTime=0,r.$frameRate=0/0,r.lastTime=0,r.$smoothing=t.Bitmap.defaultSmoothing,r.setMovieClipData(i),t.nativeRender||(r.$renderNode=new t.sys.NormalBitmapNode),r}return __extends(i,e),i.prototype.createNativeDisplayObject=function(){this.$nativeDisplayObject=new egret_native.NativeDisplayObject(11)},Object.defineProperty(i.prototype,"smoothing",{get:function(){return this.$smoothing},set:function(t){t!=this.$smoothing&&(this.$smoothing=t)},enumerable:!0,configurable:!0}),i.prototype.$init=function(){this.$reset();var t=this.$movieClipData;t&&t.$isDataValid()&&(this.frames=t.frames,this.$totalFrames=t.numFrames,this.frameLabels=t.labels,this.frameEvents=t.events,this.$frameRate=t.frameRate,this.frameIntervalTime=1e3/this.$frameRate,this._initFrame())},i.prototype.$reset=function(){this.frames=null,this.playTimes=0,this.$isPlaying=!1,this.setIsStopped(!0),this.$currentFrameNum=0,this.$nextFrameNum=1,this.displayedKeyFrameNum=0,this.passedTime=0,this.$eventPool=[]},i.prototype._initFrame=function(){this.$movieClipData.$isTextureValid()&&(this.advanceFrame(),this.constructFrame())},i.prototype.$updateRenderNode=function(){var e=this.$texture;if(e){var i=Math.round(this.offsetPoint.x),r=Math.round(this.offsetPoint.y),n=e.$bitmapWidth,o=e.$bitmapHeight,s=e.$getTextureWidth(),a=e.$getTextureHeight(),h=Math.round(e.$getScaleBitmapWidth()),u=Math.round(e.$getScaleBitmapHeight()),l=e.$sourceWidth,c=e.$sourceHeight;t.sys.BitmapNode.$updateTextureData(this.$renderNode,e.$bitmapData,e.$bitmapX,e.$bitmapY,n,o,i,r,s,a,h,u,l,c,t.BitmapFillMode.SCALE,this.$smoothing)}},i.prototype.$measureContentBounds=function(t){var e=this.$texture;if(e){var i=this.offsetPoint.x,r=this.offsetPoint.y,n=e.$getTextureWidth(),o=e.$getTextureHeight();t.setTo(i,r,n,o)}else t.setEmpty()},i.prototype.$onAddToStage=function(t,i){e.prototype.$onAddToStage.call(this,t,i),this.$isPlaying&&this.$totalFrames>1&&this.setIsStopped(!1)},i.prototype.$onRemoveFromStage=function(){e.prototype.$onRemoveFromStage.call(this),this.setIsStopped(!0)},i.prototype.getFrameLabelByName=function(t,e){void 0===e&&(e=!1),e&&(t=t.toLowerCase());var i=this.frameLabels;if(i)for(var r=null,n=0;n<i.length;n++)if(r=i[n],e?r.name.toLowerCase()==t:r.name==t)return r;return null},i.prototype.getFrameStartEnd=function(t){var e=this.frameLabels;if(e)for(var i=null,r=0;r<e.length;r++)if(i=e[r],t==i.name){this.$frameLabelStart=i.frame,this.$frameLabelEnd=i.end;break}},i.prototype.getFrameLabelByFrame=function(t){var e=this.frameLabels;if(e)for(var i=null,r=0;r<e.length;r++)if(i=e[r],i.frame==t)return i;return null},i.prototype.getFrameLabelForFrame=function(t){var e=null,i=null,r=this.frameLabels;if(r)for(var n=0;n<r.length;n++){if(i=r[n],i.frame>t)return e;e=i}return e},i.prototype.play=function(e){void 0===e&&(e=0),this.lastTime=t.getTimer(),this.passedTime=0,this.$isPlaying=!0,this.setPlayTimes(e),this.$totalFrames>1&&this.$stage&&this.setIsStopped(!1)},i.prototype.stop=function(){this.$isPlaying=!1,this.setIsStopped(!0)},i.prototype.prevFrame=function(){this.gotoAndStop(this.$currentFrameNum-1)},i.prototype.nextFrame=function(){this.gotoAndStop(this.$currentFrameNum+1)},i.prototype.gotoAndPlay=function(e,i){void 0===i&&(i=0),(0==arguments.length||arguments.length>2)&&t.$error(1022,"MovieClip.gotoAndPlay()"),"string"==typeof e?this.getFrameStartEnd(e):(this.$frameLabelStart=0,this.$frameLabelEnd=0),this.play(i),this.gotoFrame(e)},i.prototype.gotoAndStop=function(e){1!=arguments.length&&t.$error(1022,"MovieClip.gotoAndStop()"),this.stop(),this.gotoFrame(e)},i.prototype.gotoFrame=function(e){var i;"string"==typeof e?i=this.getFrameLabelByName(e).frame:(i=parseInt(e+"",10),i!=e&&t.$error(1022,"Frame Label Not Found")),1>i?i=1:i>this.$totalFrames&&(i=this.$totalFrames),i!=this.$nextFrameNum&&(this.$nextFrameNum=i,this.advanceFrame(),this.constructFrame(),this.handlePendingEvent())},i.prototype.advanceTime=function(e){var i=this,r=e-i.lastTime;i.lastTime=e;var n=i.frameIntervalTime,o=i.passedTime+r;i.passedTime=o%n;var s=o/n;if(1>s)return!1;for(;s>=1;){if(s--,i.$nextFrameNum++,i.$nextFrameNum>i.$totalFrames||i.$frameLabelStart>0&&i.$nextFrameNum>i.$frameLabelEnd)if(-1==i.playTimes)i.$eventPool.push(t.Event.LOOP_COMPLETE),i.$nextFrameNum=1;else{if(i.playTimes--,!(i.playTimes>0)){i.$nextFrameNum=i.$totalFrames,i.$eventPool.push(t.Event.COMPLETE),i.stop();break}i.$eventPool.push(t.Event.LOOP_COMPLETE),i.$nextFrameNum=1}i.$currentFrameNum==i.$frameLabelEnd&&(i.$nextFrameNum=i.$frameLabelStart),i.advanceFrame()}return i.constructFrame(),i.handlePendingEvent(),!1},i.prototype.advanceFrame=function(){this.$currentFrameNum=this.$nextFrameNum;var e=this.frameEvents[this.$nextFrameNum];
e&&""!=e&&t.MovieClipEvent.dispatchMovieClipEvent(this,t.MovieClipEvent.FRAME_LABEL,e)},i.prototype.constructFrame=function(){var e=this,i=e.$currentFrameNum;if(e.displayedKeyFrameNum!=i){var r=e.$movieClipData.getTextureByFrame(i);if(e.$texture=r,e.$movieClipData.$getOffsetByFrame(i,e.offsetPoint),e.displayedKeyFrameNum=i,e.$renderDirty=!0,t.nativeRender)e.$nativeDisplayObject.setDataToBitmapNode(e.$nativeDisplayObject.id,r,[r.$bitmapX,r.$bitmapY,r.$bitmapWidth,r.$bitmapHeight,e.offsetPoint.x,e.offsetPoint.y,r.$getScaleBitmapWidth(),r.$getScaleBitmapHeight(),r.$sourceWidth,r.$sourceHeight]),e.$nativeDisplayObject.setWidth(r.$getTextureWidth()+e.offsetPoint.x),e.$nativeDisplayObject.setHeight(r.$getTextureHeight()+e.offsetPoint.y);else{var n=e.$parent;n&&!n.$cacheDirty&&(n.$cacheDirty=!0,n.$cacheDirtyUp());var o=e.$maskedObject;o&&!o.$cacheDirty&&(o.$cacheDirty=!0,o.$cacheDirtyUp())}}},i.prototype.$renderFrame=function(){var t=this;t.$texture=t.$movieClipData.getTextureByFrame(t.$currentFrameNum),t.$renderDirty=!0;var e=t.$parent;e&&!e.$cacheDirty&&(e.$cacheDirty=!0,e.$cacheDirtyUp());var i=t.$maskedObject;i&&!i.$cacheDirty&&(i.$cacheDirty=!0,i.$cacheDirtyUp())},i.prototype.handlePendingEvent=function(){if(0!=this.$eventPool.length){this.$eventPool.reverse();for(var e=this.$eventPool,i=e.length,r=!1,n=!1,o=0;i>o;o++){var s=e.pop();s==t.Event.LOOP_COMPLETE?n=!0:s==t.Event.COMPLETE?r=!0:this.dispatchEventWith(s)}n&&this.dispatchEventWith(t.Event.LOOP_COMPLETE),r&&this.dispatchEventWith(t.Event.COMPLETE)}},Object.defineProperty(i.prototype,"totalFrames",{get:function(){return this.$totalFrames},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentFrame",{get:function(){return this.$currentFrameNum},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentFrameLabel",{get:function(){var t=this.getFrameLabelByFrame(this.$currentFrameNum);return t&&t.name},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"currentLabel",{get:function(){var t=this.getFrameLabelForFrame(this.$currentFrameNum);return t?t.name:null},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"frameRate",{get:function(){return this.$frameRate},set:function(t){t!=this.$frameRate&&(this.$frameRate=t,this.frameIntervalTime=1e3/this.$frameRate)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"isPlaying",{get:function(){return this.$isPlaying},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"movieClipData",{get:function(){return this.$movieClipData},set:function(t){this.setMovieClipData(t)},enumerable:!0,configurable:!0}),i.prototype.setMovieClipData=function(t){this.$movieClipData!=t&&(this.$movieClipData=t,this.$init())},i.prototype.setPlayTimes=function(t){(0>t||t>=1)&&(this.playTimes=0>t?-1:Math.floor(t))},i.prototype.setIsStopped=function(e){this.isStopped!=e&&(this.isStopped=e,e?t.ticker.$stopTick(this.advanceTime,this):(this.playTimes=0==this.playTimes?1:this.playTimes,this.lastTime=t.getTimer(),t.ticker.$startTick(this.advanceTime,this)))},i}(t.DisplayObject);t.MovieClip=e,__reflect(e.prototype,"egret.MovieClip")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(i){void 0===i&&(i=null);var r=e.call(this)||this;return r.data=null,r.method=t.URLRequestMethod.GET,r.url="",r.requestHeaders=[],r.url=i,r}return __extends(i,e),i}(t.HashObject);t.URLRequest=e,__reflect(e.prototype,"egret.URLRequest")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(t,e){this.name="",this.value="",this.name=t,this.value=e}return t}();t.URLRequestHeader=e,__reflect(e.prototype,"egret.URLRequestHeader")}(egret||(egret={}));var egret;!function(t){var e=function(){function t(){}return t.GET="get",t.POST="post",t}();t.URLRequestMethod=e,__reflect(e.prototype,"egret.URLRequestMethod")}(egret||(egret={}));var egret;!function(t){var e=function(t){function e(e){void 0===e&&(e=null);var i=t.call(this)||this;return i.variables=null,null!==e&&i.decode(e),i}return __extends(e,t),e.prototype.decode=function(t){this.variables||(this.variables={}),t=t.split("+").join(" ");for(var e,i=/[?&]?([^=]+)=([^&]*)/g;e=i.exec(t);){var r=decodeURIComponent(e[1]),n=decodeURIComponent(e[2]);if(r in this.variables!=0){var o=this.variables[r];o instanceof Array?o.push(n):this.variables[r]=[o,n]}else this.variables[r]=n}},e.prototype.toString=function(){if(!this.variables)return"";var t=this.variables,e=[];for(var i in t)e.push(this.encodeValue(i,t[i]));return e.join("&")},e.prototype.encodeValue=function(t,e){return e instanceof Array?this.encodeArray(t,e):encodeURIComponent(t)+"="+encodeURIComponent(e)},e.prototype.encodeArray=function(t,e){return t?0==e.length?encodeURIComponent(t)+"=":e.map(function(e){return encodeURIComponent(t)+"="+encodeURIComponent(e)}).join("&"):""},e}(t.HashObject);t.URLVariables=e,__reflect(e.prototype,"egret.URLVariables")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){var r=e.call(this)||this;return r._timeScale=1,r._paused=!1,r._callIndex=-1,r._lastTime=0,r.callBackList=[],null!=i.instance&&t.$error(1033),t.ticker.$startTick(r.update,r),r._lastTime=t.getTimer(),r}return __extends(i,e),i.prototype.update=function(t){var e=t-this._lastTime;if(this._lastTime=t,this._paused)return!1;var i=e*this._timeScale;for(this._callList=this.callBackList.concat(),this._callIndex=0;this._callIndex<this._callList.length;this._callIndex++){var r=this._callList[this._callIndex];r.listener.call(r.thisObject,i)}return this._callIndex=-1,this._callList=null,!1},i.prototype.register=function(t,e,i){void 0===i&&(i=0),this.$insertEventBin(this.callBackList,"",t,e,!1,i,!1)},i.prototype.unregister=function(t,e){this.$removeEventBin(this.callBackList,t,e)},i.prototype.setTimeScale=function(t){this._timeScale=t},i.prototype.getTimeScale=function(){return this._timeScale},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){this._paused=!1},i.getInstance=function(){return null==i.instance&&(i.instance=new i),i.instance},i}(t.EventDispatcher);t.Ticker=e,__reflect(e.prototype,"egret.Ticker")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),Object.defineProperty(i.prototype,"stage",{get:function(){return t.sys.$TempStage},enumerable:!0,configurable:!0}),Object.defineProperty(i,"instance",{get:function(){return null==i._instance&&(i._instance=new i),i._instance},enumerable:!0,configurable:!0}),i.deviceType=null,i.DEVICE_PC="web",i.DEVICE_MOBILE="native",i}(t.EventDispatcher);t.MainContext=e,__reflect(e.prototype,"egret.MainContext")}(egret||(egret={})),egret.testDeviceType1=function(){if(!window.navigator)return!0;var t=navigator.userAgent.toLowerCase();return-1!=t.indexOf("mobile")||-1!=t.indexOf("android")},egret.MainContext.deviceType=egret.testDeviceType1()?egret.MainContext.DEVICE_MOBILE:egret.MainContext.DEVICE_PC,delete egret.testDeviceType1;var egret;!function(t){var e=function(e){function i(t){void 0===t&&(t=300);var i=e.call(this)||this;return i.objectPool=[],i._length=0,1>t&&(t=1),i.autoDisposeTime=t,i.frameCount=0,i}return __extends(i,e),i.$init=function(){t.ticker.$startTick(i.onUpdate,i)},i.onUpdate=function(t){for(var e=i._callBackList,r=e.length-1;r>=0;r--)e[r].$checkFrame();return!1},i.prototype.$checkFrame=function(){this.frameCount--,this.frameCount<=0&&this.dispose()},Object.defineProperty(i.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),i.prototype.push=function(t){var e=this.objectPool;-1==e.indexOf(t)&&(e.push(t),t.__recycle&&t.__recycle(),this._length++,0==this.frameCount&&(this.frameCount=this.autoDisposeTime,i._callBackList.push(this)))},i.prototype.pop=function(){return 0==this._length?null:(this._length--,this.objectPool.pop())},i.prototype.dispose=function(){this._length>0&&(this.objectPool=[],this._length=0),this.frameCount=0;var t=i._callBackList,e=t.indexOf(this);-1!=e&&t.splice(e,1)},i._callBackList=[],i}(t.HashObject);t.Recycler=e,__reflect(e.prototype,"egret.Recycler"),e.$init()}(egret||(egret={}));var egret;!function(t){function e(e,i,h){for(var u=[],l=3;l<arguments.length;l++)u[l-3]=arguments[l];var c={listener:e,thisObject:i,delay:h,originDelay:h,params:u};return s++,1==s&&(a=t.getTimer(),t.ticker.$startTick(r,null)),o++,n[o]=c,o}function i(e){n[e]&&(s--,delete n[e],0==s&&t.ticker.$stopTick(r,null))}function r(t){var e=t-a;a=t;for(var i in n){var r=n[i];r.delay-=e,r.delay<=0&&(r.delay=r.originDelay,r.listener.apply(r.thisObject,r.params))}return!1}var n={},o=0,s=0,a=0;t.setInterval=e,t.clearInterval=i}(egret||(egret={}));var egret;!function(t){function e(e,i,h){for(var u=[],l=3;l<arguments.length;l++)u[l-3]=arguments[l];var c={listener:e,thisObject:i,delay:h,params:u};return s++,1==s&&t.ticker&&(a=t.getTimer(),t.ticker.$startTick(r,null)),o++,n[o]=c,o}function i(e){n[e]&&(s--,delete n[e],0==s&&t.ticker&&t.ticker.$stopTick(r,null))}function r(t){var e=t-a;a=t;for(var r in n){var o=r,s=n[o];s.delay-=e,s.delay<=0&&(s.listener.apply(s.thisObject,s.params),i(o))}return!1}var n={},o=0,s=0,a=0;t.setTimeout=e,t.clearTimeout=i}(egret||(egret={}));var egret=window.egret,__reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},eui;!function(t){var e;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.targetLevel=Number.POSITIVE_INFINITY,e.invalidatePropertiesFlag=!1,e.invalidateClientPropertiesFlag=!1,e.invalidatePropertiesQueue=new i,e.invalidateSizeFlag=!1,e.invalidateClientSizeFlag=!1,e.invalidateSizeQueue=new i,e.invalidateDisplayListFlag=!1,e.invalidateDisplayListQueue=new i,e.eventDisplay=new egret.Bitmap,e.listenersAttached=!1,e}return __extends(e,t),e.prototype.invalidateProperties=function(t){this.invalidatePropertiesFlag||(this.invalidatePropertiesFlag=!0,this.listenersAttached||this.attachListeners()),this.targetLevel<=t.$nestLevel&&(this.invalidateClientPropertiesFlag=!0),this.invalidatePropertiesQueue.insert(t)},e.prototype.validateProperties=function(){for(var t=this.invalidatePropertiesQueue,e=t.shift();e;)e.$stage&&e.validateProperties(),e=t.shift();t.isEmpty()&&(this.invalidatePropertiesFlag=!1)},e.prototype.invalidateSize=function(t){this.invalidateSizeFlag||(this.invalidateSizeFlag=!0,this.listenersAttached||this.attachListeners()),this.targetLevel<=t.$nestLevel&&(this.invalidateClientSizeFlag=!0),this.invalidateSizeQueue.insert(t)},e.prototype.validateSize=function(){for(var t=this.invalidateSizeQueue,e=t.pop();e;)e.$stage&&e.validateSize(),e=t.pop();t.isEmpty()&&(this.invalidateSizeFlag=!1)},e.prototype.invalidateDisplayList=function(t){this.invalidateDisplayListFlag||(this.invalidateDisplayListFlag=!0,this.listenersAttached||this.attachListeners()),this.invalidateDisplayListQueue.insert(t)},e.prototype.validateDisplayList=function(){for(var t=this.invalidateDisplayListQueue,e=t.shift();e;)e.$stage&&e.validateDisplayList(),e=t.shift();t.isEmpty()&&(this.invalidateDisplayListFlag=!1)},e.prototype.attachListeners=function(){this.eventDisplay.addEventListener(egret.Event.ENTER_FRAME,this.doPhasedInstantiationCallBack,this),this.eventDisplay.addEventListener(egret.Event.RENDER,this.doPhasedInstantiationCallBack,this),egret.sys.$invalidateRenderFlag=!0,this.listenersAttached=!0},e.prototype.doPhasedInstantiationCallBack=function(t){this.eventDisplay.removeEventListener(egret.Event.ENTER_FRAME,this.doPhasedInstantiationCallBack,this),this.eventDisplay.removeEventListener(egret.Event.RENDER,this.doPhasedInstantiationCallBack,this),this.doPhasedInstantiation()},e.prototype.doPhasedInstantiation=function(){this.invalidatePropertiesFlag&&this.validateProperties(),this.invalidateSizeFlag&&this.validateSize(),this.invalidateDisplayListFlag&&this.validateDisplayList(),this.invalidatePropertiesFlag||this.invalidateSizeFlag||this.invalidateDisplayListFlag?this.attachListeners():this.listenersAttached=!1},e.prototype.validateClient=function(t){var e,i=!1,r=this.targetLevel;this.targetLevel===Number.POSITIVE_INFINITY&&(this.targetLevel=t.$nestLevel);for(var n=this.invalidatePropertiesQueue,o=this.invalidateSizeQueue,s=this.invalidateDisplayListQueue;!i;){for(i=!0,e=n.removeSmallestChild(t);e;)e.$stage&&e.validateProperties(),e=n.removeSmallestChild(t);for(n.isEmpty()&&(this.invalidatePropertiesFlag=!1),this.invalidateClientPropertiesFlag=!1,e=o.removeLargestChild(t);e;){if(e.$stage&&e.validateSize(),this.invalidateClientPropertiesFlag&&(e=n.removeSmallestChild(t))){n.insert(e),i=!1;break}e=o.removeLargestChild(t)}for(o.isEmpty()&&(this.invalidateSizeFlag=!1),this.invalidateClientPropertiesFlag=!1,this.invalidateClientSizeFlag=!1,e=s.removeSmallestChild(t);e;){if(e.$stage&&e.validateDisplayList(),this.invalidateClientPropertiesFlag&&(e=n.removeSmallestChild(t))){n.insert(e),i=!1;break}if(this.invalidateClientSizeFlag&&(e=o.removeLargestChild(t))){o.insert(e),i=!1;break}e=s.removeSmallestChild(t)}s.isEmpty()&&(this.invalidateDisplayListFlag=!1)}r===Number.POSITIVE_INFINITY&&(this.targetLevel=Number.POSITIVE_INFINITY)},e}(egret.EventDispatcher);t.Validator=e,__reflect(e.prototype,"eui.sys.Validator");var i=function(){function t(){this.depthBins={},this.minDepth=0,this.maxDepth=-1}return t.prototype.insert=function(t){var e=t.$nestLevel;this.maxDepth<this.minDepth?this.minDepth=this.maxDepth=e:(e<this.minDepth&&(this.minDepth=e),e>this.maxDepth&&(this.maxDepth=e));var i=this.depthBins[e];i||(i=this.depthBins[e]=new r),i.insert(t)},t.prototype.pop=function(){var t,e=this.minDepth;if(e<=this.maxDepth){for(var i=this.depthBins[this.maxDepth];!i||0===i.length;){if(this.maxDepth--,this.maxDepth<e)return null;i=this.depthBins[this.maxDepth]}for(t=i.pop();!(i&&0!=i.length||(this.maxDepth--,this.maxDepth<e));)i=this.depthBins[this.maxDepth]}return t},t.prototype.shift=function(){var t,e=this.maxDepth;if(this.minDepth<=e){for(var i=this.depthBins[this.minDepth];!i||0===i.length;){if(this.minDepth++,this.minDepth>e)return null;i=this.depthBins[this.minDepth]}for(t=i.pop();!(i&&0!=i.length||(this.minDepth++,this.minDepth>e));)i=this.depthBins[this.minDepth]}return t},t.prototype.removeLargestChild=function(t){for(var e=t.$hashCode,i=t.$nestLevel,r=this.maxDepth,n=i;r>=n;){var o=this.depthBins[r];if(o&&o.length>0){if(r===i){if(o.map[e])return o.remove(t),t}else{if(!egret.is(t,"egret.DisplayObjectContainer"))break;for(var s=o.items,a=o.length,h=0;a>h;h++){var u=s[h];if(t.contains(u))return o.remove(u),u}}r--}else if(r==this.maxDepth&&this.maxDepth--,r--,n>r)break}return null},t.prototype.removeSmallestChild=function(t){for(var e=t.$nestLevel,i=e,r=this.maxDepth,n=t.$hashCode;r>=i;){var o=this.depthBins[i];if(o&&o.length>0){if(i===e){if(o.map[n])return o.remove(t),t}else{if(!egret.is(t,"egret.DisplayObjectContainer"))break;for(var s=o.items,a=o.length,h=0;a>h;h++){var u=s[h];if(t.contains(u))return o.remove(u),u}}i++}else if(i==this.minDepth&&this.minDepth++,i++,i>r)break}return null},t.prototype.isEmpty=function(){return this.minDepth>this.maxDepth},t}();__reflect(i.prototype,"DepthQueue");var r=function(){function t(){this.map={},this.items=[],this.length=0}return t.prototype.insert=function(t){var e=t.$hashCode;this.map[e]||(this.map[e]=!0,this.length++,this.items.push(t))},t.prototype.pop=function(){var t=this.items.pop();return t&&(this.length--,0===this.length?this.map={}:this.map[t.$hashCode]=!1),t},t.prototype.remove=function(t){var e=this.items.indexOf(t);e>=0&&(this.items.splice(e,1),this.length--,0===this.length?this.map={}:this.map[t.$hashCode]=!1)},t}();__reflect(r.prototype,"DepthBin")}(e=t.sys||(t.sys={}))}(eui||(eui={}));var eui;!function(t){function e(t,e,i,r){t||egret.$error(1003,"classDefinition"),t.prototype||egret.$error(1012,"classDefinition"),e||egret.$error(1003,"property"),i||egret.$error(1003,"type");var n=t.prototype;n.__meta__=n.__meta__||{},n.__meta__[e]=i,r&&(n.__defaultProperty__=e)}t.registerProperty=e}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(t,i){void 0===i&&(i=[]);var r=e.call(this)||this;return r.name=t,r.overrides=i,r}return __extends(i,e),i.prototype.initialize=function(e,i){for(var r=this.overrides,n=r.length,o=0;n>o;o++){var s=r[o];if(s instanceof t.AddItems){var a=e[s.target];a&&a instanceof t.Image&&!a.$parent&&(i.addChild(a),i.removeChild(a))}}},i}(egret.HashObject);t.State=e,__reflect(e.prototype,"eui.State")}(eui||(eui={})),function(t){var e;!function(t){var e=function(){function t(){}return Object.defineProperty(t.prototype,"states",{get:function(){return this.$stateValues.states},set:function(t){t||(t=[]);var e=this.$stateValues;e.states=t;for(var i={},r=t.length,n=0;r>n;n++){var o=t[n];i[o.name]=o}e.statesMap=i,e.parent&&this.commitCurrentState()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentState",{get:function(){return this.$stateValues.currentState},set:function(t){var e=this.$stateValues;e.explicitState=t,e.currentState=t,this.commitCurrentState()},enumerable:!0,configurable:!0}),t.prototype.commitCurrentState=function(){var t=this.$stateValues;if(t.parent){var e=t.statesMap[t.currentState];if(!e){if(!(t.states.length>0))return;t.currentState=t.states[0].name}if(t.oldState!=t.currentState){var i=t.parent,r=t.statesMap[t.oldState];if(r)for(var n=r.overrides,o=n.length,s=0;o>s;s++)n[s].remove(this,i);if(t.oldState=t.currentState,r=t.statesMap[t.currentState])for(var n=r.overrides,a=n.length,s=0;a>s;s++)n[s].apply(this,i)}}},t.prototype.hasState=function(t){return!!this.$stateValues.statesMap[t]},t.prototype.initializeStates=function(t){this.$stateValues.intialized=!0;for(var e=this.states,i=e.length,r=0;i>r;r++)e[r].initialize(this,t)},t}();t.StateClient=e,__reflect(e.prototype,"eui.sys.StateClient");var i=function(){function t(){this.intialized=!1,this.statesMap={},this.states=[],this.oldState=null,this.explicitState=null,this.currentState=null,this.parent=null,this.stateIsDirty=!1}return t}();t.StateValues=i,__reflect(i.prototype,"eui.sys.StateValues")}(e=t.sys||(t.sys={}))}(eui||(eui={}));var eui;!function(t){function e(e,i){var r=egret.getImplementation("eui.IAssetAdapter");r||(r=new t.DefaultAssetAdapter),r.getAsset(e,function(t){i(t)},this)}function i(e,i){var r=egret.getImplementation("eui.IThemeAdapter");r||(r=new t.DefaultThemeAdapter),r.getTheme(e,function(t){i(t)},function(t){console.log(t)},this)}t.getAssets=e,t.getTheme=i}(eui||(eui={})),function(t){var e;!function(e){function i(t){return 1===t.a&&0===t.b&&0===t.c&&1===t.d}function r(t,e){if("function"!=typeof t[e])return!1;var i=t[e].toString(),r=i.indexOf("{"),n=i.lastIndexOf("}");return i=i.substring(r+1,n),""==i.trim()}function n(t,e){for(var i in e)"prototype"!=i&&e.hasOwnProperty(i)&&(t[i]=e[i]);for(var n=t.prototype,o=e.prototype,s=Object.keys(o),a=s.length,h=0;a>h;h++){var u=s[h];if("__meta__"!=u&&(!n.hasOwnProperty(u)||r(n,u))){var l=Object.getOwnPropertyDescriptor(o,u);Object.defineProperty(n,u,l)}}}function o(e,i,r){n(e,h);var o=e.prototype;o.$super=i.prototype,t.registerProperty(e,"left","Percentage"),t.registerProperty(e,"right","Percentage"),t.registerProperty(e,"top","Percentage"),t.registerProperty(e,"bottom","Percentage"),t.registerProperty(e,"horizontalCenter","Percentage"),t.registerProperty(e,"verticalCenter","Percentage"),r&&(o.$childAdded=function(t,e){this.invalidateSize(),this.invalidateDisplayList()},o.$childRemoved=function(t,e){this.invalidateSize(),this.invalidateDisplayList()}),Object.defineProperty(o,"preferredWidth",{get:function(){var t=egret.$TempRectangle;return this.getPreferredBounds(t),t.width},enumerable:!0,configurable:!0}),Object.defineProperty(o,"preferredHeight",{get:function(){var t=egret.$TempRectangle;return this.getPreferredBounds(t),t.height},enumerable:!0,configurable:!0}),Object.defineProperty(o,"preferredX",{get:function(){var t=egret.$TempRectangle;return this.getPreferredBounds(t),t.x},enumerable:!0,configurable:!0}),Object.defineProperty(o,"preferredY",{get:function(){var t=egret.$TempRectangle;return this.getPreferredBounds(t),t.y},enumerable:!0,configurable:!0}),Object.defineProperty(o,"layoutBoundsX",{get:function(){var t=egret.$TempRectangle;return this.getLayoutBounds(t),t.x},enumerable:!0,configurable:!0}),Object.defineProperty(o,"layoutBoundsY",{get:function(){var t=egret.$TempRectangle;return this.getLayoutBounds(t),t.y},enumerable:!0,configurable:!0}),Object.defineProperty(o,"layoutBoundsWidth",{get:function(){var t=egret.$TempRectangle;return this.getLayoutBounds(t),t.width},enumerable:!0,configurable:!0}),Object.defineProperty(o,"layoutBoundsHeight",{get:function(){var t=egret.$TempRectangle;return this.getLayoutBounds(t),t.height},enumerable:!0,configurable:!0}),Object.defineProperty(o,"measuredWidth",{get:function(){return this.$UIComponent[16]},enumerable:!0,configurable:!0}),Object.defineProperty(o,"measuredHeight",{get:function(){return this.$UIComponent[17]},enumerable:!0,configurable:!0}),Object.defineProperty(o,"layoutWidthExplicitlySet",{get:function(){return this.$UIComponent[27]},enumerable:!0,configurable:!0}),Object.defineProperty(o,"layoutHeightExplicitlySet",{get:function(){return this.$UIComponent[28]},enumerable:!0,configurable:!0}),Object.defineProperty(o,"invalidatePropertiesFlag",{get:function(){return this.$UIComponent[24]},enumerable:!0,configurable:!0}),Object.defineProperty(o,"invalidateSizeFlag",{get:function(){return this.$UIComponent[25]},enumerable:!0,configurable:!0}),Object.defineProperty(o,"invalidateDisplayListFlag",{get:function(){return this.$UIComponent[26]},enumerable:!0,configurable:!0})}var s="eui.UIComponent",a=new e.Validator,h=function(r){function n(){var t=r.call(this)||this;return t.initializeUIValues(),t}return __extends(n,r),n.prototype.initializeUIValues=function(){this.$UIComponent={0:0/0,1:0/0,2:0/0,3:0/0,4:0/0,5:0/0,6:0/0,7:0/0,8:0/0,9:0/0,10:0,11:0,12:0,13:1e5,14:0,15:1e5,16:0,17:0,18:0/0,19:0/0,20:0,21:0,22:0,23:0,24:!0,25:!0,26:!0,27:!1,28:!1,29:!1},this.$includeInLayout=!0,this.$touchEnabled=!0},n.prototype.createChildren=function(){},n.prototype.childrenCreated=function(){},n.prototype.commitProperties=function(){var e=this.$UIComponent;(e[22]!=e[10]||e[23]!=e[11])&&(this.dispatchEventWith(egret.Event.RESIZE),e[22]=e[10],e[23]=e[11]),(e[20]!=this.$getX()||e[21]!=this.$getY())&&(t.UIEvent.dispatchUIEvent(this,t.UIEvent.MOVE),e[20]=this.$getX(),e[21]=this.$getY())},n.prototype.measure=function(){},n.prototype.updateDisplayList=function(t,e){},Object.defineProperty(n.prototype,"includeInLayout",{get:function(){return this.$includeInLayout},set:function(t){t=!!t,this.$includeInLayout!==t&&(this.$includeInLayout=!0,this.invalidateParentLayout(),this.$includeInLayout=t)},enumerable:!0,configurable:!0}),n.prototype.$onAddToStage=function(e,i){this.$super.$onAddToStage.call(this,e,i),this.checkInvalidateFlag();var r=this.$UIComponent;r[29]||(r[29]=!0,this.createChildren(),this.childrenCreated(),t.UIEvent.dispatchUIEvent(this,t.UIEvent.CREATION_COMPLETE))},n.prototype.checkInvalidateFlag=function(t){var e=this.$UIComponent;e[24]&&a.invalidateProperties(this),e[25]&&a.invalidateSize(this),e[26]&&a.invalidateDisplayList(this)},Object.defineProperty(n.prototype,"left",{get:function(){return this.$UIComponent[0]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$UIComponent;e[0]!==t&&(e[0]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.$UIComponent[1]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$UIComponent;e[1]!==t&&(e[1]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.$UIComponent[2]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$UIComponent;e[2]!==t&&(e[2]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.$UIComponent[3]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$UIComponent;e[3]!=t&&(e[3]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"horizontalCenter",{get:function(){return this.$UIComponent[4]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$UIComponent;e[4]!==t&&(e[4]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"verticalCenter",{get:function(){return this.$UIComponent[5]},set:function(t){t=t&&"number"!=typeof t?t.toString().trim():+t;var e=this.$UIComponent;e[5]!==t&&(e[5]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"percentWidth",{get:function(){return this.$UIComponent[6]},set:function(t){t=+t;var e=this.$UIComponent;e[6]!==t&&(e[6]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"percentHeight",{get:function(){return this.$UIComponent[7]},set:function(t){t=+t;var e=this.$UIComponent;e[7]!==t&&(e[7]=t,this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"explicitWidth",{get:function(){return this.$UIComponent[8]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"explicitHeight",{get:function(){return this.$UIComponent[9]},enumerable:!0,configurable:!0}),n.prototype.$getWidth=function(){return this.validateSizeNow(),this.$UIComponent[10]},n.prototype.$setWidth=function(t){t=+t;var e=this.$UIComponent;return 0>t||e[10]===t&&e[8]===t?!1:(e[8]=t,isNaN(t)&&this.invalidateSize(),this.invalidateProperties(),this.invalidateDisplayList(),this.invalidateParentLayout(),!0)},n.prototype.validateSizeNow=function(){this.validateSize(!0),this.updateFinalSize()},n.prototype.$getHeight=function(){return this.validateSizeNow(),this.$UIComponent[11]},n.prototype.$setHeight=function(t){t=+t;var e=this.$UIComponent;return 0>t||e[11]===t&&e[9]===t?!1:(e[9]=t,isNaN(t)&&this.invalidateSize(),this.invalidateProperties(),this.invalidateDisplayList(),this.invalidateParentLayout(),!0)},Object.defineProperty(n.prototype,"minWidth",{get:function(){return this.$UIComponent[12]},set:function(t){t=+t||0;var e=this.$UIComponent;0>t||e[12]===t||(e[12]=t,this.invalidateSize(),this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxWidth",{get:function(){return this.$UIComponent[13]},set:function(t){t=+t||0;var e=this.$UIComponent;0>t||e[13]===t||(e[13]=t,this.invalidateSize(),this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"minHeight",{get:function(){return this.$UIComponent[14]},set:function(t){t=+t||0;var e=this.$UIComponent;0>t||e[14]===t||(e[14]=t,this.invalidateSize(),this.invalidateParentLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"maxHeight",{get:function(){return this.$UIComponent[15]},set:function(t){t=+t||0;var e=this.$UIComponent;0>t||e[15]===t||(e[15]=t,this.invalidateSize(),this.invalidateParentLayout())},enumerable:!0,configurable:!0}),n.prototype.setMeasuredSize=function(t,e){var i=this.$UIComponent;i[16]=Math.ceil(+t||0),i[17]=Math.ceil(+e||0)},n.prototype.setActualSize=function(t,e){var i=!1,r=this.$UIComponent;r[10]!==t&&(r[10]=t,i=!0),r[11]!==e&&(r[11]=e,i=!0),i&&(this.invalidateDisplayList(),this.dispatchEventWith(egret.Event.RESIZE))},n.prototype.$updateUseTransform=function(){this.$super.$updateUseTransform.call(this),this.invalidateParentLayout()},n.prototype.$setMatrix=function(t,e){return void 0===e&&(e=!0),this.$super.$setMatrix.call(this,t,e),this.invalidateParentLayout(),!0},n.prototype.$setAnchorOffsetX=function(t){return this.$super.$setAnchorOffsetX.call(this,t),this.invalidateParentLayout(),!0},n.prototype.$setAnchorOffsetY=function(t){return this.$super.$setAnchorOffsetY.call(this,t),this.invalidateParentLayout(),!0},n.prototype.$setX=function(t){var e=this.$super.$setX.call(this,t);return e&&(this.invalidateParentLayout(),this.invalidateProperties()),e},n.prototype.$setY=function(t){var e=this.$super.$setY.call(this,t);return e&&(this.invalidateParentLayout(),this.invalidateProperties()),e},n.prototype.invalidateProperties=function(){var t=this.$UIComponent;t[24]||(t[24]=!0,this.$stage&&a.invalidateProperties(this))},n.prototype.validateProperties=function(){var t=this.$UIComponent;t[24]&&(this.commitProperties(),t[24]=!1)},n.prototype.invalidateSize=function(){var t=this.$UIComponent;t[25]||(t[25]=!0,this.$stage&&a.invalidateSize(this))},n.prototype.validateSize=function(t){if(t){var e=this.$children;if(e)for(var i=e.length,r=0;i>r;r++){var n=e[r];egret.is(n,s)&&n.validateSize(!0)}}var o=this.$UIComponent;if(o[25]){var a=this.measureSizes();a&&(this.invalidateDisplayList(),this.invalidateParentLayout()),o[25]=!1}},n.prototype.measureSizes=function(){var t=!1,e=this.$UIComponent;if(!e[25])return t;(isNaN(e[8])||isNaN(e[9]))&&(this.measure(),e[16]<e[12]&&(e[16]=e[12]),e[16]>e[13]&&(e[16]=e[13]),e[17]<e[14]&&(e[17]=e[14]),e[17]>e[15]&&(e[17]=e[15]));var i=this.getPreferredUWidth(),r=this.getPreferredUHeight();return(i!==e[18]||r!==e[19])&&(e[18]=i,e[19]=r,t=!0),t},n.prototype.invalidateDisplayList=function(){var t=this.$UIComponent;t[26]||(t[26]=!0,this.$stage&&a.invalidateDisplayList(this))},n.prototype.validateDisplayList=function(){var t=this.$UIComponent;t[26]&&(this.updateFinalSize(),this.updateDisplayList(t[10],t[11]),t[26]=!1)},n.prototype.updateFinalSize=function(){var t=0,e=0,i=this.$UIComponent;t=i[27]?i[10]:isNaN(i[8])?i[16]:i[8],e=i[28]?i[11]:isNaN(i[9])?i[17]:i[9],this.setActualSize(t,e)},n.prototype.validateNow=function(){this.$stage&&a.validateClient(this)},n.prototype.invalidateParentLayout=function(){var t=this.$parent;t&&this.$includeInLayout&&egret.is(t,s)&&(t.invalidateSize(),t.invalidateDisplayList())},n.prototype.setLayoutBoundsSize=function(t,r){if(r=+r,t=+t,!(0>r||0>t)){var n,o,s=this.$UIComponent,a=s[13],h=s[15],u=Math.min(s[12],a),l=Math.min(s[14],h);isNaN(t)?(s[27]=!1,n=this.getPreferredUWidth()):(s[27]=!0,n=Math.max(u,Math.min(a,t))),isNaN(r)?(s[28]=!1,o=this.getPreferredUHeight()):(s[28]=!0,o=Math.max(l,Math.min(h,r)));var c=this.getAnchorMatrix();if(i(c))return void this.setActualSize(n,o);var p=e.MatrixUtil.fitBounds(t,r,c,s[8],s[9],this.getPreferredUWidth(),this.getPreferredUHeight(),u,l,a,h);p||(p=egret.Point.create(u,l)),this.setActualSize(p.x,p.y),egret.Point.release(p)}},n.prototype.setLayoutBoundsPosition=function(e,r){var n=this.$getMatrix();if(!i(n)||0!=this.anchorOffsetX||0!=this.anchorOffsetY){var o=egret.$TempRectangle;this.getLayoutBounds(o),e+=this.$getX()-o.x,r+=this.$getY()-o.y}var s=this.$super.$setX.call(this,e);(this.$super.$setY.call(this,r)||s)&&t.UIEvent.dispatchUIEvent(this,t.UIEvent.MOVE)},n.prototype.getLayoutBounds=function(t){var e,i=this.$UIComponent;e=i[27]?i[10]:isNaN(i[8])?i[16]:i[8];var r;r=i[28]?i[11]:isNaN(i[9])?i[17]:i[9],this.applyMatrix(t,e,r)},n.prototype.getPreferredUWidth=function(){var t=this.$UIComponent;return isNaN(t[8])?t[16]:t[8]},n.prototype.getPreferredUHeight=function(){var t=this.$UIComponent;return isNaN(t[9])?t[17]:t[9]},n.prototype.getPreferredBounds=function(t){var e=this.getPreferredUWidth(),i=this.getPreferredUHeight();this.applyMatrix(t,e,i)},n.prototype.applyMatrix=function(t,e,r){t.setTo(0,0,e,r);var n=this.getAnchorMatrix();i(n)?(t.x+=n.tx,t.y+=n.ty):n.$transformBounds(t)},n.prototype.getAnchorMatrix=function(){var t=this.$getMatrix(),e=this.anchorOffsetX,i=this.anchorOffsetY;if(0!=e||0!=i){var r=egret.$TempMatrix;return t.$preMultiplyInto(r.setTo(1,0,0,1,-e,-i),r),r}return t},n}(egret.DisplayObject);e.UIComponentImpl=h,__reflect(h.prototype,"eui.sys.UIComponentImpl",["eui.UIComponent","egret.DisplayObject"]),e.mixin=n,e.implementUIComponent=o
}(e=t.sys||(t.sys={}))}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.$layout=null,i.$stateValues=new t.sys.StateValues,i.initializeUIValues(),i.$Group={0:0,1:0,2:0,3:0,4:!1,5:!1},i.$stateValues.parent=i,i}return __extends(i,e),Object.defineProperty(i.prototype,"elementsContent",{set:function(t){if(t)for(var e=t.length,i=0;e>i;i++)this.addChild(t[i])},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"layout",{get:function(){return this.$layout},set:function(t){this.$setLayout(t)},enumerable:!0,configurable:!0}),i.prototype.$setLayout=function(t){return this.$layout==t?!1:(this.$layout&&(this.$layout.target=null),this.$layout=t,t&&(t.target=this),this.invalidateSize(),this.invalidateDisplayList(),!0)},Object.defineProperty(i.prototype,"contentWidth",{get:function(){return this.$Group[0]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"contentHeight",{get:function(){return this.$Group[1]},enumerable:!0,configurable:!0}),i.prototype.setContentSize=function(e,i){e=Math.ceil(+e||0),i=Math.ceil(+i||0);var r=this.$Group,n=r[0]!==e,o=r[1]!==i;(n||o)&&(r[0]=e,r[1]=i,n&&t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"contentWidth"),o&&t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"contentHeight"))},Object.defineProperty(i.prototype,"scrollEnabled",{get:function(){return this.$Group[4]},set:function(t){t=!!t;var e=this.$Group;t!==e[4]&&(e[4]=t,this.updateScrollRect())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scrollH",{get:function(){return this.$Group[2]},set:function(e){e=+e||0;var i=this.$Group;e!==i[2]&&(i[2]=e,this.updateScrollRect()&&this.$layout&&this.$layout.scrollPositionChanged(),t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"scrollH"))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scrollV",{get:function(){return this.$Group[3]},set:function(e){e=+e||0;var i=this.$Group;e!=i[3]&&(i[3]=e,this.updateScrollRect()&&this.$layout&&this.$layout.scrollPositionChanged(),t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"scrollV"))},enumerable:!0,configurable:!0}),i.prototype.updateScrollRect=function(){var t=this.$Group,e=t[4];if(e){var i=this.$UIComponent;this.scrollRect=egret.$TempRectangle.setTo(t[2],t[3],i[10],i[11])}else this.$scrollRect&&(this.scrollRect=null);return e},Object.defineProperty(i.prototype,"numElements",{get:function(){return this.$children.length},enumerable:!0,configurable:!0}),i.prototype.getElementAt=function(t){return this.$children[t]},i.prototype.getVirtualElementAt=function(t){return this.getElementAt(t)},i.prototype.setVirtualElementIndicesInView=function(t,e){},Object.defineProperty(i.prototype,"touchThrough",{get:function(){return this.$Group[5]},set:function(t){this.$Group[5]=!!t},enumerable:!0,configurable:!0}),i.prototype.$hitTest=function(t,i){var r=e.prototype.$hitTest.call(this,t,i);if(r||this.$Group[5])return r;if(!this.$visible||!this.touchEnabled||0===this.scaleX||0===this.scaleY||0===this.width||0===this.height)return null;var n=this.globalToLocal(t,i,egret.$TempPoint),o=this.$UIComponent,s=egret.$TempRectangle.setTo(0,0,o[10],o[11]),a=this.$scrollRect;return a&&(s.x=a.x,s.y=a.y),s.contains(n.x,n.y)?this:null},i.prototype.invalidateState=function(){var t=this.$stateValues;t.stateIsDirty||(t.stateIsDirty=!0,this.invalidateProperties())},i.prototype.getCurrentState=function(){return""},i.prototype.createChildren=function(){this.$layout||this.$setLayout(new t.BasicLayout),this.initializeStates(this.$stage)},i.prototype.childrenCreated=function(){},i.prototype.commitProperties=function(){t.sys.UIComponentImpl.prototype.commitProperties.call(this);var e=this.$stateValues;e.stateIsDirty&&(e.stateIsDirty=!1,e.explicitState||(e.currentState=this.getCurrentState(),this.commitCurrentState()))},i.prototype.measure=function(){return this.$layout?void this.$layout.measure():void this.setMeasuredSize(0,0)},i.prototype.updateDisplayList=function(t,e){this.$layout&&this.$layout.updateDisplayList(t,e),this.updateScrollRect()},i.prototype.invalidateParentLayout=function(){},i.prototype.setMeasuredSize=function(t,e){},i.prototype.invalidateProperties=function(){},i.prototype.validateProperties=function(){},i.prototype.invalidateSize=function(){},i.prototype.validateSize=function(t){},i.prototype.invalidateDisplayList=function(){},i.prototype.validateDisplayList=function(){},i.prototype.validateNow=function(){},i.prototype.setLayoutBoundsSize=function(t,e){},i.prototype.setLayoutBoundsPosition=function(t,e){},i.prototype.getLayoutBounds=function(t){},i.prototype.getPreferredBounds=function(t){},i}(egret.DisplayObjectContainer);t.Group=e,__reflect(e.prototype,"eui.Group",["eui.IViewport","eui.UIComponent","egret.DisplayObject"]),t.sys.implementUIComponent(e,egret.DisplayObjectContainer,!0),t.sys.mixin(e,t.sys.StateClient),t.registerProperty(e,"elementsContent","Array",!0),t.registerProperty(e,"states","State[]")}(eui||(eui={}));var eui;!function(t){function e(t,e){if(t||egret.$error(1003,"instance"),e||egret.$error(1003,"property"),t.hasOwnProperty(i))t[i].push(e);else{var r=[e];t[i]&&(r=t[i].concat(r)),t[i]=r}}var i="__bindables__";t.registerBindable=e}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.initializeUIValues(),t.$Component={0:null,1:null,2:"",3:!0,4:!1,5:!1,6:!0,7:!0,8:null},t.$touchEnabled=!0,t}return __extends(i,e),Object.defineProperty(i.prototype,"hostComponentKey",{get:function(){return this.$Component[0]},set:function(t){this.$Component[0]=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"skinName",{get:function(){return this.$Component[1]},set:function(t){var e=this.$Component;if(e[5]=!0,e[1]!=t){if(t)e[1]=t;else{var i=egret.getImplementation("eui.Theme");if(i){var r=i.getSkinName(this);r&&(e[1]=r)}}this.$parseSkinName()}},enumerable:!0,configurable:!0}),i.prototype.$parseSkinName=function(){var t,e=this.skinName;if(e)if(e.prototype)t=new e;else if("string"==typeof e){var i=void 0,r=e.trim();if("<"==r.charAt(0))i=EXML.parse(r);else if(i=egret.getDefinitionByName(e),!i&&-1!=r.toLowerCase().indexOf(".exml"))return void EXML.load(e,this.onExmlLoaded,this,!0);i&&(t=new i)}else t=e;this.setSkin(t)},i.prototype.onExmlLoaded=function(t,e){if(this.skinName==e){var i=new t;this.setSkin(i)}},Object.defineProperty(i.prototype,"skin",{get:function(){return this.$Component[8]},enumerable:!0,configurable:!0}),i.prototype.setSkin=function(e){!e||e instanceof t.Skin||(e=null,egret.$error(2202));var i=this.$Component,r=i[8];if(r&&r.__proto__==e.__proto__)return void console.log(this.skinName+"已经被定义");if(r){for(var n=r.skinParts,o=n.length,s=0;o>s;s++){var a=n[s];this[a]&&this.setSkinPart(a,null)}var h=r.$elementsContent;if(h){o=h.length;for(var s=0;o>s;s++){var u=h[s];u.$parent==this&&this.removeChild(u)}}r.hostComponent=null}if(i[8]=e,e){for(var n=e.skinParts,l=n.length,s=0;l>s;s++){var a=n[s],c=e[a];c&&this.setSkinPart(a,c)}var h=e.$elementsContent;if(h)for(var s=h.length-1;s>=0;s--)this.addChildAt(h[s],0);e.hostComponent=this}this.invalidateSize(),this.invalidateDisplayList(),this.dispatchEventWith(egret.Event.COMPLETE)},i.prototype.setSkinPart=function(t,e){var i=this[t];i&&this.partRemoved(t,i),this[t]=e,e&&this.partAdded(t,e)},i.prototype.partAdded=function(t,e){},i.prototype.partRemoved=function(t,e){},i.prototype.$setTouchChildren=function(t){t=!!t;var i=this.$Component;return i[6]=t,i[3]?(i[6]=t,e.prototype.$setTouchChildren.call(this,t)):!0},i.prototype.$setTouchEnabled=function(t){t=!!t;var i=this.$Component;i[7]=t,i[3]&&e.prototype.$setTouchEnabled.call(this,t)},Object.defineProperty(i.prototype,"enabled",{get:function(){return this.$Component[3]},set:function(t){t=!!t,this.$setEnabled(t)},enumerable:!0,configurable:!0}),i.prototype.$setEnabled=function(t){var e=this.$Component;return t===e[3]?!1:(e[3]=t,t?(this.$touchEnabled=e[7],this.$touchChildren=e[6]):(this.$touchEnabled=!1,this.$touchChildren=!1),this.invalidateState(),!0)},Object.defineProperty(i.prototype,"currentState",{get:function(){var t=this.$Component;return t[2]?t[2]:this.getCurrentState()},set:function(t){var e=this.$Component;t!=e[2]&&(e[2]=t,this.invalidateState())},enumerable:!0,configurable:!0}),i.prototype.invalidateState=function(){var t=this.$Component;t[4]||(t[4]=!0,this.invalidateProperties())},i.prototype.getCurrentState=function(){return""},i.prototype.createChildren=function(){var t=this.$Component;if(!t[1]){var e=egret.getImplementation("eui.Theme");if(e){var i=e.getSkinName(this);i&&(t[1]=i,this.$parseSkinName())}}},i.prototype.childrenCreated=function(){},i.prototype.commitProperties=function(){t.sys.UIComponentImpl.prototype.commitProperties.call(this);var e=this.$Component;e[4]&&(e[4]=!1,e[8]&&(e[8].currentState=this.currentState))},i.prototype.measure=function(){t.sys.measure(this);var e=this.$Component[8];if(e){var i=this.$UIComponent;isNaN(e.width)?(i[16]<e.minWidth&&(i[16]=e.minWidth),i[16]>e.maxWidth&&(i[16]=e.maxWidth)):i[16]=e.width,isNaN(e.height)?(i[17]<e.minHeight&&(i[17]=e.minHeight),i[17]>e.maxHeight&&(i[17]=e.maxHeight)):i[17]=e.height}},i.prototype.updateDisplayList=function(e,i){t.sys.updateDisplayList(this,e,i)},i.prototype.invalidateParentLayout=function(){},i.prototype.setMeasuredSize=function(t,e){},i.prototype.invalidateProperties=function(){},i.prototype.validateProperties=function(){},i.prototype.invalidateSize=function(){},i.prototype.validateSize=function(t){},i.prototype.invalidateDisplayList=function(){},i.prototype.validateDisplayList=function(){},i.prototype.validateNow=function(){},i.prototype.setLayoutBoundsSize=function(t,e){},i.prototype.setLayoutBoundsPosition=function(t,e){},i.prototype.getLayoutBounds=function(t){},i.prototype.getPreferredBounds=function(t){},i}(egret.DisplayObjectContainer);t.Component=e,__reflect(e.prototype,"eui.Component",["eui.UIComponent","egret.DisplayObject"]),t.registerProperty(e,"skinName","Class"),t.sys.implementUIComponent(e,egret.DisplayObjectContainer,!0)}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.$dataProviderChanged=!1,t.$dataProvider=null,t.$indexToRenderer=[],t.$DataGroup={0:!0,1:!1,2:{},3:{},4:!1,5:!1,6:null,7:null,8:!1,9:null,10:!1,11:!1,12:null,13:null,14:!1},t}return __extends(i,e),Object.defineProperty(i.prototype,"useVirtualLayout",{get:function(){return this.$layout?this.$layout.$useVirtualLayout:this.$DataGroup[0]},set:function(t){t=!!t;var e=this.$DataGroup;t!==e[0]&&(e[0]=t,this.$layout&&(this.$layout.useVirtualLayout=t))},enumerable:!0,configurable:!0}),i.prototype.$setLayout=function(t){if(t==this.$layout)return!1;this.$layout&&(this.$layout.setTypicalSize(0,0),this.$layout.removeEventListener("useVirtualLayoutChanged",this.onUseVirtualLayoutChanged,this)),this.$layout&&t&&this.$layout.$useVirtualLayout!=t.$useVirtualLayout&&this.onUseVirtualLayoutChanged();var i=e.prototype.$setLayout.call(this,t);if(t){var r=this.$DataGroup[9];r&&t.setTypicalSize(r.width,r.height),t.useVirtualLayout=this.$DataGroup[0],t.addEventListener("useVirtualLayoutChanged",this.onUseVirtualLayoutChanged,this)}return i},i.prototype.onUseVirtualLayoutChanged=function(t){var e=this.$DataGroup;e[1]=!0,e[10]=!0,this.removeDataProviderListener(),this.invalidateProperties()},i.prototype.setVirtualElementIndicesInView=function(t,e){if(this.$layout&&this.$layout.$useVirtualLayout)for(var i=this.$indexToRenderer,r=Object.keys(i),n=r.length,o=0;n>o;o++){var s=+r[o];(t>s||s>e)&&this.freeRendererByIndex(s)}},i.prototype.getElementAt=function(t){return this.$indexToRenderer[t]},i.prototype.getVirtualElementAt=function(t){if(t=0|+t,0>t||t>=this.$dataProvider.length)return null;var e=this.$indexToRenderer[t];if(!e){var i=this.$dataProvider.getItemAt(t);e=this.createVirtualRenderer(i),this.$indexToRenderer[t]=e,this.updateRenderer(e,t,i);var r=this.$DataGroup;r[4]&&(e.validateNow(),r[4]=!1,this.rendererAdded(e,t,i))}return e},i.prototype.freeRendererByIndex=function(t){var e=this.$indexToRenderer[t];e&&(delete this.$indexToRenderer[t],this.doFreeRenderer(e))},i.prototype.doFreeRenderer=function(t){var e=this.$DataGroup,i=e[2][t.$hashCode],r=i.$hashCode;e[3][r]||(e[3][r]=[]),e[3][r].push(t),t.visible=!1},i.prototype.invalidateSize=function(){this.$DataGroup[4]||e.prototype.invalidateSize.call(this)},i.prototype.createVirtualRenderer=function(t){var e,i=this.itemToRendererClass(t),r=i.$hashCode,n=this.$DataGroup,o=n[3];return o[r]&&o[r].length>0?(e=o[r].pop(),e.visible=!0,this.invalidateDisplayList(),e):(n[4]=!0,this.createOneRenderer(i))},i.prototype.createOneRenderer=function(t){var e=new t,i=this.$DataGroup;return i[2][e.$hashCode]=t,egret.is(e,"eui.IItemRenderer")?(i[13]&&this.setItemRenderSkinName(e,i[13]),this.addChild(e),e):null},i.prototype.setItemRenderSkinName=function(e,i){if(e&&e instanceof t.Component){var r=e;r.$Component[5]||(r.skinName=i,r.$Component[5]=!1)}},Object.defineProperty(i.prototype,"dataProvider",{get:function(){return this.$dataProvider},set:function(t){this.$setDataProvider(t)},enumerable:!0,configurable:!0}),i.prototype.$setDataProvider=function(t){return this.$dataProvider==t||t&&!t.getItemAt?!1:(this.removeDataProviderListener(),this.$dataProvider=t,this.$dataProviderChanged=!0,this.$DataGroup[10]=!0,this.invalidateProperties(),this.invalidateSize(),this.invalidateDisplayList(),!0)},i.prototype.removeDataProviderListener=function(){this.$dataProvider&&this.$dataProvider.removeEventListener(t.CollectionEvent.COLLECTION_CHANGE,this.onCollectionChange,this)},i.prototype.onCollectionChange=function(e){switch(e.kind){case t.CollectionEventKind.ADD:this.itemAddedHandler(e.items,e.location);break;case t.CollectionEventKind.REMOVE:this.itemRemovedHandler(e.items,e.location);break;case t.CollectionEventKind.UPDATE:case t.CollectionEventKind.REPLACE:this.itemUpdatedHandler(e.items[0],e.location);break;case t.CollectionEventKind.RESET:case t.CollectionEventKind.REFRESH:if(this.$layout&&this.$layout.$useVirtualLayout)for(var i=this.$indexToRenderer,r=Object.keys(i),n=r.length,o=n-1;o>=0;o--){var s=+r[o];this.freeRendererByIndex(s)}this.$dataProviderChanged=!0,this.invalidateProperties()}this.invalidateSize(),this.invalidateDisplayList()},i.prototype.itemAddedHandler=function(t,e){for(var i=t.length,r=0;i>r;r++)this.itemAdded(t[r],e+r);this.resetRenderersIndices()},i.prototype.itemRemovedHandler=function(t,e){for(var i=t.length,r=i-1;r>=0;r--)this.itemRemoved(t[r],e+r);this.resetRenderersIndices()},i.prototype.itemAdded=function(t,e){if(this.$layout&&this.$layout.elementAdded(e),this.$layout&&this.$layout.$useVirtualLayout)return void this.$indexToRenderer.splice(e,0,null);var i=this.createVirtualRenderer(t);if(this.$indexToRenderer.splice(e,0,i),i){this.updateRenderer(i,e,t);var r=this.$DataGroup;r[4]&&(r[4]=!1,this.rendererAdded(i,e,t))}},i.prototype.itemRemoved=function(t,e){this.$layout&&this.$layout.elementRemoved(e);var i=this.$indexToRenderer[e];this.$indexToRenderer.length>e&&this.$indexToRenderer.splice(e,1),i&&(this.$layout&&this.$layout.$useVirtualLayout?this.doFreeRenderer(i):(this.rendererRemoved(i,e,t),this.removeChild(i)))},i.prototype.resetRenderersIndices=function(){var t=this.$indexToRenderer;if(0!=t.length)if(this.$layout&&this.$layout.$useVirtualLayout)for(var e=Object.keys(t),i=e.length,r=0;i>r;r++){var n=+e[r];this.resetRendererItemIndex(n)}else for(var o=t.length,n=0;o>n;n++)this.resetRendererItemIndex(n)},i.prototype.itemUpdatedHandler=function(t,e){if(!this.$DataGroup[11]){var i=this.$indexToRenderer[e];i&&this.updateRenderer(i,e,t)}},i.prototype.resetRendererItemIndex=function(t){var e=this.$indexToRenderer[t];e&&(e.itemIndex=t)},Object.defineProperty(i.prototype,"itemRenderer",{get:function(){return this.$DataGroup[6]},set:function(t){var e=this.$DataGroup;e[6]!=t&&(e[6]=t,e[5]=!0,e[8]=!0,e[10]=!0,this.removeDataProviderListener(),this.invalidateProperties())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemRendererSkinName",{get:function(){return this.$DataGroup[13]},set:function(t){var e=this.$DataGroup;e[13]!=t&&(e[13]=t,this.$UIComponent[29]&&(e[14]=!0,this.invalidateProperties()))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"itemRendererFunction",{get:function(){return this.$DataGroup[7]},set:function(t){var e=this.$DataGroup;e[7]!=t&&(e[7]=t,e[5]=!0,e[8]=!0,this.removeDataProviderListener(),this.invalidateProperties())},enumerable:!0,configurable:!0}),i.prototype.itemToRendererClass=function(e){var i,r=this.$DataGroup;return r[7]&&(i=r[7](e)),i||(i=r[6]),i||(i=t.ItemRenderer),i.$hashCode||(i.$hashCode=egret.$hashCount++),i},i.prototype.createChildren=function(){if(!this.$layout){var i=new t.VerticalLayout;i.gap=0,i.horizontalAlign=t.JustifyAlign.CONTENT_JUSTIFY,this.$setLayout(i)}e.prototype.createChildren.call(this)},i.prototype.commitProperties=function(){var i=this.$DataGroup;if((i[5]||this.$dataProviderChanged||i[1])&&(this.removeAllRenderers(),this.$layout&&this.$layout.clearVirtualLayoutCache(),this.setTypicalLayoutRect(null),i[1]=!1,i[5]=!1,this.$dataProvider&&this.$dataProvider.addEventListener(t.CollectionEvent.COLLECTION_CHANGE,this.onCollectionChange,this),this.$layout&&this.$layout.$useVirtualLayout?(this.invalidateSize(),this.invalidateDisplayList()):this.createRenderers(),this.$dataProviderChanged&&(this.$dataProviderChanged=!1,this.scrollV=this.scrollH=0)),e.prototype.commitProperties.call(this),i[8]&&(i[8]=!1,this.$dataProvider&&this.$dataProvider.length>0&&(i[12]=this.$dataProvider.getItemAt(0),this.measureRendererSize())),i[14]){i[14]=!1;for(var r=i[13],n=this.$indexToRenderer,o=Object.keys(n),s=o.length,a=0;s>a;a++){var h=o[a];this.setItemRenderSkinName(n[h],r)}var u=i[3];o=Object.keys(u),s=o.length;for(var a=0;s>a;a++)for(var l=o[a],c=u[l],p=c.length,d=0;p>d;d++)this.setItemRenderSkinName(c[d],r)}},i.prototype.measure=function(){this.$layout&&this.$layout.$useVirtualLayout&&this.ensureTypicalLayoutElement(),e.prototype.measure.call(this)},i.prototype.updateDisplayList=function(t,i){var r=this.$layout&&this.$layout.$useVirtualLayout;r&&this.ensureTypicalLayoutElement(),e.prototype.updateDisplayList.call(this,t,i);var n=this.$DataGroup;if(r){var o=n[9];if(o){var s=this.$indexToRenderer[0];if(s){var a=egret.$TempRectangle;s.getPreferredBounds(a),(a.width!=o.width||a.height!=o.height)&&(n[9]=null)}}}},i.prototype.ensureTypicalLayoutElement=function(){this.$DataGroup[9]||this.$dataProvider&&this.$dataProvider.length>0&&(this.$DataGroup[12]=this.$dataProvider.getItemAt(0),this.measureRendererSize())},i.prototype.measureRendererSize=function(){var t=this.$DataGroup;if(void 0==t[12])return void this.setTypicalLayoutRect(null);var e=this.createVirtualRenderer(t[12]);if(!e)return void this.setTypicalLayoutRect(null);this.updateRenderer(e,0,t[12]),e.validateNow();var i=egret.$TempRectangle;e.getPreferredBounds(i);var r=new egret.Rectangle(0,0,i.width,i.height);this.$layout&&this.$layout.$useVirtualLayout?(t[4]&&this.rendererAdded(e,0,t[12]),this.doFreeRenderer(e)):this.removeChild(e),this.setTypicalLayoutRect(r),t[4]=!1},i.prototype.setTypicalLayoutRect=function(t){this.$DataGroup[9]=t,this.$layout&&(t?this.$layout.setTypicalSize(t.width,t.height):this.$layout.setTypicalSize(0,0))},i.prototype.removeAllRenderers=function(){for(var t=this.$indexToRenderer,e=Object.keys(t),i=e.length,r=0;i>r;r++){var n=e[r],o=t[n];o&&(this.rendererRemoved(o,o.itemIndex,o.data),this.removeChild(o))}this.$indexToRenderer=[];var s=this.$DataGroup;if(s[10]){for(var a=s[3],h=Object.keys(a),u=h.length,r=0;u>r;r++)for(var l=h[r],c=a[l],p=c.length,d=0;p>d;d++){var o=c[d];this.rendererRemoved(o,o.itemIndex,o.data),this.removeChild(o)}s[3]={},s[2]={},s[10]=!1}},i.prototype.createRenderers=function(){if(this.$dataProvider)for(var t=0,e=this.$dataProvider.length,i=0;e>i;i++){var r=this.$dataProvider.getItemAt(i),n=this.itemToRendererClass(r),o=this.createOneRenderer(n);o&&(this.$indexToRenderer[t]=o,this.updateRenderer(o,t,r),this.rendererAdded(o,t,r),t++)}},i.prototype.updateRenderer=function(t,e,i){var r=this.$DataGroup;return r[11]=!0,t.itemIndex=e,t.parent==this&&this.setChildIndex(t,e),t.data=i,r[11]=!1,t},Object.defineProperty(i.prototype,"numElements",{get:function(){return this.$dataProvider?this.$dataProvider.length:0},enumerable:!0,configurable:!0}),i.prototype.rendererAdded=function(t,e,i){},i.prototype.rendererRemoved=function(t,e,i){},i}(t.Group);t.DataGroup=e,__reflect(e.prototype,"eui.DataGroup"),t.registerProperty(e,"itemRenderer","Class"),t.registerProperty(e,"itemRendererSkinName","Class"),t.registerProperty(e,"dataProvider","eui.ICollection",!0)}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.labelDisplay=null,e._label="",e.iconDisplay=null,e._icon=null,e.touchCaptured=!1,e.touchChildren=!1,e.addEventListener(egret.TouchEvent.TOUCH_BEGIN,e.onTouchBegin,e),e}return __extends(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(t){this._label=t,this.labelDisplay&&(this.labelDisplay.text=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this._icon},set:function(t){this._icon=t,this.iconDisplay&&(this.iconDisplay.source=t)},enumerable:!0,configurable:!0}),e.prototype.onTouchCancle=function(t){var e=t.$currentTarget;e.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchCancle,this),e.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),this.touchCaptured=!1,this.invalidateState()},e.prototype.onTouchBegin=function(t){this.$stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchCancle,this),this.$stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),this.touchCaptured=!0,this.invalidateState(),t.updateAfterEvent()},e.prototype.onStageTouchEnd=function(t){var e=t.$currentTarget;e.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchCancle,this),e.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),this.contains(t.target)&&this.buttonReleased(),this.touchCaptured=!1,this.invalidateState()},e.prototype.getCurrentState=function(){return this.enabled?this.touchCaptured?"down":"up":"disabled"},e.prototype.partAdded=function(t,e){e===this.labelDisplay?this.labelDisplay.text=this._label:e==this.iconDisplay&&(this.iconDisplay.source=this._icon)},e.prototype.buttonReleased=function(){},e}(t.Component);t.Button=e,__reflect(e.prototype,"eui.Button")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.$Range={0:100,1:!1,2:0,3:!1,4:0,5:0,6:!1,7:1,8:!1,9:!1},t}return __extends(i,e),Object.defineProperty(i.prototype,"maximum",{get:function(){return this.$Range[0]},set:function(t){t=+t||0;var e=this.$Range;t!==e[0]&&(e[0]=t,e[1]=!0,this.invalidateProperties(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"minimum",{get:function(){return this.$Range[2]},set:function(t){t=+t||0;var e=this.$Range;t!==e[2]&&(e[2]=t,e[3]=!0,this.invalidateProperties(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){var t=this.$Range;return t[6]?t[5]:t[4]},set:function(t){t=+t||0,this.$setValue(t)},enumerable:!0,configurable:!0}),i.prototype.$setValue=function(t){if(t===this.value)return!1;var e=this.$Range;return e[5]=t,e[6]=!0,this.invalidateProperties(),!0},Object.defineProperty(i.prototype,"snapInterval",{get:function(){return this.$Range[7]},set:function(t){var e=this.$Range;e[9]=!0,t=+t||0,t!==e[7]&&(isNaN(t)?(e[7]=1,e[9]=!1):e[7]=t,e[8]=!0,this.invalidateProperties())},enumerable:!0,configurable:!0}),i.prototype.commitProperties=function(){e.prototype.commitProperties.call(this);var t=this.$Range;if(t[2]>t[0]&&(t[1]?t[0]=t[2]:t[2]=t[0]),t[6]||t[1]||t[3]||t[8]){var i=t[6]?t[5]:t[4];t[6]=!1,t[1]=!1,t[3]=!1,t[8]=!1,this.setValue(this.nearestValidValue(i,t[7]))}},i.prototype.nearestValidSize=function(t){var e=this.snapInterval;if(0==e)return t;var i=Math.round(t/e)*e;return Math.abs(i)<e?e:i},i.prototype.nearestValidValue=function(t,e){var i=this.$Range;if(0==e)return Math.max(i[2],Math.min(i[0],t));var r=i[0]-i[2],n=1;if(t-=i[2],e!=Math.round(e)){var o=(1+e).toString().split(".");n=Math.pow(10,o[1].length),r*=n,t=Math.round(t*n),e=Math.round(e*n)}var s=Math.max(0,Math.floor(t/e)*e),a=Math.min(r,Math.floor((t+e)/e)*e),h=t-s>=(a-s)/2?a:s;return h/n+i[2]},i.prototype.setValue=function(e){var i=this.$Range;i[4]!==e&&(i[0]>i[2]?i[4]=Math.min(i[0],Math.max(i[2],e)):i[4]=e,i[6]=!1,this.invalidateDisplayList(),t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"value"))},i.prototype.updateDisplayList=function(t,i){e.prototype.updateDisplayList.call(this,t,i),this.updateSkinDisplayList()},i.prototype.updateSkinDisplayList=function(){},i}(t.Component);t.Range=e,__reflect(e.prototype,"eui.Range"),t.registerBindable(e.prototype,"value")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.$target=null,e.$useVirtualLayout=!1,e.$typicalWidth=71,e.$typicalHeight=22,e}return __extends(e,t),Object.defineProperty(e.prototype,"target",{get:function(){return this.$target},set:function(t){this.$target!==t&&(this.$target=t,this.clearVirtualLayoutCache())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"useVirtualLayout",{get:function(){return this.$useVirtualLayout},set:function(t){t=!!t,this.$useVirtualLayout!=t&&(this.$useVirtualLayout=t,this.dispatchEventWith("useVirtualLayoutChanged"),this.$useVirtualLayout&&!t&&this.clearVirtualLayoutCache(),this.target&&this.target.invalidateDisplayList())},enumerable:!0,configurable:!0}),e.prototype.setTypicalSize=function(t,e){t=+t||71,e=+e||22,(t!==this.$typicalWidth||e!==this.$typicalHeight)&&(this.$typicalWidth=t,this.$typicalHeight=e,this.$target&&this.$target.invalidateSize())},e.prototype.scrollPositionChanged=function(){},e.prototype.clearVirtualLayoutCache=function(){},e.prototype.elementAdded=function(t){},e.prototype.elementRemoved=function(t){},e.prototype.getElementIndicesInView=function(){return null},e.prototype.measure=function(){},e.prototype.updateDisplayList=function(t,e){},e}(egret.EventDispatcher);t.LayoutBase=e,__reflect(e.prototype,"eui.LayoutBase")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.$ListBase={0:!1,1:!1,2:-2,3:-1,4:!1,5:void 0,6:!1,7:null,8:!1},t}return __extends(i,e),Object.defineProperty(i.prototype,"requireSelection",{get:function(){return this.$ListBase[0]},set:function(t){t=!!t;var e=this.$ListBase;t!==e[0]&&(e[0]=t,t&&(e[1]=!0,this.invalidateProperties()))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedIndex",{get:function(){return this.$getSelectedIndex()},set:function(t){t=0|+t,this.setSelectedIndex(t,!1)},enumerable:!0,configurable:!0}),i.prototype.$getSelectedIndex=function(){var t=this.$ListBase;return t[2]!=i.NO_PROPOSED_SELECTION?t[2]:t[3]},i.prototype.setSelectedIndex=function(t,e){if(t!=this.selectedIndex){var i=this.$ListBase;e&&(i[4]=i[4]||e),i[2]=t,this.invalidateProperties()}},Object.defineProperty(i.prototype,"selectedItem",{get:function(){var t=this.$ListBase;if(void 0!==t[5])return t[5];var e=this.$getSelectedIndex();if(e!=i.NO_SELECTION&&null!=this.$dataProvider)return this.$dataProvider.length>e?this.$dataProvider.getItemAt(e):void 0},set:function(t){this.setSelectedItem(t,!1)},enumerable:!0,configurable:!0}),i.prototype.setSelectedItem=function(t,e){if(void 0===e&&(e=!1),this.selectedItem!==t){var i=this.$ListBase;e&&(i[4]=i[4]||e),i[5]=t,this.invalidateProperties()}},i.prototype.commitProperties=function(){var r=this.$dataProviderChanged;e.prototype.commitProperties.call(this);var n=this.$ListBase,o=this.$getSelectedIndex(),s=this.$dataProvider;r&&(o>=0&&s&&o<s.length?this.itemSelected(o,!0):this.requireSelection?n[2]=0:this.setSelectedIndex(-1,!1)),n[1]&&(n[1]=!1,n[0]&&o==i.NO_SELECTION&&s&&s.length>0&&(n[2]=0)),void 0!==n[5]&&(s?n[2]=s.getItemIndex(n[5]):n[2]=i.NO_SELECTION,n[5]=void 0);var a=!1;n[2]!=i.NO_PROPOSED_SELECTION&&(a=this.commitSelection()),n[6]&&(n[6]=!1,a||t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"selectedIndex"))},i.prototype.updateRenderer=function(t,i,r){return this.itemSelected(i,this.$isItemIndexSelected(i)),e.prototype.updateRenderer.call(this,t,i,r)},i.prototype.itemSelected=function(t,e){var i=this.$indexToRenderer[t];i&&(i.selected=e)},i.prototype.$isItemIndexSelected=function(t){return t==this.selectedIndex},i.prototype.commitSelection=function(e){void 0===e&&(e=!0);var r=this.$dataProvider,n=this.$ListBase,o=r?r.length-1:-1,s=n[3],a=n[2];if(a<i.NO_SELECTION&&(a=i.NO_SELECTION),a>o&&(a=o),n[0]&&a==i.NO_SELECTION&&r&&r.length>0)return n[2]=i.NO_PROPOSED_SELECTION,n[4]=!1,!1;if(n[4]){var h=this.dispatchEventWith(egret.Event.CHANGING,!1,!0,!0);if(!h)return this.itemSelected(n[2],!1),n[2]=i.NO_PROPOSED_SELECTION,n[4]=!1,!1}return n[3]=a,n[2]=i.NO_PROPOSED_SELECTION,s!=i.NO_SELECTION&&this.itemSelected(s,!1),n[3]!=i.NO_SELECTION&&this.itemSelected(n[3],!0),e&&(n[4]&&(this.dispatchEventWith(egret.Event.CHANGE),n[4]=!1),t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"selectedIndex"),t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"selectedItem")),!0},i.prototype.adjustSelection=function(t,e){void 0===e&&(e=!1);var r=this.$ListBase;r[2]!=i.NO_PROPOSED_SELECTION?r[2]=t:r[3]=t,r[6]=!0,this.invalidateProperties()},i.prototype.itemAdded=function(t,r){e.prototype.itemAdded.call(this,t,r);var n=this.$getSelectedIndex();n==i.NO_SELECTION?this.$ListBase[0]&&this.adjustSelection(r,!0):n>=r&&this.adjustSelection(n+1,!0)},i.prototype.itemRemoved=function(t,r){if(e.prototype.itemRemoved.call(this,t,r),this.selectedIndex!=i.NO_SELECTION){var n=this.$getSelectedIndex();r==n?this.requireSelection&&this.$dataProvider&&this.$dataProvider.length>0?0==r?(this.$ListBase[2]=0,this.invalidateProperties()):this.setSelectedIndex(0,!1):this.adjustSelection(-1,!1):n>r&&this.adjustSelection(n-1,!1)}},i.prototype.onCollectionChange=function(r){e.prototype.onCollectionChange.call(this,r),r.kind==t.CollectionEventKind.RESET?0==this.$dataProvider.length&&this.setSelectedIndex(i.NO_SELECTION,!1):r.kind==t.CollectionEventKind.REFRESH&&this.dataProviderRefreshed()},i.prototype.dataProviderRefreshed=function(){this.setSelectedIndex(i.NO_SELECTION,!1)},i.prototype.rendererAdded=function(t,e,i){t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onRendererTouchBegin,this),t.addEventListener(egret.TouchEvent.TOUCH_END,this.onRendererTouchEnd,this),t.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onRendererTouchCancle,this)},i.prototype.rendererRemoved=function(t,e,i){t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onRendererTouchBegin,this),t.removeEventListener(egret.TouchEvent.TOUCH_END,this.onRendererTouchEnd,this),t.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onRendererTouchCancle,this)},i.prototype.onRendererTouchBegin=function(t){if(this.$stage){var e=this.$ListBase;t.$isDefaultPrevented||(e[8]=!1,e[7]=t.$currentTarget,this.$stage.addEventListener(egret.TouchEvent.TOUCH_END,this.stage_touchEndHandler,this))}},i.prototype.onRendererTouchCancle=function(t){var e=this.$ListBase;e[7]=null,e[8]=!0,this.$stage&&this.$stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.stage_touchEndHandler,this)},i.prototype.onRendererTouchEnd=function(e){var i=this.$ListBase,r=e.$currentTarget,n=i[7];r==n&&(i[8]||(this.setSelectedIndex(r.itemIndex,!0),t.ItemTapEvent.dispatchItemTapEvent(this,t.ItemTapEvent.ITEM_TAP,r)),i[8]=!1)},i.prototype.stage_touchEndHandler=function(t){var e=t.$currentTarget;e.removeEventListener(egret.TouchEvent.TOUCH_END,this.stage_touchEndHandler,this),this.$ListBase[7]=null
},i.NO_SELECTION=-1,i.NO_PROPOSED_SELECTION=-2,i}(t.DataGroup);t.ListBase=e,__reflect(e.prototype,"eui.ListBase"),t.registerBindable(e.prototype,"selectedIndex"),t.registerBindable(e.prototype,"selectedItem")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.thumb=null,t.$viewport=null,t.autoVisibility=!0,t}return __extends(i,e),Object.defineProperty(i.prototype,"viewport",{get:function(){return this.$viewport},set:function(e){if(e!=this.$viewport){var i=this.$viewport;i&&(i.removeEventListener(t.PropertyEvent.PROPERTY_CHANGE,this.onPropertyChanged,this),i.removeEventListener(egret.Event.RESIZE,this.onViewportResize,this)),this.$viewport=e,e&&(e.addEventListener(t.PropertyEvent.PROPERTY_CHANGE,this.onPropertyChanged,this),e.addEventListener(egret.Event.RESIZE,this.onViewportResize,this)),this.invalidateDisplayList()}},enumerable:!0,configurable:!0}),i.prototype.onViewportResize=function(t){this.invalidateDisplayList()},i.prototype.onPropertyChanged=function(t){},i}(t.Component);t.ScrollBarBase=e,__reflect(e.prototype,"eui.ScrollBarBase")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.trackHighlight=null,t.thumb=null,t.track=null,t.$SliderBase={0:0,1:0,2:0,3:0,4:null,5:null,6:300,7:0,8:0,9:!0},t.maximum=10,t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.onTouchBegin,t),t}return __extends(i,e),Object.defineProperty(i.prototype,"slideDuration",{get:function(){return this.$SliderBase[6]},set:function(t){this.$SliderBase[6]=+t||0},enumerable:!0,configurable:!0}),i.prototype.pointToValue=function(t,e){return this.minimum},Object.defineProperty(i.prototype,"liveDragging",{get:function(){return this.$SliderBase[9]},set:function(t){this.$SliderBase[9]=!!t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"pendingValue",{get:function(){return this.$SliderBase[7]},set:function(t){t=+t||0;var e=this.$SliderBase;t!==e[7]&&(e[7]=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),i.prototype.setValue=function(t){this.$SliderBase[7]=t,e.prototype.setValue.call(this,t)},i.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i),i==this.thumb?(this.thumb.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onThumbTouchBegin,this),this.thumb.addEventListener(egret.Event.RESIZE,this.onTrackOrThumbResize,this)):i==this.track?(this.track.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTrackTouchBegin,this),this.track.addEventListener(egret.Event.RESIZE,this.onTrackOrThumbResize,this)):i===this.trackHighlight&&(this.trackHighlight.touchEnabled=!1,egret.is(this.trackHighlight,"egret.DisplayObjectContainer")&&(this.trackHighlight.touchChildren=!1))},i.prototype.partRemoved=function(t,i){e.prototype.partRemoved.call(this,t,i),i==this.thumb?(this.thumb.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onThumbTouchBegin,this),this.thumb.removeEventListener(egret.Event.RESIZE,this.onTrackOrThumbResize,this)):i==this.track&&(this.track.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTrackTouchBegin,this),this.track.removeEventListener(egret.Event.RESIZE,this.onTrackOrThumbResize,this))},i.prototype.onTrackOrThumbResize=function(t){this.updateSkinDisplayList()},i.prototype.onThumbTouchBegin=function(e){var i=this.$SliderBase;i[5]&&i[5].isPlaying&&this.stopAnimation();var r=this.$stage;r.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onStageTouchMove,this),r.addEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this);var n=this.thumb.globalToLocal(e.stageX,e.stageY,egret.$TempPoint);i[0]=n.x,i[1]=n.y,t.UIEvent.dispatchUIEvent(this,t.UIEvent.CHANGE_START)},i.prototype.onStageTouchMove=function(t){var e=this.$SliderBase;e[2]=t.$stageX,e[3]=t.$stageY;var i=this.track;if(i){var r=i.globalToLocal(e[2],e[3],egret.$TempPoint),n=this.pointToValue(r.x-e[0],r.y-e[1]);n=this.nearestValidValue(n,this.snapInterval),this.updateWhenTouchMove(n),t.updateAfterEvent()}},i.prototype.updateWhenTouchMove=function(t){t!=this.$SliderBase[7]&&(this.liveDragging?(this.setValue(t),this.dispatchEventWith(egret.Event.CHANGE)):this.pendingValue=t)},i.prototype.onStageTouchEnd=function(e){var i=e.$currentTarget;i.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onStageTouchMove,this),i.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),t.UIEvent.dispatchUIEvent(this,t.UIEvent.CHANGE_END);var r=this.$SliderBase;this.liveDragging||this.value==r[7]||(this.setValue(r[7]),this.dispatchEventWith(egret.Event.CHANGE))},i.prototype.onTouchBegin=function(t){this.$stage.addEventListener(egret.TouchEvent.TOUCH_END,this.stageTouchEndHandler,this),this.$SliderBase[4]=t.$target},i.prototype.stageTouchEndHandler=function(t){var e=t.$target,i=this.$SliderBase;t.$currentTarget.removeEventListener(egret.TouchEvent.TOUCH_END,this.stageTouchEndHandler,this),i[4]!=e&&this.contains(e)&&egret.TouchEvent.dispatchTouchEvent(this,egret.TouchEvent.TOUCH_TAP,!0,!0,t.$stageX,t.$stageY,t.touchPointID),i[4]=null},i.prototype.$animationUpdateHandler=function(t){this.pendingValue=t.currentValue},i.prototype.animationEndHandler=function(e){this.setValue(this.$SliderBase[8]),this.dispatchEventWith(egret.Event.CHANGE),t.UIEvent.dispatchUIEvent(this,t.UIEvent.CHANGE_END)},i.prototype.stopAnimation=function(){this.$SliderBase[5].stop(),this.setValue(this.nearestValidValue(this.pendingValue,this.snapInterval)),this.dispatchEventWith(egret.Event.CHANGE),t.UIEvent.dispatchUIEvent(this,t.UIEvent.CHANGE_END)},i.prototype.onTrackTouchBegin=function(e){var i=this.thumb?this.thumb.width:0,r=this.thumb?this.thumb.height:0,n=e.$stageX-i/2,o=e.$stageY-r/2,s=this.track.globalToLocal(n,o,egret.$TempPoint),a=this.$Range,h=this.pointToValue(s.x,s.y);h=this.nearestValidValue(h,a[7]);var u=this.$SliderBase;if(h!=u[7])if(0!=u[6]){u[5]||(u[5]=new t.sys.Animation(this.$animationUpdateHandler,this),u[5].endFunction=this.animationEndHandler);var l=u[5];l.isPlaying&&this.stopAnimation(),u[8]=h,l.duration=u[6]*(Math.abs(u[7]-u[8])/(a[0]-a[2])),l.from=u[7],l.to=u[8],t.UIEvent.dispatchUIEvent(this,t.UIEvent.CHANGE_START),l.play()}else this.setValue(h),this.dispatchEventWith(egret.Event.CHANGE)},i}(t.Range);t.SliderBase=e,__reflect(e.prototype,"eui.SliderBase")}(eui||(eui={}));var eui;!function(t){var e;!function(t){function e(t){var e=[];return this.repeatedIdMap={},this.getIds(t,e),e}function i(e,i){if(e.namespace!=t.NS_W&&e.attributes.id){var n=e.attributes.id;this.repeatedIdMap[n]?i.push(r(e)):this.repeatedIdMap[n]=!0}var o=e.children;if(o)for(var s=o.length,a=0;s>a;a++){var h=o[a];1!==h.nodeType||this.isInnerClass(h)||this.getIds(h,i)}}function r(t){if(!t)return"";for(var e="  at <"+t.name,i=t.attributes,r=Object.keys(i),n=r.length,o=0;n>o;o++){var s=r[o],a=i[s];("id"!=s||"__"!=a.substring(0,2))&&(e+=" "+s+'="'+a+'"')}return e+=0==t.children.length?"/>":">"}function n(t,e){if(t){var i=t.children;if(i)for(var o=i.length,s=0;o>s;s++){var a=i[s];1==a.nodeType&&(a.attributes.includeIn&&e.push(r(a)),a.attributes.excludeFrom&&e.push(r(a)),n(a,e))}}}function o(t){var e=r(t.parent),i=r(t).substring(5);return e+"\n      	"+i}var s=[],a={},h=1,u="hostComponent",l="eui.Skin",c="Declarations",p="egret.Rectangle",d="Class",f="Array",g="Percentage",v="State[]",y="skinName",m=[f,"boolean","string","number"],_=["id","locked","includeIn","excludeFrom"],b=[["<","&lt;"],[">","&gt;"],["&","&amp;"],['"',"&quot;"],["'","&apos;"]],$=["null","NaN","undefined","true","false"],x=function(){function x(){this.delayAssignmentDic={},this.repeatedIdMap={},this.getRepeatedIds=e,this.getIds=i,this.checkDeclarations=n}return x.prototype.$parseCode=function(t,e){var i=e?e:"$exmlClass"+h++,r=eval,n=r(t),o=!0;if(o&&n){egret.registerClass(n,i);for(var s=i.split("."),u=s.length,l=__global,c=0;u-1>c;c++){var p=s[c];l=l[p]||(l[p]={})}l[s[u-1]]?a[i]||egret.$warn(2101,i,t):(a[i]=!0,l[s[u-1]]=n)}return n},x.prototype.parse=function(t){t||egret.$error(1003,"text");var e=null;try{e=egret.XML.parse(t)}catch(i){egret.$error(2002,t+"\n"+i.message)}var n=!1,o="";e.attributes["class"]?(o=e.attributes["class"],delete e.attributes["class"],n=!!o):o="$exmlClass"+h++;var s=this.parseClass(e,o),u=s.toCode(),l=null,c=eval;try{l=c(u)}catch(i){return egret.log(u),null}if(n&&l){egret.registerClass(l,o);for(var p=o.split("."),d=p.length,f=__global,g=0;d-1>g;g++){var v=p[g];f=f[v]||(f[v]={})}f[p[d-1]]?a[o]||egret.$warn(2101,o,r(e)):(a[o]=!0,f[p[d-1]]=l)}return l},x.prototype.parseClass=function(e,i){t.exmlConfig||(t.exmlConfig=new t.EXMLConfig),this.currentXML=e,this.currentClassName=i,this.delayAssignmentDic={},this.idDic={},this.stateCode=[],this.stateNames=[],this.skinParts=[],this.bindings=[],this.declarations=null,this.currentClass=new t.EXClass,this.stateIds=[];var r=i.lastIndexOf(".");-1!=r?this.currentClass.className=i.substring(r+1):this.currentClass.className=i,this.startCompile();var n=this.currentClass;return this.currentClass=null,n},x.prototype.startCompile=function(){var e=this.getRepeatedIds(this.currentXML);e.length>0&&egret.$error(2004,this.currentClassName,e.join("\n"));var i=this.getClassNameOfNode(this.currentXML);this.isSkinClass=i==l,this.currentClass.superClass=i,this.getStateNames();var n=this.currentXML.children;if(n)for(var o=n.length,s=0;o>s;s++){var a=n[s];if(1===a.nodeType&&a.namespace==t.NS_W&&a.localName==c){this.declarations=a;break}}var h=[];return this.checkDeclarations(this.declarations,h),h.length>0&&egret.$error(2020,this.currentClassName,h.join("\n")),this.currentXML.namespace?(this.addIds(this.currentXML.children),void this.createConstructFunc()):void egret.$error(2017,this.currentClassName,r(this.currentXML))},x.prototype.addIds=function(e){if(e)for(var i=e.length,n=0;i>n;n++){var o=e[n];if(1==o.nodeType)if(o.namespace){if(!this.isInnerClass(o))if(this.addIds(o.children),o.namespace!=t.NS_W&&o.localName){if(this.isProperty(o)){var s=o.localName,a=s.indexOf("."),h=o.children;if(-1==a||!h||0==h.length)continue;var u=h[0];this.stateIds.push(u.attributes.id)}else if(1===o.nodeType){var l=o.attributes.id;if(l){var c=new RegExp("^[a-zA-Z_$]{1}[a-z0-9A-Z_$]*");null==l.match(c)&&egret.$warn(2022,l),null!=l.match(new RegExp(/ /g))&&egret.$warn(2022,l),-1==this.skinParts.indexOf(l)&&this.skinParts.push(l),this.createVarForNode(o),this.isStateNode(o)&&this.stateIds.push(l)}else this.createIdForNode(o),this.isStateNode(o)&&this.stateIds.push(o.attributes.id)}}else;}else egret.$error(2017,this.currentClassName,r(o))}},x.prototype.isInnerClass=function(e){if(e.hasOwnProperty("isInnerClass"))return e.isInnerClass;var i="Skin"==e.localName&&e.namespace==t.NS_S;if(!i)if(this.isProperty(e))i=!1;else{var r=void 0,n=e.parent;if(this.isProperty(n)){r=n.localName;var o=r.indexOf(".");if(-1!=o){r.substring(o+1);r=r.substring(0,o)}n=n.parent}else r=t.exmlConfig.getDefaultPropById(n.localName,n.namespace);var s=t.exmlConfig.getClassNameById(n.localName,n.namespace);i=t.exmlConfig.getPropertyType(r,s)==d}return e.isInnerClass=i,i},x.prototype.containsState=function(t){var e=t.attributes;if(e.includeIn||e.excludeFrom)return!0;for(var i=Object.keys(e),r=i.length,n=0;r>n;n++){var o=i[n];if(-1!=o.indexOf("."))return!0}return!1},x.prototype.createIdForNode=function(t){var e=this.getNodeId(t);this.idDic[e]?this.idDic[e]++:this.idDic[e]=1,e+=this.idDic[e],t.attributes.id=e},x.prototype.getNodeId=function(t){return t.attributes.id?t.attributes.id:"_"+t.localName},x.prototype.createVarForNode=function(e){var i=this.getClassNameOfNode(e);""!=i&&(this.currentClass.getVariableByName(e.attributes.id)||this.currentClass.addVariable(new t.EXVariable(e.attributes.id)))},x.prototype.createFuncForNode=function(e){var i=e.localName,r=this.isBasicTypeData(i);if(r)return this.createBasicTypeForNode(e);var n=this.getClassNameOfNode(e),o=new t.EXFunction,s="_i",a=e.attributes.id;o.name=a+s,this.currentClass.addFunction(o);var h=new t.EXCodeBlock;o.codeBlock=h;var u="t";"Object"==i?h.addVar(u,"{}"):h.addVar(u,"new "+n+"()");var l=!!this.currentClass.getVariableByName(a);l&&h.addAssignment("this."+a,u),this.addAttributesToCodeBlock(h,u,e),this.initlizeChildNode(e,h,u);var c=this.delayAssignmentDic[a];if(c)for(var p=c.length,d=0;p>d;d++){var f=c[d];h.concat(f)}return h.addReturn(u),"this."+o.name+"()"},x.prototype.isBasicTypeData=function(t){return-1!=m.indexOf(t)},x.prototype.createBasicTypeForNode=function(t){var e=t.localName,i="",r=this.currentClass.getVariableByName(t.attributes.id),n=t.children,o="";if(n&&n.length>0){var s=n[0];3==s.nodeType&&(o=s.text.trim())}switch(e){case f:var a=[];if(n)for(var h=n.length,u=0;h>u;u++){var l=n[u];1==l.nodeType&&a.push(this.createFuncForNode(l))}i="["+a.join(",")+"]";break;case"boolean":i="false"!=o&&o?"true":"false";break;case"number":i=o,-1!=i.indexOf("%")&&(i=i.substring(0,i.length-1));break;case"string":i=this.formatString(o)}return r&&(r.defaultValue=i),i},x.prototype.addAttributesToCodeBlock=function(e,i,r){var n,o,s=r.attributes,a=Object.keys(s);a.sort();for(var h=a.length,u=0;h>u;u++)if(n=a[u],this.isNormalKey(n)&&(o=s[n],n=this.formatKey(n,o),o=this.formatValue(n,o,r))){if(this.currentClass.getVariableByName(o)){var l="this.",c=s.id,p=l+c+" = t;";this.currentClass.getVariableByName(c)||this.createVarForNode(r),e.containsCodeLine(p)||e.addCodeLineAt(p,1);var d=new t.EXCodeBlock;"this"==i?d.addAssignment(i,l+o,n):(d.startIf(l+c),d.addAssignment(l+c,l+o,n),d.endBlock()),this.delayAssignmentDic[o]||(this.delayAssignmentDic[o]=[]),this.delayAssignmentDic[o].push(d),o=l+o}e.addAssignment(i,o,n)}},x.prototype.initlizeChildNode=function(e,i,r){var n=e.children;if(n&&0!=n.length){for(var s,a=t.exmlConfig.getClassNameById(e.localName,e.namespace),h=[],u=n.length,l=[],c=0;u>c;c++){var p=n[c];if(1==p.nodeType&&p.namespace!=t.NS_W)if(this.isInnerClass(p)){if("Skin"==p.localName){var d=this.parseInnerClass(p),f=t.exmlConfig.getPropertyType(y,a);f?i.addAssignment(r,d,y):egret.$error(2005,this.currentClassName,y,o(p))}}else{var g=p.localName;if(this.isProperty(p)){if(!this.isNormalKey(g))continue;var f=t.exmlConfig.getPropertyType(p.localName,a);if(!f){egret.$error(2005,this.currentClassName,p.localName,o(p));continue}if(!p.children||0==p.children.length){egret.$warn(2102,this.currentClassName,o(p));continue}s=o(p),this.addChildrenToProp(p.children,f,g,i,r,s,l,e)}else h.push(p)}}if(0!=h.length){var v=t.exmlConfig.getDefaultPropById(e.localName,e.namespace),m=t.exmlConfig.getPropertyType(v,a);return s=o(h[0]),v&&m?void this.addChildrenToProp(h,m,v,i,r,s,l,e):void egret.$error(2012,this.currentClassName,s)}}},x.prototype.parseInnerClass=function(t){var e=s.pop();e||(e=new x);var i=this.currentClass.className+"$"+t.localName+h++,r=e.parseClass(t,i);return this.currentClass.addInnerClass(r),s.push(e),i},x.prototype.addChildrenToProp=function(t,e,i,r,n,o,s,a){var h="",u=t.length;if(u>1){if(e!=f)return void egret.$error(2011,this.currentClassName,i,o);for(var l=[],c=0;u>c;c++){var p=t[c];if(1==p.nodeType){h=this.createFuncForNode(p);this.getClassNameOfNode(p);this.isStateNode(p)||l.push(h)}}h="["+l.join(",")+"]"}else{var g=t[0];if(e==f)if(g.localName==f){var l=[];if(g.children)for(var v=g.children.length,y=0;v>y;y++){var p=g.children[y];if(1==p.nodeType){h=this.createFuncForNode(p);this.getClassNameOfNode(p);this.isStateNode(p)||l.push(h)}}h="["+l.join(",")+"]"}else{h=this.createFuncForNode(g);this.getClassNameOfNode(g);h=this.isStateNode(g)?"[]":"["+h+"]"}else if(1==g.nodeType)if(e==d){if(u>1)return void egret.$error(2011,this.currentClassName,i,o);h=this.parseInnerClass(t[0])}else{this.getClassNameOfNode(g);h=this.createFuncForNode(g)}else h=this.formatValue(i,g.text,a)}""!=h&&(-1==h.indexOf("()")&&(i=this.formatKey(i,h)),-1==s.indexOf(i)?s.push(i):egret.$warn(2103,this.currentClassName,i,o),r.addAssignment(n,h,i))},x.prototype.isProperty=function(e){if(e.hasOwnProperty("isProperty"))return e.isProperty;var i,r=e.localName;if(r&&1===e.nodeType&&e.parent&&!this.isBasicTypeData(r)){var n=e.parent,o=r.indexOf(".");-1!=o&&(r=r.substr(0,o));var s=t.exmlConfig.getClassNameById(n.localName,n.namespace);i=!!t.exmlConfig.getPropertyType(r,s)}else i=!1;return e.isProperty=i,i},x.prototype.isNormalKey=function(t){return t&&-1==t.indexOf(".")&&-1==t.indexOf(":")&&-1==_.indexOf(t)?!0:!1},x.prototype.formatKey=function(t,e){return-1!=e.indexOf("%")&&("height"==t?t="percentHeight":"width"==t&&(t="percentWidth")),t},x.prototype.formatValue=function(e,i,n){i||(i="");var o=i;i=i.trim();var s=this.getClassNameOfNode(n),a=t.exmlConfig.getPropertyType(e,s);a||egret.$error(2005,this.currentClassName,e,r(n));var h=this.formatBinding(e,i,n);if(h){this.checkIdForState(n);var u="this";n!==this.currentXML&&(u+="."+n.attributes.id),this.bindings.push(new t.EXBinding(u,e,h.templates,h.chainIndex)),i=""}else if(a==p){var l=i.split(",");(4!=l.length||isNaN(parseInt(l[0]))||isNaN(parseInt(l[1]))||isNaN(parseInt(l[2]))||isNaN(parseInt(l[3])))&&egret.$error(2016,this.currentClassName,r(n)),i="new "+p+"("+i+")"}else if(a==g)-1!=i.indexOf("%")&&(i=this.formatString(i));else{switch(a){case d:e==y&&(i=this.formatString(o));break;case"number":0==i.indexOf("#")?(isNaN(i.substring(1))&&egret.$warn(2021,this.currentClassName,e,i),i="0x"+i.substring(1)):-1!=i.indexOf("%")?(isNaN(i.substr(0,i.length-1))&&egret.$warn(2021,this.currentClassName,e,i),i=parseFloat(i.substr(0,i.length-1)).toString()):isNaN(i)&&egret.$warn(2021,this.currentClassName,e,i);break;case"boolean":i="false"!=i&&i?"true":"false";break;case"string":case"any":i=this.formatString(o);break;default:egret.$error(2008,this.currentClassName,"string",e+":"+a,r(n))}}return i},x.prototype.formatString=function(t){return t=this.unescapeHTMLEntity(t),t=t.split("\n").join("\\n"),t=t.split("\r").join("\\n"),t=t.split('"').join('\\"'),t='"'+t+'"'},x.prototype.formatBinding=function(t,e,i){if(!e)return null;if(e=e.trim(),"{"!=e.charAt(0)||"}"!=e.charAt(e.length-1))return null;e=e.substring(1,e.length-1).trim();for(var r=-1==e.indexOf("+")?[e]:this.parseTemplates(e),n=[],o=r.length,s=0;o>s;s++){var a=r[s].trim();if(a){var h=a.charAt(0);if(!("'"==h||'"'==h||h>="0"&&"9">=h||"-"==h||-1==a.indexOf(".")&&-1!=$.indexOf(a))){0==a.indexOf("this.")&&(a=a.substring(5));var l=a.split(".")[0];l!=u&&-1==this.skinParts.indexOf(l)&&(a=u+"."+a),r[s]='"'+a+'"',n.push(s)}}else r.splice(s,1),s--,o--}return{templates:r,chainIndex:n}},x.prototype.parseTemplates=function(t){if(-1==t.indexOf("'"))return t.split("+");var e=!1,i="";for(t=t.split("\\'").join("0");t.length>0;){var r=t.indexOf("'");if(-1==r){i+=t;break}i+=t.substring(0,r+1),t=t.substring(r+1),r=t.indexOf("'"),-1==r&&(r=t.length-1,e=!0);var n=t.substring(0,r+1);i+=n.split("+").join("1"),t=t.substring(r+1)}t=i.split("0").join("\\'"),e&&(t+="'");for(var o=t.split("+"),s=o.length,a=0;s>a;a++)o[a]=o[a].split("1").join("+");return o},x.prototype.unescapeHTMLEntity=function(t){if(!t)return"";for(var e=b.length,i=0;e>i;i++){var r=b[i],n=r[0],o=r[1];t=t.split(o).join(n)}return t},x.prototype.createConstructFunc=function(){var e=new t.EXCodeBlock;e.addEmptyLine();var i="this";if(this.addAttributesToCodeBlock(e,i,this.currentXML),this.declarations){var r=this.declarations.children;if(r&&r.length>0)for(var n=r.length,o=0;n>o;o++){var s=r[o];if(1==s.nodeType){var a=this.createFuncForNode(s);a&&e.addCodeLine(a+";")}}}this.initlizeChildNode(this.currentXML,e,i);var h,u,l=this.stateIds;if(l.length>0){u=l.length;for(var o=0;u>o;o++)h=l[o],e.addCodeLine("this."+h+"_i();");e.addEmptyLine()}var c=this.skinParts,p="[]";if(u=c.length,u>0){for(var o=0;u>o;o++)c[o]='"'+c[o]+'"';p="["+c.join(",")+"]"}var d=new t.EXFunction;d.name="skinParts",d.isGet=!0;var f=new t.EXCodeBlock;f.addReturn(p),d.codeBlock=f,this.currentClass.addFunction(d),this.currentXML.attributes.id="",this.createStates(this.currentXML);for(var g,v=this.currentXML,y=(this.getClassNameOfNode(v),v.attributes),m=Object.keys(y),_=m.length,b=0;_>b;b++){var $=m[b],x=y[$],E=$.indexOf(".");if(-1!=E){var T=$.substring(0,E);T=this.formatKey(T,x);var w=this.formatValue(T,x,v);if(!w)continue;var S=$.substr(E+1);g=this.getStateByName(S,v);var C=g.length;if(C>0)for(var o=0;C>o;o++){var P=g[o];P.addOverride(new t.EXSetProperty("",T,w))}}}var k=this.stateCode;if(u=k.length,u>0){var O="	";e.addCodeLine("this.states = [");for(var I=!0,o=0;u>o;o++){var P=k[o];I?I=!1:e.addCodeLine(O+",");for(var D=P.toCode().split("\n"),R=0;R<D.length;){var L=D[R];L&&e.addCodeLine(O+L),R++}}e.addCodeLine("];")}var A=this.bindings;if(u=A.length,u>0){e.addEmptyLine();for(var o=0;u>o;o++){var N=A[o];e.addCodeLine(N.toCode())}}this.currentClass.constructCode=e},x.prototype.isStateNode=function(t){var e=t.attributes;return e.hasOwnProperty("includeIn")||e.hasOwnProperty("excludeFrom")},x.prototype.getStateNames=function(){var e=this.currentXML,i=t.exmlConfig.getClassNameById(e.localName,e.namespace),r=t.exmlConfig.getPropertyType("states",i);if(r==v){var n=e.attributes.states;n&&delete e.attributes.states;var s,a,h=this.stateNames,u=e.children;if(u)for(var l=u.length,c=0;l>c;c++)if(a=u[c],1==a.nodeType&&"states"==a.localName){a.namespace=t.NS_W,s=a.children;break}if(s||n)if(s&&0==s.length&&egret.$warn(2102,this.currentClassName,o(a)),s&&n&&egret.$warn(2103,this.currentClassName,"states",o(a)),n)for(var p=n.split(","),d=p.length,c=0;d>c;c++){var f=p[c].trim();f&&(-1==h.indexOf(f)&&h.push(f),this.stateCode.push(new t.EXState(f)))}else for(var g=s.length,c=0;g>c;c++){var y=s[c];if(1==y.nodeType){var m=[],_=y.attributes;if(_.stateGroups)for(var b=_.stateGroups.split(","),$=b.length,x=0;$>x;x++){var E=b[x].trim();E&&(-1==h.indexOf(E)&&h.push(E),m.push(E))}var f=_.name;-1==h.indexOf(f)&&h.push(f),this.stateCode.push(new t.EXState(f,m))}}}},x.prototype.createStates=function(e){var i=e.children;if(i)for(var r=i.length,n=0;r>n;n++){var s=i[n];if(1==s.nodeType&&!this.isInnerClass(s)&&(this.createStates(s),s.namespace!=t.NS_W&&s.localName))if(this.isProperty(s)){var a=s.localName,h=a.indexOf("."),u=s.children;if(-1==h||!u||0==u.length)continue;var l=a.substring(h+1);a=a.substring(0,h);var c=this.getClassNameOfNode(e),p=t.exmlConfig.getPropertyType(a,c);p==f&&egret.$error(2013,this.currentClassName,o(s)),u.length>1&&egret.$error(2011,this.currentClassName,a,o(s));var d=u[0],g=void 0;1==d.nodeType?(this.createFuncForNode(d),this.checkIdForState(d),g="this."+d.attributes.id):g=this.formatValue(a,d.text,e);var v=this.getStateByName(l,s),y=v.length;if(y>0)for(var m=0;y>m;m++){var _=v[m];_.addOverride(new t.EXSetProperty(e.attributes.id,a,g))}}else if(this.containsState(s)){var b=s.attributes,$=b.id;this.getClassNameOfNode(s);this.checkIdForState(s);var l=void 0,v=void 0,_=void 0;if(this.isStateNode(s)){var x="",E=s.parent;E.localName==f&&(E=E.parent),E&&E.parent&&this.isProperty(E)&&(E=E.parent),E&&E!=this.currentXML&&(x=E.attributes.id,this.checkIdForState(E));var T=this.findNearNodeId(s),w=[];if(b.includeIn)w=b.includeIn.split(",");else{for(var S=b.excludeFrom.split(","),C=S.length,m=0;C>m;m++){var P=S[m];this.getStateByName(P,s)}C=this.stateCode.length;for(var m=0;C>m;m++)_=this.stateCode[m],-1==S.indexOf(_.name)&&w.push(_.name)}for(var k=w.length,O=0;k>O;O++)if(l=w[O],v=this.getStateByName(l,s),v.length>0)for(var y=v.length,m=0;y>m;m++)_=v[m],_.addOverride(new t.EXAddItems($,x,T.position,T.relativeTo))}for(var I=Object.keys(b),D=I.length,R=0;D>R;R++){var L=I[R],g=b[L],h=L.indexOf(".");if(-1!=h){var A=L.substring(0,h);A=this.formatKey(A,g);var N=this.formatBinding(A,g,s);if(!N&&(g=this.formatValue(A,g,s),!g))continue;l=L.substr(h+1),v=this.getStateByName(l,s);var y=v.length;if(y>0)for(var m=0;y>m;m++)_=v[m],N?_.addOverride(new t.EXSetStateProperty($,A,N.templates,N.chainIndex)):_.addOverride(new t.EXSetProperty($,A,g))}}}}},x.prototype.checkIdForState=function(t){if(t&&!this.currentClass.getVariableByName(t.attributes.id)){this.createVarForNode(t);var e=t.attributes.id,i=e+"_i",r=this.currentClass.getFuncByName(i);if(r){var n="this."+e+" = t;",o=r.codeBlock;o&&(o.containsCodeLine(n)||o.addCodeLineAt(n,1))}}},x.prototype.getStateByName=function(t,e){for(var i=[],n=this.stateCode,o=n.length,s=0;o>s;s++){var a=n[s];if(a.name==t)-1==i.indexOf(a)&&i.push(a);else if(a.stateGroups.length>0){for(var h=!1,u=a.stateGroups.length,l=0;u>l;l++){var c=a.stateGroups[l];if(c==t){h=!0;break}}h&&-1==i.indexOf(a)&&i.push(a)}}return 0==i.length&&egret.$error(2006,this.currentClassName,t,r(e)),i},x.prototype.findNearNodeId=function(t){for(var e,i,r,n=t.parent,o="",s=-1,a=!1,h=n.children,u=h.length,l=0;u>l;l++){var c=h[l];this.isProperty(c)||(c==t?(a=!0,s=l):!a||r||this.isStateNode(c)||(r=c),a||this.isStateNode(c)||(i=c))}return 0==s?(e=0,{position:e,relativeTo:o}):s==u-1?(e=1,{position:e,relativeTo:o}):r&&(e=2,o=r.attributes.id)?(this.checkIdForState(r),{position:e,relativeTo:o}):{position:1,relativeTo:o}},x.prototype.getClassNameOfNode=function(e){var i=t.exmlConfig.getClassNameById(e.localName,e.namespace);return i||egret.$error(2003,this.currentClassName,r(e)),i},x}();t.EXMLParser=x,__reflect(x.prototype,"eui.sys.EXMLParser")}(e=t.sys||(t.sys={}))}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.$selected=!1,t.$autoSelected=!0,t}return __extends(i,e),Object.defineProperty(i.prototype,"selected",{get:function(){return this.$selected},set:function(t){this.$setSelected(t)},enumerable:!0,configurable:!0}),i.prototype.$setSelected=function(e){return e=!!e,e===this.$selected?!1:(this.$selected=e,this.invalidateState(),t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"selected"),!0)},i.prototype.getCurrentState=function(){var t=e.prototype.getCurrentState.call(this);if(this.$selected){var i=t+"AndSelected",r=this.skin;return r&&r.hasState(i)?i:"disabled"==t?"disabled":"down"}return t},i.prototype.buttonReleased=function(){this.$autoSelected&&(this.selected=!this.$selected,this.dispatchEventWith(egret.Event.CHANGE))},i}(t.Button);t.ToggleButton=e,__reflect(e.prototype,"eui.ToggleButton"),t.registerBindable(e.prototype,"selected")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.$horizontalAlign="left",e.$verticalAlign="top",e.$gap=6,e.$paddingLeft=0,e.$paddingRight=0,e.$paddingTop=0,e.$paddingBottom=0,e.elementSizeTable=[],e.startIndex=-1,e.endIndex=-1,e.indexInViewCalculated=!1,e.maxElementSize=0,e}return __extends(e,t),Object.defineProperty(e.prototype,"horizontalAlign",{get:function(){return this.$horizontalAlign},set:function(t){this.$horizontalAlign!=t&&(this.$horizontalAlign=t,this.$target&&this.$target.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"verticalAlign",{get:function(){return this.$verticalAlign},set:function(t){this.$verticalAlign!=t&&(this.$verticalAlign=t,this.$target&&this.$target.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gap",{get:function(){return this.$gap},set:function(t){t=+t||0,this.$gap!==t&&(this.$gap=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingLeft",{get:function(){return this.$paddingLeft},set:function(t){t=+t||0,this.$paddingLeft!==t&&(this.$paddingLeft=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingRight",{get:function(){return this.$paddingRight},set:function(t){t=+t||0,this.$paddingRight!==t&&(this.$paddingRight=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingTop",{get:function(){return this.$paddingTop},set:function(t){t=+t||0,this.$paddingTop!==t&&(this.$paddingTop=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paddingBottom",{get:function(){return this.$paddingBottom},set:function(t){t=+t||0,this.$paddingBottom!==t&&(this.$paddingBottom=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),e.prototype.invalidateTargetLayout=function(){var t=this.$target;t&&(t.invalidateSize(),t.invalidateDisplayList())},e.prototype.measure=function(){this.$target&&(this.$useVirtualLayout?this.measureVirtual():this.measureReal())},e.prototype.measureReal=function(){},e.prototype.measureVirtual=function(){},e.prototype.updateDisplayList=function(t,e){var i=this.$target;if(i)return 0==i.numElements?void i.setContentSize(Math.ceil(this.$paddingLeft+this.$paddingRight),Math.ceil(this.$paddingTop+this.$paddingBottom)):void(this.$useVirtualLayout?this.updateDisplayListVirtual(t,e):this.updateDisplayListReal(t,e))},e.prototype.getStartPosition=function(t){return 0},e.prototype.getElementSize=function(t){return 0},e.prototype.getElementTotalSize=function(){return 0},e.prototype.elementRemoved=function(e){this.$useVirtualLayout&&(t.prototype.elementRemoved.call(this,e),this.elementSizeTable.splice(e,1))},e.prototype.clearVirtualLayoutCache=function(){this.$useVirtualLayout&&(this.elementSizeTable=[],this.maxElementSize=0)},e.prototype.findIndexAt=function(t,e,i){var r=.5*(e+i)|0,n=this.getStartPosition(r),o=this.getElementSize(r);return t>=n&&t<n+o+this.$gap?r:e==i?-1:n>t?this.findIndexAt(t,e,Math.max(e,r-1)):this.findIndexAt(t,Math.min(r+1,i),i)},e.prototype.scrollPositionChanged=function(){if(t.prototype.scrollPositionChanged.call(this),this.$useVirtualLayout){var e=this.getIndexInView();e&&(this.indexInViewCalculated=!0,this.target.invalidateDisplayList())}},e.prototype.getIndexInView=function(){return!1},e.prototype.updateDisplayListVirtual=function(t,e){},e.prototype.updateDisplayListReal=function(t,e){},e.prototype.flexChildrenProportionally=function(t,e,i,r){var n,o=r.length;do{n=!0;var s=e-t*i/100;s>0?e-=s:s=0;for(var a=e/i,h=0;o>h;h++){var u=r[h],l=u.percent*a;if(l<u.min){var c=u.min;u.size=c,r[h]=r[--o],r[o]=u,i-=u.percent,s>=c?s-=c:(e-=c-s,s=0),n=!1;break}if(l>u.max){var p=u.max;u.size=p,r[h]=r[--o],r[o]=u,i-=u.percent,s>=p?s-=p:(e-=p-s,s=0),n=!1;break}u.size=l}}while(!n)},e}(t.LayoutBase);t.LinearLayoutBase=e,__reflect(e.prototype,"eui.LinearLayoutBase")}(eui||(eui={})),function(t){var e;!function(t){var e=function(){function t(){this.layoutElement=null,this.size=0,this.percent=0/0,this.min=0/0,this.max=0/0}return t}();t.ChildInfo=e,__reflect(e.prototype,"eui.sys.ChildInfo")}(e=t.sys||(t.sys={}))}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.pointToValue=function(t,e){if(!this.thumb||!this.track)return 0;var i=this.$Range,r=i[0]-i[2],n=this.getThumbRange();return i[2]+(0!=n?t/n*r:0)},e.prototype.getThumbRange=function(){var t=egret.$TempRectangle;this.track.getLayoutBounds(t);var e=t.width;return this.thumb.getLayoutBounds(t),e-t.width},e.prototype.updateSkinDisplayList=function(){if(this.thumb&&this.track){var t=this.$Range,e=this.getThumbRange(),i=t[0]-t[2],r=i>0?(this.pendingValue-t[2])/i*e:0,n=this.track.localToGlobal(r,0,egret.$TempPoint),o=n.x,s=n.y,a=this.thumb.$parent.globalToLocal(o,s,egret.$TempPoint).x,h=egret.$TempRectangle;if(this.thumb.getLayoutBounds(h),this.thumb.setLayoutBoundsPosition(Math.round(a),h.y),this.trackHighlight&&this.trackHighlight.$parent){var u=this.trackHighlight.$parent.globalToLocal(o,s,egret.$TempPoint).x-r;this.trackHighlight.x=Math.round(u),this.trackHighlight.width=Math.round(r)}}},e}(t.SliderBase);t.HSlider=e,__reflect(e.prototype,"eui.HSlider")}(eui||(eui={}));var eui;!function(t){var e=[],i={},r={},n=function(){function t(){}return t.prototype.getAsset=function(t,n,o){var s=i[t];if(s)return void s.push([n,o]);var a=e.pop();a||(a=new egret.ImageLoader),i[t]=[[n,o]],r[a.$hashCode]=t,a.addEventListener(egret.Event.COMPLETE,this.onLoadFinish,this),a.addEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadFinish,this),a.load(t)},t.prototype.onLoadFinish=function(t){var n=t.currentTarget;n.removeEventListener(egret.Event.COMPLETE,this.onLoadFinish,this),n.removeEventListener(egret.IOErrorEvent.IO_ERROR,this.onLoadFinish,this);var o;t.$type==egret.Event.COMPLETE&&(o=new egret.Texture,o._setBitmapData(n.data),n.data=null),e.push(n);
var s=r[n.$hashCode];delete r[n.$hashCode];var a=i[s];delete i[s];for(var h=a.length,u=0;h>u;u++){var l=a[u];l[0].call(l[1],o,s)}},t}();t.DefaultAssetAdapter=n,__reflect(n.prototype,"eui.DefaultAssetAdapter",["eui.IAssetAdapter"])}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return i.sourceChanged=!1,i._source=null,i.initializeUIValues(),t&&(i.source=t),i}return __extends(i,e),Object.defineProperty(i.prototype,"scale9Grid",{get:function(){return this.$scale9Grid},set:function(t){this.$setScale9Grid(t),this.invalidateDisplayList()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"fillMode",{get:function(){return this.$fillMode},set:function(t){t!=this.$fillMode&&(this.$fillMode=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),i.prototype.$setFillMode=function(t){var i=e.prototype.$setFillMode.call(this,t);return this.invalidateDisplayList(),i},Object.defineProperty(i.prototype,"source",{get:function(){return this._source},set:function(t){t!=this._source&&(this._source=t,this.$stage?this.parseSource():(this.sourceChanged=!0,this.invalidateProperties()))},enumerable:!0,configurable:!0}),i.prototype.$setTexture=function(t){if(t==this.$texture)return!1;var i=e.prototype.$setTexture.call(this,t);return this.sourceChanged=!1,this.invalidateSize(),this.invalidateDisplayList(),i},i.prototype.parseSource=function(){var e=this;this.sourceChanged=!1;var i=this._source;i&&"string"==typeof i?t.getAssets(this._source,function(t){i===e._source&&egret.is(t,"egret.Texture")&&(e.$setTexture(t),t?e.dispatchEventWith(egret.Event.COMPLETE):egret.$warn(2301,i))}):this.$setTexture(i)},i.prototype.$measureContentBounds=function(t){var e=this.$texture;if(e){var i=this.$UIComponent,r=i[10],n=i[11];if(isNaN(r)||isNaN(n))return void t.setEmpty();"clip"==this.$fillMode&&(r>e.$getTextureWidth()&&(r=e.$getTextureWidth()),n>e.$getTextureHeight()&&(n=e.$getTextureHeight())),t.setTo(0,0,r,n)}else t.setEmpty()},i.prototype.createChildren=function(){this.sourceChanged&&this.parseSource()},i.prototype.setActualSize=function(i,r){t.sys.UIComponentImpl.prototype.setActualSize.call(this,i,r),e.prototype.$setWidth.call(this,i),e.prototype.$setHeight.call(this,r)},i.prototype.childrenCreated=function(){},i.prototype.commitProperties=function(){t.sys.UIComponentImpl.prototype.commitProperties.call(this),this.sourceChanged&&this.parseSource()},i.prototype.measure=function(){var t=this.$texture;t?this.setMeasuredSize(t.$getTextureWidth(),t.$getTextureHeight()):this.setMeasuredSize(0,0)},i.prototype.updateDisplayList=function(t,e){this.$renderDirty=!0},i.prototype.invalidateParentLayout=function(){},i.prototype.setMeasuredSize=function(t,e){},i.prototype.invalidateProperties=function(){},i.prototype.validateProperties=function(){},i.prototype.invalidateSize=function(){},i.prototype.validateSize=function(t){},i.prototype.invalidateDisplayList=function(){},i.prototype.validateDisplayList=function(){},i.prototype.validateNow=function(){},i.prototype.setLayoutBoundsSize=function(t,e){},i.prototype.setLayoutBoundsPosition=function(t,e){},i.prototype.getLayoutBounds=function(t){},i.prototype.getPreferredBounds=function(t){},i}(egret.Bitmap);t.Image=e,__reflect(e.prototype,"eui.Image",["eui.UIComponent","egret.DisplayObject"]),t.sys.implementUIComponent(e,egret.Bitmap),t.registerProperty(e,"scale9Grid","egret.Rectangle")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t._data=null,t._selected=!1,t.itemIndex=-1,t.touchCaptured=!1,t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.onTouchBegin,t),t}return __extends(i,e),Object.defineProperty(i.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e,t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"data"),this.dataChanged()},enumerable:!0,configurable:!0}),i.prototype.dataChanged=function(){},Object.defineProperty(i.prototype,"selected",{get:function(){return this._selected},set:function(t){this._selected!=t&&(this._selected=t,this.invalidateState())},enumerable:!0,configurable:!0}),i.prototype.onTouchCancle=function(t){this.touchCaptured=!1;var e=t.$currentTarget;e.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchCancle,this),e.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),this.invalidateState()},i.prototype.onTouchBegin=function(t){this.$stage&&(this.$stage.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchCancle,this),this.$stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),this.touchCaptured=!0,this.invalidateState(),t.updateAfterEvent())},i.prototype.onStageTouchEnd=function(t){var e=t.$currentTarget;e.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchCancle,this),e.removeEventListener(egret.TouchEvent.TOUCH_END,this.onStageTouchEnd,this),this.touchCaptured=!1,this.invalidateState()},i.prototype.getCurrentState=function(){var t="up";if(this.enabled||(t="disabled"),this.touchCaptured&&(t="down"),this._selected){var e=t+"AndSelected",i=this.skin;return i&&i.hasState(e)?e:"disabled"==t?"disabled":"down"}return t},i}(t.Component);t.ItemRenderer=e,__reflect(e.prototype,"eui.ItemRenderer",["eui.IItemRenderer"]),t.registerBindable(e.prototype,"data")}(eui||(eui={}));var eui;!function(t){var e=t.sys.UIComponentImpl,i=function(i){function r(t){var e=i.call(this)||this;return e.$styleSetMap={fontFamily:!0,size:!0,bold:!0,italic:!0,textAlign:!0,verticalAlign:!0,lineSpacing:!0,textColor:!0,wordWrap:!0,displayAsPassword:!0,strokeColor:!0,stroke:!0,maxChars:!0,multiline:!0,border:!0,borderColor:!0,background:!0,backgroundColor:!0},e.$revertStyle={},e.$style=null,e.$changeFromStyle=!1,e._widthConstraint=0/0,e.initializeUIValues(),e.text=t,e}return __extends(r,i),Object.defineProperty(r.prototype,"style",{get:function(){return this.$style},set:function(t){this.$setStyle(t)},enumerable:!0,configurable:!0}),r.prototype.$setStyle=function(t){if(this.$style!=t){this.$style=t;var e=egret.getImplementation("eui.Theme");if(e){this.$changeFromStyle=!0;for(var i in this.$revertStyle)this[i]=this.$revertStyle[i];if(this.$revertStyle={},null==t)return void(this.$changeFromStyle=!1);for(var r=t.split(","),n=0;n<r.length;n++){var o=e.$getStyleConfig(r[n]);if(o)for(var i in o)if(this.$styleSetMap[i]){var s=this[i];this[i]=o[i],this.$revertStyle[i]=s}}this.$changeFromStyle=!1}}},r.prototype.$setFontFamily=function(t){return this.$changeFromStyle||(delete this.$revertStyle.fontFanily,this.$styleSetMap.fontFanily=!1),i.prototype.$setFontFamily.call(this,t)},r.prototype.$setSize=function(t){return this.$changeFromStyle||(delete this.$revertStyle.size,this.$styleSetMap.size=!1),i.prototype.$setSize.call(this,t)},r.prototype.$setBold=function(t){return this.$changeFromStyle||(delete this.$revertStyle.bold,this.$styleSetMap.bold=!1),i.prototype.$setBold.call(this,t)},r.prototype.$setItalic=function(t){return this.$changeFromStyle||(delete this.$revertStyle.italic,this.$styleSetMap.italic=!1),i.prototype.$setItalic.call(this,t)},r.prototype.$setTextAlign=function(t){return this.$changeFromStyle||(delete this.$revertStyle.textAlign,this.$styleSetMap.textAlign=!1),i.prototype.$setTextAlign.call(this,t)},r.prototype.$setVerticalAlign=function(t){return this.$changeFromStyle||(delete this.$revertStyle.verticalAlign,this.$styleSetMap.verticalAlign=!1),i.prototype.$setVerticalAlign.call(this,t)},r.prototype.$setLineSpacing=function(t){return this.$changeFromStyle||(delete this.$revertStyle.lineSpacing,this.$styleSetMap.lineSpacing=!1),i.prototype.$setLineSpacing.call(this,t)},r.prototype.$setTextColor=function(t){return this.$changeFromStyle||(delete this.$revertStyle.textColor,this.$styleSetMap.textColor=!1),i.prototype.$setTextColor.call(this,t)},r.prototype.$setWordWrap=function(t){this.$changeFromStyle||(delete this.$revertStyle.wordWrap,this.$styleSetMap.wordWrap=!1),i.prototype.$setWordWrap.call(this,t)},r.prototype.$setDisplayAsPassword=function(t){return this.$changeFromStyle||(delete this.$revertStyle.displayAsPassword,this.$styleSetMap.displayAsPassword=!1),i.prototype.$setDisplayAsPassword.call(this,t)},r.prototype.$setStrokeColor=function(t){return this.$changeFromStyle||(delete this.$revertStyle.strokeColor,this.$styleSetMap.strokeColor=!1),i.prototype.$setStrokeColor.call(this,t)},r.prototype.$setStroke=function(t){return this.$changeFromStyle||(delete this.$revertStyle.stroke,this.$styleSetMap.stroke=!1),i.prototype.$setStroke.call(this,t)},r.prototype.$setMaxChars=function(t){return this.$changeFromStyle||(delete this.$revertStyle.maxChars,this.$styleSetMap.maxChars=!1),i.prototype.$setMaxChars.call(this,t)},r.prototype.$setMultiline=function(t){return this.$changeFromStyle||(delete this.$revertStyle.multiline,this.$styleSetMap.multiline=!1),i.prototype.$setMultiline.call(this,t)},r.prototype.$setBorder=function(t){this.$changeFromStyle||(delete this.$revertStyle.border,this.$styleSetMap.border=!1),i.prototype.$setBorder.call(this,t)},r.prototype.$setBorderColor=function(t){this.$changeFromStyle||(delete this.$revertStyle.borderColor,this.$styleSetMap.borderColor=!1),i.prototype.$setBorderColor.call(this,t)},r.prototype.$setBackground=function(t){this.$changeFromStyle||(delete this.$revertStyle.background,this.$styleSetMap.background=!1),i.prototype.$setBackground.call(this,t)},r.prototype.$setBackgroundColor=function(t){this.$changeFromStyle||(delete this.$revertStyle.backgroundColor,this.$styleSetMap.backgroundColor=!1),i.prototype.$setBackgroundColor.call(this,t)},r.prototype.$invalidateTextField=function(){i.prototype.$invalidateTextField.call(this),this.invalidateSize()},r.prototype.$setWidth=function(t){var r=i.prototype.$setWidth.call(this,t),n=e.prototype.$setWidth.call(this,t);return r&&n},r.prototype.$setHeight=function(t){var r=i.prototype.$setHeight.call(this,t),n=e.prototype.$setHeight.call(this,t);return r&&n},r.prototype.$setText=function(e){var r=i.prototype.$setText.call(this,e);return t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"text"),r},r.prototype.createChildren=function(){},r.prototype.childrenCreated=function(){},r.prototype.commitProperties=function(){},r.prototype.measure=function(){var t=this.$UIComponent,e=this.$TextField,r=e[3],n=0/0;isNaN(this._widthConstraint)?isNaN(t[8])?1e5!=t[13]&&(n=t[13]):n=t[8]:(n=this._widthConstraint,this._widthConstraint=0/0),i.prototype.$setWidth.call(this,n),this.setMeasuredSize(this.textWidth,this.textHeight),i.prototype.$setWidth.call(this,r)},r.prototype.updateDisplayList=function(t,e){i.prototype.$setWidth.call(this,t),i.prototype.$setHeight.call(this,e)},r.prototype.invalidateParentLayout=function(){},r.prototype.setMeasuredSize=function(t,e){},r.prototype.invalidateProperties=function(){},r.prototype.validateProperties=function(){},r.prototype.invalidateSize=function(){},r.prototype.validateSize=function(t){},r.prototype.invalidateDisplayList=function(){},r.prototype.validateDisplayList=function(){},r.prototype.validateNow=function(){},r.prototype.setLayoutBoundsSize=function(t,i){if(e.prototype.setLayoutBoundsSize.call(this,t,i),isNaN(t)||t===this._widthConstraint||0==t)return void(this._widthConstraint=t);this._widthConstraint=t;var r=this.$UIComponent;isNaN(r[9])&&t!=r[16]&&this.invalidateSize()},r.prototype.setLayoutBoundsPosition=function(t,e){},r.prototype.getLayoutBounds=function(t){},r.prototype.getPreferredBounds=function(t){},r}(egret.TextField);t.Label=i,__reflect(i.prototype,"eui.Label",["eui.UIComponent","egret.DisplayObject","eui.IDisplayText"]),t.sys.implementUIComponent(i,egret.TextField),t.registerBindable(i.prototype,"text")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=null!==e&&e.apply(this,arguments)||this;return t.allowMultipleSelection=!1,t._selectedIndices=[],t.isValidIndex=function(e,i,r){return t.$dataProvider&&e>=0&&e<t.$dataProvider.length&&e%1==0},t}return __extends(i,e),Object.defineProperty(i.prototype,"selectedIndices",{get:function(){return this._proposedSelectedIndices?this._proposedSelectedIndices:this._selectedIndices},set:function(t){this.setSelectedIndices(t,!1)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedIndex",{get:function(){return this._proposedSelectedIndices?this._proposedSelectedIndices.length>0?this._proposedSelectedIndices[0]:-1:this.$getSelectedIndex()},set:function(t){this.setSelectedIndex(t)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedItems",{get:function(){var t=[],e=this.selectedIndices;if(e)for(var i=e.length,r=0;i>r;r++)t[r]=this.$dataProvider.getItemAt(e[r]);return t},set:function(t){var e=[];if(t)for(var i=t.length,r=0;i>r;r++){var n=this.$dataProvider.getItemIndex(t[r]);if(-1!=n&&e.splice(0,0,n),-1==n){e=[];break}}this.setSelectedIndices(e,!1)},enumerable:!0,configurable:!0}),i.prototype.setSelectedIndices=function(t,e){var i=this.$ListBase;e&&(i[4]=i[4]||e),t?this._proposedSelectedIndices=t:this._proposedSelectedIndices=[],this.invalidateProperties()},i.prototype.commitProperties=function(){e.prototype.commitProperties.call(this),this._proposedSelectedIndices&&this.commitSelection()},i.prototype.commitSelection=function(i){void 0===i&&(i=!0);var r=this.$ListBase,n=r[3];if(this._proposedSelectedIndices){if(this._proposedSelectedIndices=this._proposedSelectedIndices.filter(this.isValidIndex),!this.allowMultipleSelection&&this._proposedSelectedIndices.length>0){var o=[];o.push(this._proposedSelectedIndices[0]),this._proposedSelectedIndices=o}this._proposedSelectedIndices.length>0?r[2]=this._proposedSelectedIndices[0]:r[2]=-1}var s=e.prototype.commitSelection.call(this,!1);if(!s)return this._proposedSelectedIndices=null,!1;var a=this.$getSelectedIndex();return a>t.ListBase.NO_SELECTION&&(this._proposedSelectedIndices?-1==this._proposedSelectedIndices.indexOf(a)&&this._proposedSelectedIndices.push(a):this._proposedSelectedIndices=[a]),this._proposedSelectedIndices&&(-1!=this._proposedSelectedIndices.indexOf(n)&&this.itemSelected(n,!0),this.commitMultipleSelection()),i&&s&&(r[4]&&(this.dispatchEventWith(egret.Event.CHANGE),r[4]=!1),t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"selectedIndex"),t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"selectedItem")),s},i.prototype.commitMultipleSelection=function(){var t,e,i=[],r=[],n=this._selectedIndices,o=this._proposedSelectedIndices;if(n.length>0&&o.length>0){for(e=o.length,t=0;e>t;t++)-1==n.indexOf(o[t])&&r.push(o[t]);for(e=n.length,t=0;e>t;t++)-1==o.indexOf(n[t])&&i.push(n[t])}else n.length>0?i=n:o.length>0&&(r=o);if(this._selectedIndices=o,i.length>0)for(e=i.length,t=0;e>t;t++)this.itemSelected(i[t],!1);if(r.length>0)for(e=r.length,t=0;e>t;t++)this.itemSelected(r[t],!0);this._proposedSelectedIndices=null},i.prototype.$isItemIndexSelected=function(t){return this.allowMultipleSelection?-1!=this._selectedIndices.indexOf(t):e.prototype.$isItemIndexSelected.call(this,t)},i.prototype.dataProviderRefreshed=function(){this.allowMultipleSelection||e.prototype.dataProviderRefreshed.call(this)},i.prototype.calculateSelectedIndices=function(t){var e=[],i=this._selectedIndices,r=i.length;if(r>0){if(1==r&&i[0]==t)return this.$ListBase[0]?(e.splice(0,0,i[0]),e):e;for(var n=!1,o=0;r>o;o++)i[o]==t?n=!0:i[o]!=t&&e.splice(0,0,i[o]);return n||e.splice(0,0,t),e}return e.splice(0,0,t),e},i.prototype.onRendererTouchEnd=function(i){if(this.allowMultipleSelection){var r=i.currentTarget,n=this.$ListBase[7];if(r!=n)return;this.setSelectedIndices(this.calculateSelectedIndices(r.itemIndex),!0),t.ItemTapEvent.dispatchItemTapEvent(this,t.ItemTapEvent.ITEM_TAP,r)}else e.prototype.onRendererTouchEnd.call(this,i)},i}(t.ListBase);t.List=e,__reflect(e.prototype,"eui.List")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.closeButton=null,t.moveArea=null,t.titleDisplay=null,t._title="",t.offsetPointX=0,t.offsetPointY=0,t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,t.onWindowTouchBegin,t,!1,100),t}return __extends(i,e),i.prototype.onWindowTouchBegin=function(t){this.$parent.addChild(this)},Object.defineProperty(i.prototype,"elementsContent",{set:function(t){if(t)for(var e=t.length,i=0;e>i;i++)this.addChild(t[i])},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"title",{get:function(){return this._title},set:function(t){this._title=t,this.titleDisplay&&(this.titleDisplay.text=this.title)},enumerable:!0,configurable:!0}),i.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i),i==this.titleDisplay?this.titleDisplay.text=this._title:i==this.moveArea?this.moveArea.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this):i==this.closeButton&&this.closeButton.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseButtonClick,this)},i.prototype.partRemoved=function(t,i){e.prototype.partRemoved.call(this,t,i),i==this.moveArea?this.moveArea.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBegin,this):i==this.closeButton&&this.closeButton.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onCloseButtonClick,this)},i.prototype.onCloseButtonClick=function(e){t.UIEvent.dispatchUIEvent(this,t.UIEvent.CLOSING,!0,!0)&&this.close()},i.prototype.close=function(){this.$parent&&this.$parent.removeChild(this)},i.prototype.onTouchBegin=function(t){this.$includeInLayout=!1,this.offsetPointX=this.x-t.$stageX,this.offsetPointY=this.y-t.$stageY,this.$stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.$stage.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)},i.prototype.onTouchMove=function(t){this.x=t.$stageX+this.offsetPointX,this.y=t.$stageY+this.offsetPointY},i.prototype.onTouchEnd=function(t){var e=t.$currentTarget;e.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),e.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this)},i}(t.Component);t.Panel=e,__reflect(e.prototype,"eui.Panel"),t.registerProperty(e,"elementsContent","Array",!0)}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i.thumb=null,i.labelDisplay=null,i._labelFunction=null,i._slideDuration=500,i._direction=t.Direction.LTR,i.slideToValue=0,i.animationValue=0,i.thumbInitX=0,i.thumbInitY=0,i.animation=new t.sys.Animation(i.animationUpdateHandler,i),i}return __extends(i,e),Object.defineProperty(i.prototype,"labelFunction",{get:function(){return this._labelFunction},set:function(t){this._labelFunction!=t&&(this._labelFunction=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),i.prototype.valueToLabel=function(t,e){return null!=this.labelFunction?this._labelFunction(t,e):t+" / "+e},Object.defineProperty(i.prototype,"slideDuration",{get:function(){return this._slideDuration},set:function(t){t=0|+t,this._slideDuration!==t&&(this._slideDuration=t,this.animation.isPlaying&&(this.animation.stop(),this.setValue(this.slideToValue)))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"direction",{get:function(){return this._direction},set:function(t){this._direction!=t&&(this.thumb&&(this.thumb.x=this.thumbInitX),this.thumb&&(this.thumb.y=this.thumbInitY),this._direction=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),i.prototype.$setValue=function(t){if(this.value===t)return!1;var i=this.$Range,r=e.prototype.$setValue.call(this,t);if(this._slideDuration>0&&this.$stage){this.validateProperties();var n=this.animation;if(n.isPlaying&&(this.animationValue=this.slideToValue,this.invalidateDisplayList(),n.stop()),this.slideToValue=this.nearestValidValue(t,i[7]),this.slideToValue===this.animationValue)return r;var o=this._slideDuration*(Math.abs(this.animationValue-this.slideToValue)/(i[0]-i[2]));n.duration=o===1/0?0:o,n.from=this.animationValue,n.to=this.slideToValue,n.play()}else this.animationValue=this.value;return r},i.prototype.animationUpdateHandler=function(t){var e=this.$Range,i=this.nearestValidValue(t.currentValue,e[7]);this.animationValue=Math.min(e[0],Math.max(e[2],i)),this.invalidateDisplayList()},i.prototype.partAdded=function(t,i){e.prototype.partAdded.call(this,t,i),i===this.thumb&&(this.thumb.x&&(this.thumbInitX=this.thumb.x),this.thumb.y&&(this.thumbInitY=this.thumb.y),this.thumb.addEventListener(egret.Event.RESIZE,this.onThumbResize,this))},i.prototype.partRemoved=function(t,i){e.prototype.partRemoved.call(this,t,i),i===this.thumb&&this.thumb.removeEventListener(egret.Event.RESIZE,this.onThumbResize,this)},i.prototype.onThumbResize=function(t){this.updateSkinDisplayList()},i.prototype.updateSkinDisplayList=function(){var e=this.animation.isPlaying?this.animationValue:this.value,i=this.maximum,r=this.thumb;if(r){var n=r.width,o=r.height,s=Math.round(e/i*n);(0>s||s===1/0)&&(s=0);var a=Math.round(e/i*o);(0>a||a===1/0)&&(a=0);var h=r.$scrollRect;h||(h=egret.$TempRectangle),h.setTo(0,0,n,o);var u=r.x-h.x,l=r.y-h.y;switch(this._direction){case t.Direction.LTR:h.width=s,r.x=u;break;case t.Direction.RTL:h.width=s,h.x=n-s,r.x=h.x;break;case t.Direction.TTB:h.height=a,r.y=l;break;case t.Direction.BTT:h.height=a,h.y=o-a,r.y=h.y}r.scrollRect=h}this.labelDisplay&&(this.labelDisplay.text=this.valueToLabel(e,i))},i}(t.Range);t.ProgressBar=e,__reflect(e.prototype,"eui.ProgressBar")}(eui||(eui={}));var eui;!function(t){var e={},i=function(i){function r(){var t=i.call(this)||this;return t.$indexNumber=0,t.$radioButtonGroup=null,t._group=null,t.groupChanged=!1,t._groupName="radioGroup",t._value=null,t.groupName="radioGroup",t}return __extends(r,i),Object.defineProperty(r.prototype,"enabled",{get:function(){return this.$Component[3]?!this.$radioButtonGroup||this.$radioButtonGroup.$enabled:!1},set:function(t){this.$setEnabled(t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"group",{get:function(){if(!this._group&&this._groupName){var i=e[this._groupName];i||(i=new t.RadioButtonGroup,i.$name=this._groupName,e[this._groupName]=i),this._group=i}return this._group},set:function(t){this._group!=t&&(this.$radioButtonGroup&&this.$radioButtonGroup.$removeInstance(this,!1),this._group=t,this._groupName=t?this.group.$name:"radioGroup",this.groupChanged=!0,this.invalidateProperties(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"groupName",{get:function(){return this._groupName},set:function(t){t&&""!=t&&(this._groupName=t,this.$radioButtonGroup&&this.$radioButtonGroup.$removeInstance(this,!1),this._group=null,this.groupChanged=!0,this.invalidateProperties(),this.invalidateDisplayList())},enumerable:!0,configurable:!0}),r.prototype.$setSelected=function(t){var e=i.prototype.$setSelected.call(this,t);return this.invalidateDisplayList(),e},Object.defineProperty(r.prototype,"value",{get:function(){return this._value},set:function(e){this._value!=e&&(this._value=e,this.$selected&&this.group&&t.PropertyEvent.dispatchPropertyEvent(this.group,t.PropertyEvent.PROPERTY_CHANGE,"selectedValue"))},enumerable:!0,configurable:!0}),r.prototype.commitProperties=function(){this.groupChanged&&(this.addToGroup(),this.groupChanged=!1),i.prototype.commitProperties.call(this)},r.prototype.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e),this.group&&(this.$selected?this._group.$setSelection(this,!1):this.group.selection==this&&this._group.$setSelection(null,!1))},r.prototype.buttonReleased=function(){this.enabled&&!this.selected&&(this.$radioButtonGroup||this.addToGroup(),i.prototype.buttonReleased.call(this),this.group.$setSelection(this,!0))},r.prototype.addToGroup=function(){var t=this.group;return t&&t.$addInstance(this),t},r}(t.ToggleButton);t.RadioButton=i,__reflect(i.prototype,"eui.RadioButton")}(eui||(eui={}));var eui;!function(t){function e(t,i){var r=t.parent,n=i.parent;if(!r||!n)return 0;var o=t.$nestLevel,s=i.$nestLevel,a=0,h=0;return r==n&&(a=r.getChildIndex(t),h=n.getChildIndex(i)),o>s||a>h?1:s>o||h>a?-1:t==i?0:e(r,n)}var i=0,r=function(r){function n(){var t=r.call(this)||this;return t.$name=null,t.radioButtons=[],t.$enabled=!0,t._selectedValue=null,t._selection=null,t.$name="_radioButtonGroup"+i++,t}return __extends(n,r),n.prototype.getRadioButtonAt=function(t){return this.radioButtons[t]},Object.defineProperty(n.prototype,"enabled",{get:function(){return this.$enabled},set:function(t){if(t=!!t,this.$enabled!==t){this.$enabled=t;for(var e=this.radioButtons,i=e.length,r=0;i>r;r++)e[r].invalidateState()}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"numRadioButtons",{get:function(){return this.radioButtons.length},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selectedValue",{get:function(){return this.selection?null!=this.selection.value?this.selection.value:this.selection.label:null},set:function(e){if(this._selectedValue=e,null==e)return void this.$setSelection(null,!1);for(var i=this.numRadioButtons,r=0;i>r;r++){var n=this.radioButtons[r];if(n.value==e||n.label==e){this.changeSelection(r,!1),this._selectedValue=null,t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"selectedValue");break}}},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"selection",{get:function(){return this._selection},set:function(t){this._selection!=t&&this.$setSelection(t,!1)},enumerable:!0,configurable:!0}),n.prototype.$addInstance=function(t){t.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.removedHandler,this);var i=this.radioButtons;i.push(t),i.sort(e);for(var r=i.length,n=0;r>n;n++)i[n].$indexNumber=n;this._selectedValue&&(this.selectedValue=this._selectedValue),1==t.selected&&(this.selection=t),t.$radioButtonGroup=this,t.invalidateState()},n.prototype.$removeInstance=function(t,e){if(t)for(var i=!1,r=this.radioButtons,n=r.length,o=0;n>o;o++){var s=r[o];i?s.$indexNumber=s.$indexNumber-1:s==t&&(e&&t.addEventListener(egret.Event.ADDED_TO_STAGE,this.addedHandler,this),t==this._selection&&(this._selection=null),t.$radioButtonGroup=null,t.invalidateState(),this.radioButtons.splice(o,1),i=!0,o--,n--)}},n.prototype.$setSelection=function(e,i){if(this._selection==e)return!1;if(e){for(var r=this.numRadioButtons,n=0;r>n;n++)if(e==this.getRadioButtonAt(n)){this.changeSelection(n,i);break}}else this._selection&&(this._selection.selected=!1,this._selection=null,i&&this.dispatchEventWith(egret.Event.CHANGE));return t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"selectedValue"),!0},n.prototype.changeSelection=function(t,e){var i=this.getRadioButtonAt(t);i&&i!=this._selection&&(this._selection&&(this._selection.selected=!1),this._selection=i,this._selection.selected=!0,e&&this.dispatchEventWith(egret.Event.CHANGE))},n.prototype.addedHandler=function(t){var e=t.target;e==t.currentTarget&&(e.removeEventListener(egret.Event.ADDED_TO_STAGE,this.addedHandler,this),this.$addInstance(e))},n.prototype.removedHandler=function(t){var e=t.target;e==t.currentTarget&&(e.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.removedHandler,this),this.$removeInstance(e,!0))},n}(egret.EventDispatcher);t.RadioButtonGroup=r,__reflect(r.prototype,"eui.RadioButtonGroup"),t.registerBindable(r.prototype,"selectedValue")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(e,i,r){var n=t.call(this)||this;return n.$fillColor=0,n.$fillAlpha=1,n.$strokeColor=4473924,n.$strokeAlpha=1,n.$strokeWeight=0,n.$ellipseWidth=0,n.$ellipseHeight=0,n.touchChildren=!1,n.$graphics=new egret.Graphics,n.$graphics.$setTarget(n),n.width=e,n.height=i,n.fillColor=r,n}return __extends(e,t),e.prototype.createNativeDisplayObject=function(){this.$nativeDisplayObject=new egret_native.NativeDisplayObject(8)},Object.defineProperty(e.prototype,"graphics",{get:function(){return this.$graphics},enumerable:!0,configurable:!0}),e.prototype.$measureContentBounds=function(t){this.$graphics&&t.setTo(0,0,this.width,this.height)},Object.defineProperty(e.prototype,"fillColor",{get:function(){return this.$fillColor},set:function(t){void 0!=t&&this.$fillColor!=t&&(this.$fillColor=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fillAlpha",{get:function(){return this.$fillAlpha},set:function(t){this.$fillAlpha!=t&&(this.$fillAlpha=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeColor",{get:function(){return this.$strokeColor},set:function(t){this.$strokeColor!=t&&(this.$strokeColor=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeAlpha",{get:function(){return this.$strokeAlpha},set:function(t){this.$strokeAlpha!=t&&(this.$strokeAlpha=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strokeWeight",{get:function(){return this.$strokeWeight},set:function(t){this.$strokeWeight!=t&&(this.$strokeWeight=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ellipseWidth",{get:function(){return this.$ellipseWidth},set:function(t){this.$ellipseWidth!=t&&(this.$ellipseWidth=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ellipseHeight",{get:function(){return this.$ellipseHeight},set:function(t){this.$ellipseHeight!=t&&(this.$ellipseHeight=t,this.invalidateDisplayList())},enumerable:!0,configurable:!0}),e.prototype.updateDisplayList=function(t,e){var i=this.graphics;i.clear(),this.$strokeWeight>0&&(i.beginFill(this.$fillColor,0),i.lineStyle(this.$strokeWeight,this.$strokeColor,this.$strokeAlpha,!0,"normal","square","miter"),0==this.$ellipseWidth&&0==this.$ellipseHeight?i.drawRect(this.$strokeWeight/2,this.$strokeWeight/2,t-this.$strokeWeight,e-this.$strokeWeight):i.drawRoundRect(this.$strokeWeight/2,this.$strokeWeight/2,t-this.$strokeWeight,e-this.$strokeWeight,this.$ellipseWidth,this.$ellipseHeight),i.endFill()),i.beginFill(this.$fillColor,this.$fillAlpha),i.lineStyle(this.$strokeWeight,this.$strokeColor,0,!0,"normal","square","miter"),0==this.$ellipseWidth&&0==this.$ellipseHeight?i.drawRect(this.$strokeWeight,this.$strokeWeight,t-2*this.$strokeWeight,e-2*this.$strokeWeight):i.drawRoundRect(this.$strokeWeight,this.$strokeWeight,t-2*this.$strokeWeight,e-2*this.$strokeWeight,this.$ellipseWidth,this.$ellipseHeight),i.endFill()},e.prototype.$onRemoveFromStage=function(){t.prototype.$onRemoveFromStage.call(this),this.$graphics&&this.$graphics.$onRemoveFromStage()},e}(t.Component);t.Rect=e,__reflect(e.prototype,"eui.Rect")}(eui||(eui={}));var eui;!function(t){var e,i=function(i){function r(){var e=i.call(this)||this;e.$bounces=!0,e.horizontalScrollBar=null,e.verticalScrollBar=null;var r=new t.sys.TouchScroll(e.horizontalUpdateHandler,e.horizontalEndHandler,e),n=new t.sys.TouchScroll(e.verticalUpdateHandler,e.verticalEndHanlder,e);return e.$Scroller={0:"auto",1:"auto",2:null,3:0,4:0,5:!1,6:!1,7:!1,8:r,9:n,10:null,11:!1,12:!1},e}return __extends(r,i),Object.defineProperty(r.prototype,"bounces",{get:function(){return this.$bounces},set:function(t){this.$bounces=!!t;var e=this.$Scroller[8];e&&(e.$bounces=this.$bounces);var i=this.$Scroller[9];i&&(i.$bounces=this.$bounces)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"throwSpeed",{get:function(){return this.$Scroller[8].$scrollFactor},set:function(t){t=+t,0>t&&(t=0),this.$Scroller[8].$scrollFactor=t,this.$Scroller[9].$scrollFactor=t},enumerable:!0,configurable:!0}),r.prototype.$getThrowInfo=function(i,r){return e?(e.currentPos=i,e.toPos=r):e=new t.ScrollerThrowEvent(t.ScrollerThrowEvent.THROW,!1,!1,i,r),e},Object.defineProperty(r.prototype,"scrollPolicyV",{get:function(){return this.$Scroller[0]},set:function(t){var e=this.$Scroller;e[0]!=t&&(e[0]=t,this.checkScrollPolicy())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"scrollPolicyH",{get:function(){return this.$Scroller[1]},set:function(t){var e=this.$Scroller;e[1]!=t&&(e[1]=t,this.checkScrollPolicy())
},enumerable:!0,configurable:!0}),r.prototype.stopAnimation=function(){var e=this.$Scroller,i=e[9],r=e[8];i.animation.isPlaying?t.UIEvent.dispatchUIEvent(this,t.UIEvent.CHANGE_END):r.animation.isPlaying&&t.UIEvent.dispatchUIEvent(this,t.UIEvent.CHANGE_END),i.stop(),r.stop();var n=this.verticalScrollBar,o=this.horizontalScrollBar;n&&n.autoVisibility&&(n.visible=!1),o&&o.autoVisibility&&(o.visible=!1)},Object.defineProperty(r.prototype,"viewport",{get:function(){return this.$Scroller[10]},set:function(t){var e=this.$Scroller;t!=e[10]&&(this.uninstallViewport(),e[10]=t,e[11]=!1,this.installViewport())},enumerable:!0,configurable:!0}),r.prototype.installViewport=function(){var t=this.viewport;t&&(this.addChildAt(t,0),t.scrollEnabled=!0,t.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBeginCapture,this,!0),t.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEndCapture,this,!0),t.addEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTapCapture,this,!0),t.addEventListener(egret.Event.REMOVED,this.onViewPortRemove,this)),this.horizontalScrollBar&&(this.horizontalScrollBar.viewport=t),this.verticalScrollBar&&(this.verticalScrollBar.viewport=t)},r.prototype.uninstallViewport=function(){this.horizontalScrollBar&&(this.horizontalScrollBar.viewport=null),this.verticalScrollBar&&(this.verticalScrollBar.viewport=null);var t=this.viewport;t&&(t.scrollEnabled=!1,t.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,this.onTouchBeginCapture,this,!0),t.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEndCapture,this,!0),t.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.onTouchTapCapture,this,!0),t.removeEventListener(egret.Event.REMOVED,this.onViewPortRemove,this),0==this.$Scroller[11]&&this.removeChild(t))},r.prototype.onViewPortRemove=function(t){t.target==this.viewport&&(this.$Scroller[11]=!0,this.viewport=null)},r.prototype.setSkin=function(t){i.prototype.setSkin.call(this,t);var e=this.viewport;e&&this.addChildAt(e,0)},r.prototype.onTouchBeginCapture=function(t){if(this.$stage){this.$Scroller[12]=!1;var e=this.checkScrollPolicy();e&&this.onTouchBegin(t)}},r.prototype.onTouchEndCapture=function(t){this.$Scroller[12]&&(t.$bubbles=!1,this.dispatchBubbleEvent(t),t.$bubbles=!0,t.stopPropagation(),this.onTouchEnd(t))},r.prototype.onTouchTapCapture=function(t){this.$Scroller[12]&&(t.$bubbles=!1,this.dispatchBubbleEvent(t),t.$bubbles=!0,t.stopPropagation())},r.prototype.checkScrollPolicy=function(){var t=this.$Scroller,e=t[10];if(!e)return!1;var i,r=e.$UIComponent;switch(t[1]){case"auto":i=e.contentWidth>r[10]||0!==e.scrollH?!0:!1;break;case"on":i=!0;break;case"off":i=!1}t[6]=i;var n;switch(t[0]){case"auto":n=e.contentHeight>r[11]||0!==e.scrollV?!0:!1;break;case"on":n=!0;break;case"off":n=!1}return t[7]=n,i||n},r.prototype.onTouchBegin=function(t){if(!t.isDefaultPrevented()&&this.checkScrollPolicy()){this.downTarget=t.target;var e=this.$Scroller;this.stopAnimation(),e[3]=t.$stageX,e[4]=t.$stageY,e[6]&&e[8].start(t.$stageX),e[7]&&e[9].start(t.$stageY);var i=this.$stage;this.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),i.addEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this,!0),this.addEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchCancel,this),this.addEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveListeners,this),this.tempStage=i}},r.prototype.onTouchMove=function(e){if(!e.isDefaultPrevented()){var i=this.$Scroller;if(!i[5]){var n=void 0;n=Math.abs(i[3]-e.$stageX)<r.scrollThreshold?!1:!0;var o=void 0;if(o=Math.abs(i[4]-e.$stageY)<r.scrollThreshold?!1:!0,!n&&!o)return;if(!o&&n&&"off"==i[1])return;if(!n&&o&&"off"==i[0])return;i[12]=!0,i[5]=!0,this.dispatchCancelEvent(e);var s=this.horizontalScrollBar,a=this.verticalScrollBar;s&&s.autoVisibility&&i[6]&&(s.visible=!0),a&&a.autoVisibility&&i[7]&&(a.visible=!0),i[2]&&i[2].reset(),t.UIEvent.dispatchUIEvent(this,t.UIEvent.CHANGE_START),this.$stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this)}e.preventDefault();var h=i[10],u=h.$UIComponent;i[6]&&i[8].update(e.$stageX,h.contentWidth-u[10],h.scrollH),i[7]&&i[9].update(e.$stageY,h.contentHeight-u[11],h.scrollV)}},r.prototype.onTouchCancel=function(t){this.$Scroller[5]||this.onRemoveListeners()},r.prototype.dispatchBubbleEvent=function(t){var e=this.$Scroller[10];if(e){var i=egret.Event.create(egret.TouchEvent,t.type,t.bubbles,t.cancelable);i.$initTo(t.$stageX,t.$stageY,t.touchPointID);var r=this.downTarget;i.$setTarget(r);for(var n=this.$getPropagationList(r),o=n.length,s=.5*n.length,a=-1,h=0;o>h;h++)if(n[h]===e){a=h;break}n.splice(0,n.length-a+1),s=0,this.$dispatchPropagationEvent(i,n,s),egret.Event.release(i)}},r.prototype.dispatchCancelEvent=function(t){var e=this.$Scroller[10];if(e){var i=egret.Event.create(egret.TouchEvent,egret.TouchEvent.TOUCH_CANCEL,t.bubbles,t.cancelable);i.$initTo(t.$stageX,t.$stageY,t.touchPointID);var r=this.downTarget;i.$setTarget(r);for(var n=this.$getPropagationList(r),o=n.length,s=.5*n.length,a=-1,h=0;o>h;h++)if(n[h]===e){a=h;break}n.splice(0,a+1-2),n.splice(n.length-1-a+2,a+1-2),s-=a+1,this.$dispatchPropagationEvent(i,n,s),egret.Event.release(i)}},r.prototype.onTouchEnd=function(t){var e=this.$Scroller;e[5]=!1,this.onRemoveListeners();var i=e[10],r=i.$UIComponent;e[8].isStarted()&&e[8].finish(i.scrollH,i.contentWidth-r[10]),e[9].isStarted()&&e[9].finish(i.scrollV,i.contentHeight-r[11])},r.prototype.onRemoveListeners=function(){var t=this.tempStage||this.$stage;this.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),t.removeEventListener(egret.TouchEvent.TOUCH_END,this.onTouchEnd,this,!0),t.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.onTouchMove,this),this.removeEventListener(egret.TouchEvent.TOUCH_CANCEL,this.onTouchCancel,this),this.removeEventListener(egret.Event.REMOVED_FROM_STAGE,this.onRemoveListeners,this)},r.prototype.horizontalUpdateHandler=function(t){this.$Scroller[10].scrollH=t,this.dispatchEventWith(egret.Event.CHANGE)},r.prototype.verticalUpdateHandler=function(t){this.$Scroller[10].scrollV=t,this.dispatchEventWith(egret.Event.CHANGE)},r.prototype.horizontalEndHandler=function(){this.$Scroller[9].isPlaying()||this.onChangeEnd()},r.prototype.verticalEndHanlder=function(){this.$Scroller[8].isPlaying()||this.onChangeEnd()},r.prototype.onChangeEnd=function(){var e=this.$Scroller,i=this.horizontalScrollBar,r=this.verticalScrollBar;(i&&i.visible||r&&r.visible)&&(e[2]||(e[2]=new egret.Timer(200,1),e[2].addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.onAutoHideTimer,this)),e[2].reset(),e[2].start()),t.UIEvent.dispatchUIEvent(this,t.UIEvent.CHANGE_END)},r.prototype.onAutoHideTimer=function(t){var e=this.horizontalScrollBar,i=this.verticalScrollBar;e&&e.autoVisibility&&(e.visible=!1),i&&i.autoVisibility&&(i.visible=!1)},r.prototype.updateDisplayList=function(t,e){i.prototype.updateDisplayList.call(this,t,e);var r=this.viewport;r&&(r.setLayoutBoundsSize(t,e),r.setLayoutBoundsPosition(0,0))},r.prototype.partAdded=function(t,e){i.prototype.partAdded.call(this,t,e),e==this.horizontalScrollBar?(this.horizontalScrollBar.touchChildren=!1,this.horizontalScrollBar.touchEnabled=!1,this.horizontalScrollBar.viewport=this.viewport,this.horizontalScrollBar.autoVisibility&&(this.horizontalScrollBar.visible=!1)):e==this.verticalScrollBar&&(this.verticalScrollBar.touchChildren=!1,this.verticalScrollBar.touchEnabled=!1,this.verticalScrollBar.viewport=this.viewport,this.verticalScrollBar.autoVisibility&&(this.verticalScrollBar.visible=!1))},r.scrollThreshold=5,r}(t.Component);t.Scroller=i,__reflect(i.prototype,"eui.Scroller"),t.registerProperty(i,"viewport","eui.IViewport",!0)}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.maxWidth=1e5,i.minWidth=0,i.maxHeight=1e5,i.minHeight=0,i.width=0/0,i.height=0/0,i.$elementsContent=[],i._hostComponent=null,i.$stateValues=new t.sys.StateValues,i}return __extends(i,e),Object.defineProperty(i.prototype,"elementsContent",{set:function(t){this.$elementsContent=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"hostComponent",{get:function(){return this._hostComponent},set:function(e){if(this._hostComponent!=e){this._hostComponent&&this._hostComponent.removeEventListener(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this),this._hostComponent=e;var i=this.$stateValues;i.parent=e,e&&(this.commitCurrentState(),this.$stateValues.intialized||(e.$stage?this.initializeStates(e.$stage):e.once(egret.Event.ADDED_TO_STAGE,this.onAddedToStage,this))),t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"hostComponent")}},enumerable:!0,configurable:!0}),i.prototype.onAddedToStage=function(t){this.initializeStates(this._hostComponent.$stage)},i}(egret.EventDispatcher);t.Skin=e,__reflect(e.prototype,"eui.Skin"),t.sys.mixin(e,t.sys.StateClient),t.registerProperty(e,"elementsContent","Array",!0),t.registerProperty(e,"states","State[]"),t.registerBindable(e.prototype,"hostComponent")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.indexBeingUpdated=!1,t.requireSelection=!0,t.useVirtualLayout=!1,t}return __extends(i,e),i.prototype.createChildren=function(){if(!this.$layout){var i=new t.HorizontalLayout;i.gap=0,i.horizontalAlign=t.JustifyAlign.JUSTIFY,i.verticalAlign=t.JustifyAlign.CONTENT_JUSTIFY,this.$setLayout(i)}e.prototype.createChildren.call(this)},i.prototype.$setDataProvider=function(i){var r=this.$dataProvider;return r&&r instanceof t.ViewStack&&(r.removeEventListener(t.PropertyEvent.PROPERTY_CHANGE,this.onViewStackIndexChange,this),this.removeEventListener(egret.Event.CHANGE,this.onIndexChanged,this)),i&&i instanceof t.ViewStack&&(i.addEventListener(t.PropertyEvent.PROPERTY_CHANGE,this.onViewStackIndexChange,this),this.addEventListener(egret.Event.CHANGE,this.onIndexChanged,this)),e.prototype.$setDataProvider.call(this,i)},i.prototype.onIndexChanged=function(t){this.indexBeingUpdated=!0,this.$dataProvider.selectedIndex=this.selectedIndex,this.indexBeingUpdated=!1},i.prototype.onViewStackIndexChange=function(t){"selectedIndex"!=t.property||this.indexBeingUpdated||this.setSelectedIndex(this.$dataProvider.selectedIndex,!1)},i}(t.ListBase);t.TabBar=e,__reflect(e.prototype,"eui.TabBar")}(eui||(eui={}));var eui;!function(t){var e=egret.FocusEvent,i=function(i){function r(){var t=i.call(this)||this;return t.isFocus=!1,t.$TextInput={0:null,1:null,2:null,3:null,4:null,5:null,6:"",7:null,8:egret.TextFieldInputType.TEXT},t}return __extends(r,i),Object.defineProperty(r.prototype,"prompt",{get:function(){return this.promptDisplay?this.promptDisplay.text:this.$TextInput[0]},set:function(t){this.$TextInput[0]=t,this.promptDisplay&&(this.promptDisplay.text=t),this.invalidateProperties(),this.invalidateState()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"displayAsPassword",{get:function(){if(this.textDisplay)return this.textDisplay.displayAsPassword;var t=this.$TextInput[1];return t?t:!1},set:function(t){this.$TextInput[1]=t,this.textDisplay&&(this.textDisplay.displayAsPassword=t),this.invalidateProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"inputType",{get:function(){return this.textDisplay?this.textDisplay.inputType:this.$TextInput[8]},set:function(t){this.$TextInput[8]=t,this.textDisplay&&(this.textDisplay.inputType=t),this.invalidateProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"textColor",{get:function(){return this.textDisplay?this.textDisplay.textColor:this.$TextInput[2]},set:function(t){this.$TextInput[2]=t,this.textDisplay&&(this.textDisplay.textColor=t),this.invalidateProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxChars",{get:function(){if(this.textDisplay)return this.textDisplay.maxChars;var t=this.$TextInput[3];return t?t:0},set:function(t){this.$TextInput[3]=t,this.textDisplay&&(this.textDisplay.maxChars=t),this.invalidateProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxWidth",{get:function(){if(this.textDisplay)return this.textDisplay.maxWidth;var t=this.$TextInput[4];return t?t:1e5},set:function(t){this.$TextInput[4]=t,this.textDisplay&&(this.textDisplay.maxWidth=t),this.invalidateProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"maxHeight",{get:function(){this.textDisplay;var t=this.$TextInput[5];return t?t:1e5},set:function(t){this.$TextInput[5]=t,this.textDisplay&&(this.textDisplay.maxHeight=t),this.invalidateProperties()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"text",{get:function(){return this.textDisplay?this.textDisplay.text:this.$TextInput[6]},set:function(t){this.$TextInput[6]=t,this.textDisplay&&(this.textDisplay.text=t),this.invalidateProperties(),this.invalidateState()},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"restrict",{get:function(){return this.textDisplay?this.textDisplay.restrict:this.$TextInput[7]},set:function(t){this.$TextInput[7]=t,this.textDisplay&&(this.textDisplay.restrict=t),this.invalidateProperties()},enumerable:!0,configurable:!0}),r.prototype.focusInHandler=function(t){this.isFocus=!0,this.invalidateState()},r.prototype.focusOutHandler=function(t){this.isFocus=!1,this.invalidateState()},r.prototype.getCurrentState=function(){var t=this.skin;return!this.prompt||this.isFocus||this.text?this.enabled?"normal":"disabled":this.enabled&&t.hasState("normalWithPrompt")?"normalWithPrompt":!this.enabled&&t.hasState("disabledWithPrompt")?"disabledWithPrompt":void 0},r.prototype.partAdded=function(r,n){i.prototype.partAdded.call(this,r,n);var o=this.$TextInput;n==this.textDisplay?(this.textDisplayAdded(),this.textDisplay instanceof t.EditableText&&(this.textDisplay.addEventListener(e.FOCUS_IN,this.focusInHandler,this),this.textDisplay.addEventListener(e.FOCUS_OUT,this.focusOutHandler,this))):n==this.promptDisplay&&o[0]&&(this.promptDisplay.text=o[0])},r.prototype.partRemoved=function(r,n){i.prototype.partRemoved.call(this,r,n),n==this.textDisplay?(this.textDisplayRemoved(),this.textDisplay instanceof t.EditableText&&(this.textDisplay.removeEventListener(e.FOCUS_IN,this.focusInHandler,this),this.textDisplay.removeEventListener(e.FOCUS_OUT,this.focusOutHandler,this))):n==this.promptDisplay&&(this.$TextInput[0]=this.promptDisplay.text)},r.prototype.textDisplayAdded=function(){var t=this.$TextInput;t[1]&&(this.textDisplay.displayAsPassword=t[1]),t[2]&&(this.textDisplay.textColor=t[2]),t[3]&&(this.textDisplay.maxChars=t[3]),t[4]&&(this.textDisplay.maxWidth=t[4]),t[5]&&(this.textDisplay.maxHeight=t[5]),t[6]&&(this.textDisplay.text=t[6]),t[7]&&(this.textDisplay.restrict=t[7]),t[8]&&(this.textDisplay.inputType=t[8])},r.prototype.textDisplayRemoved=function(){var t=this.$TextInput;t[1]=this.textDisplay.displayAsPassword,t[2]=this.textDisplay.textColor,t[3]=this.textDisplay.maxChars,t[4]=this.textDisplay.maxWidth,t[5]=this.textDisplay.maxHeight,t[6]=this.textDisplay.text,t[7]=this.textDisplay.restrict,t[8]=this.textDisplay.inputType},r}(t.Component);t.TextInput=i,__reflect(i.prototype,"eui.TextInput")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(t.ToggleButton);t.CheckBox=e,__reflect(e.prototype,"eui.CheckBox")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e}(t.ToggleButton);t.ToggleSwitch=e,__reflect(e.prototype,"eui.ToggleSwitch")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e.addEventListener(egret.Event.REMOVED_FROM_STAGE,e.onRemoveFromStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){this.$stage.addEventListener(egret.Event.RESIZE,this.onResize,this),this.onResize()},e.prototype.onRemoveFromStage=function(t){this.$stage.removeEventListener(egret.Event.RESIZE,this.onResize,this)},e.prototype.onResize=function(t){var e=this.$stage;this.$setWidth(e.$stageWidth),this.$setHeight(e.$stageHeight)},e}(t.Group);t.UILayer=e,__reflect(e.prototype,"eui.UILayer")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.updateDisplayList=function(e,i){t.prototype.updateDisplayList.call(this,e,i);var r=this.thumb,n=this.$viewport;if(r&&n){var o=egret.$TempRectangle;r.getPreferredBounds(o);var s=o.height,a=o.x,h=n.scrollV,u=n.contentHeight,l=n.height;if(0>=h){var c=s*(1- -h/(.5*l));c=Math.max(5,Math.round(c)),r.setLayoutBoundsSize(0/0,c),r.setLayoutBoundsPosition(a,0)}else if(h>=u-l){var c=s*(1-(h-u+l)/(.5*l));c=Math.max(5,Math.round(c)),r.setLayoutBoundsSize(0/0,c),r.setLayoutBoundsPosition(a,i-c)}else{var p=(i-s)*h/(u-l);r.setLayoutBoundsSize(0/0,0/0),r.setLayoutBoundsPosition(a,p)}}},e.prototype.onPropertyChanged=function(t){switch(t.property){case"scrollV":case"contentHeight":this.invalidateDisplayList()}},e}(t.ScrollBarBase);t.VScrollBar=e,__reflect(e.prototype,"eui.VScrollBar")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.pointToValue=function(t,e){if(!this.thumb||!this.track)return 0;var i=this.$Range,r=i[0]-i[2],n=this.getThumbRange();return i[2]+(0!=n?(n-e)/n*r:0)},e.prototype.getThumbRange=function(){var t=egret.$TempRectangle;this.track.getLayoutBounds(t);var e=t.height;return this.thumb.getLayoutBounds(t),e-t.height},e.prototype.updateSkinDisplayList=function(){if(this.thumb&&this.track){var t=this.$Range,e=this.getThumbRange(),i=t[0]-t[2],r=i>0?e-(this.pendingValue-t[2])/i*e:0,n=this.track.localToGlobal(0,r,egret.$TempPoint),o=n.x,s=n.y,a=this.thumb.$parent.globalToLocal(o,s,egret.$TempPoint).y,h=egret.$TempRectangle,u=h.height;if(this.thumb.getLayoutBounds(h),this.thumb.setLayoutBoundsPosition(h.x,Math.round(a)),this.trackHighlight){var l=this.trackHighlight.$parent.globalToLocal(o,s,egret.$TempPoint).y;this.trackHighlight.y=Math.round(l+u),this.trackHighlight.height=Math.round(e-l)}}},e}(t.SliderBase);t.VSlider=e,__reflect(e.prototype,"eui.VSlider")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){var i=e.call(this)||this;return i._selectedChild=null,i.proposedSelectedIndex=t.ListBase.NO_PROPOSED_SELECTION,i._selectedIndex=-1,i}return __extends(i,e),Object.defineProperty(i.prototype,"layout",{get:function(){return this.$layout},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedChild",{get:function(){var t=this.selectedIndex;return t>=0&&t<this.numChildren?this.getChildAt(t):null},set:function(t){var e=this.getChildIndex(t);e>=0&&e<this.numChildren&&this.setSelectedIndex(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selectedIndex",{get:function(){return this.proposedSelectedIndex!=t.ListBase.NO_PROPOSED_SELECTION?this.proposedSelectedIndex:this._selectedIndex},set:function(t){t=0|+t,this.setSelectedIndex(t)},enumerable:!0,configurable:!0}),i.prototype.setSelectedIndex=function(e){e!=this.selectedIndex&&(this.proposedSelectedIndex=e,this.invalidateProperties(),t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"selectedIndex"))},i.prototype.$childAdded=function(i,r){e.prototype.$childAdded.call(this,i,r),this.showOrHide(i,!1);var n=this.selectedIndex;-1==n?this.setSelectedIndex(r):r<=this.selectedIndex&&this.$stage&&this.setSelectedIndex(n+1),t.CollectionEvent.dispatchCollectionEvent(this,t.CollectionEvent.COLLECTION_CHANGE,t.CollectionEventKind.ADD,r,-1,[i.name])},i.prototype.$childRemoved=function(i,r){e.prototype.$childRemoved.call(this,i,r),this.showOrHide(i,!0);var n=this.selectedIndex;r==n?this.numChildren>0?0==r?(this.proposedSelectedIndex=0,this.invalidateProperties()):this.setSelectedIndex(0):this.setSelectedIndex(-1):n>r&&this.setSelectedIndex(n-1),t.CollectionEvent.dispatchCollectionEvent(this,t.CollectionEvent.COLLECTION_CHANGE,t.CollectionEventKind.REMOVE,r,-1,[i.name])},i.prototype.commitProperties=function(){e.prototype.commitProperties.call(this),this.proposedSelectedIndex!=t.ListBase.NO_PROPOSED_SELECTION&&(this.commitSelection(this.proposedSelectedIndex),this.proposedSelectedIndex=t.ListBase.NO_PROPOSED_SELECTION)},i.prototype.commitSelection=function(t){t>=0&&t<this.numChildren?(this._selectedIndex=t,this._selectedChild&&this.showOrHide(this._selectedChild,!1),this._selectedChild=this.getElementAt(this._selectedIndex),this.showOrHide(this._selectedChild,!0)):(this._selectedChild=null,this._selectedIndex=-1),this.invalidateSize(),this.invalidateDisplayList()},i.prototype.showOrHide=function(t,e){egret.is(t,"eui.UIComponent")&&(t.includeInLayout=e),t.visible=e},Object.defineProperty(i.prototype,"length",{get:function(){return this.$children.length},enumerable:!0,configurable:!0}),i.prototype.getItemAt=function(t){var e=this.$children[t];return e?e.name:""},i.prototype.getItemIndex=function(t){for(var e=this.$children,i=e.length,r=0;i>r;r++)if(e[r].name==t)return r;return-1},i}(t.Group);t.ViewStack=e,__reflect(e.prototype,"eui.ViewStack",["eui.ICollection","egret.IEventDispatcher"]),t.registerBindable(e.prototype,"selectedIndex")}(eui||(eui={}));var eui;!function(t){var e;!function(t){function e(t){return-.5*(Math.cos(Math.PI*t)-1)}var i=function(){function t(t,i){this.easerFunction=e,this.isPlaying=!1,this.duration=500,this.currentValue=0,this.from=0,this.to=0,this.startTime=0,this.endFunction=null,this.updateFunction=t,this.thisObject=i}return t.prototype.play=function(){this.stop(),this.start()},t.prototype.start=function(){this.isPlaying=!1,this.currentValue=0,this.startTime=egret.getTimer(),this.doInterval(this.startTime),egret.startTick(this.doInterval,this)},t.prototype.stop=function(){this.isPlaying=!1,this.startTime=0,egret.stopTick(this.doInterval,this)},t.prototype.doInterval=function(t){var e=t-this.startTime;this.isPlaying||(this.isPlaying=!0);var i=this.duration,r=0==i?1:Math.min(e,i)/i;this.easerFunction&&(r=this.easerFunction(r)),this.currentValue=this.from+(this.to-this.from)*r,this.updateFunction&&this.updateFunction.call(this.thisObject,this);var n=e>=i;return n&&this.stop(),n&&this.endFunction&&this.endFunction.call(this.thisObject,this),!0},t}();t.Animation=i,__reflect(i.prototype,"eui.sys.Animation")}(e=t.sys||(t.sys={}))}(eui||(eui={}));var eui;!function(t){var e=function(){function t(){}return t.prototype.getTheme=function(t,e,i,r){function n(t){var i=t.target;e.call(r,i.response)}function o(t){i.call(r)}var s=new egret.HttpRequest;s.addEventListener(egret.Event.COMPLETE,n,r),s.addEventListener(egret.IOErrorEvent.IO_ERROR,o,r),s.responseType=egret.HttpResponseType.TEXT,s.open(t),s.send()},t}();t.DefaultThemeAdapter=e,__reflect(e.prototype,"eui.DefaultThemeAdapter",["eui.IThemeAdapter"])}(eui||(eui={}));var eui;!function(t){function e(t,i){var r=Object.getOwnPropertyDescriptor(t,i);if(r)return r;var n=Object.getPrototypeOf(t);return n?e(n,i):null}function i(t,e){for(var i=t[r],n=i.length,o=0;n>o;o+=2){var s=i[o],a=i[o+1];s.call(a,e)}}var r="__listeners__",n="__bindables__",o=0,s=function(){function s(t,e,i,r){this.isExecuting=!1,this.property=t,this.handler=e,this.next=r,this.thisObject=i}return s.watch=function(t,e,i,r){if(e||egret.$error(1003,"chain"),e.length>0){var n=e.shift(),o=s.watch(null,e,i,r),a=new s(n,i,r,o);return a.reset(t),a}return null},s.checkBindable=function(s,a){var h=s[n];if(h&&-1!=h.indexOf(a))return!0;var u=egret.is(s,"egret.IEventDispatcher");u||s[r]||(s[r]=[]);var l=e(s,a);if(l&&l.set&&l.get){var c=l.set;l.set=function(e){this[a]!=e&&(c.call(this,e),u?t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,a):i(this,a))}}else{if(l&&(l.get||l.set))return!1;o++;var p="_"+o+a;s[p]=l?l.value:null,l={enumerable:!0,configurable:!0},l.get=function(){return this[p]},l.set=function(e){this[p]!=e&&(this[p]=e,u?t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,a):i(this,a))}}Object.defineProperty(s,a,l),t.registerBindable(s,a)},s.prototype.unwatch=function(){this.reset(null),this.handler=null,this.next&&(this.next.handler=null)},s.prototype.getValue=function(){return this.next?this.next.getValue():this.getHostPropertyValue()},s.prototype.setHandler=function(t,e){this.handler=t,this.thisObject=e,this.next&&this.next.setHandler(t,e)},s.prototype.reset=function(e){var i=this.host;if(i)if(egret.is(i,"egret.IEventDispatcher"))i.removeEventListener(t.PropertyEvent.PROPERTY_CHANGE,this.wrapHandler,this);else{var n=i[r],o=n.indexOf(this);n.splice(o-1,2)}if(this.host=e,e)if(s.checkBindable(e,this.property),egret.is(e,"egret.IEventDispatcher"))e.addEventListener(t.PropertyEvent.PROPERTY_CHANGE,this.wrapHandler,this,!1,100);else{var n=e[r];n.push(this.onPropertyChange),n.push(this)}this.next&&this.next.reset(this.getHostPropertyValue())},s.prototype.getHostPropertyValue=function(){return this.host?this.host[this.property]:null},s.prototype.wrapHandler=function(t){this.onPropertyChange(t.property)},s.prototype.onPropertyChange=function(t){if(t==this.property&&!this.isExecuting)try{this.isExecuting=!0,this.next&&this.next.reset(this.getHostPropertyValue()),this.handler.call(this.thisObject,this.getValue())}finally{this.isExecuting=!1}},s}();t.Watcher=s,__reflect(s.prototype,"eui.Watcher")}(eui||(eui={}));var eui;!function(t){function e(e){for(var i=e[0],r=i instanceof t.Watcher?i.getValue():i,n=e.length,o=1;n>o;o++){var s=e[o];s instanceof t.Watcher&&(s=s.getValue()),r+=s}return r}var i=function(){function i(){}return i.bindProperty=function(e,i,r,n){var o=t.Watcher.watch(e,i,null,null);if(o){var s=function(t){r[n]=t};o.setHandler(s,null),s(o.getValue())}return o},i.bindHandler=function(e,i,r,n){var o=t.Watcher.watch(e,i,r,n);return o&&r.call(n,o.getValue()),o},i.$bindProperties=function(r,n,o,s,a){if(1==n.length&&1==o.length)return i.bindProperty(r,n[0].split("."),s,a);for(var h,u=function(){s[a]=e(n)},l=o.length,c=0;l>c;c++){var p=o[c],d=n[p].split(".");h=t.Watcher.watch(r,d,null,null),h&&(n[p]=h,h.setHandler(u,null))}return u(),h},i}();t.Binding=i,__reflect(i.prototype,"eui.Binding")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(t){var i=e.call(this)||this;return t?i._source=t:i._source=[],i}return __extends(i,e),Object.defineProperty(i.prototype,"source",{get:function(){return this._source},set:function(e){e||(e=[]),this._source=e,this.dispatchCoEvent(t.CollectionEventKind.RESET)},enumerable:!0,configurable:!0}),i.prototype.refresh=function(){this.dispatchCoEvent(t.CollectionEventKind.REFRESH)},Object.defineProperty(i.prototype,"length",{get:function(){return this._source.length},enumerable:!0,configurable:!0}),i.prototype.addItem=function(e){this._source.push(e),this.dispatchCoEvent(t.CollectionEventKind.ADD,this._source.length-1,-1,[e])},i.prototype.addItemAt=function(e,i){(0>i||i>this._source.length)&&egret.$error(1007),this._source.splice(i,0,e),this.dispatchCoEvent(t.CollectionEventKind.ADD,i,-1,[e])},i.prototype.getItemAt=function(t){return this._source[t]},i.prototype.getItemIndex=function(t){for(var e=this._source.length,i=0;e>i;i++)if(this._source[i]===t)return i;return-1},i.prototype.itemUpdated=function(e){var i=this.getItemIndex(e);-1!=i&&this.dispatchCoEvent(t.CollectionEventKind.UPDATE,i,-1,[e])},i.prototype.removeAll=function(){var e=this._source.concat();this._source=[],this.dispatchCoEvent(t.CollectionEventKind.REMOVE,0,-1,e)},i.prototype.removeItemAt=function(e){if(0>e||e>=this._source.length)return void egret.$error(1007);var i=this._source.splice(e,1)[0];return this.dispatchCoEvent(t.CollectionEventKind.REMOVE,e,-1,[i]),i},i.prototype.replaceItemAt=function(e,i){if(0>i||i>=this._source.length)return void egret.$error(1007);var r=this._source.splice(i,1,e)[0];return this.dispatchCoEvent(t.CollectionEventKind.REPLACE,i,-1,[e],[r]),r},i.prototype.replaceAll=function(t){t||(t=[]);for(var e=t.length,i=this._source.length,r=e;i>r;r++)this.removeItemAt(e);for(var r=0;e>r;r++)r>=i?this.addItemAt(t[r],r):this.replaceItemAt(t[r],r);this._source=t},i.prototype.dispatchCoEvent=function(e,i,r,n,o){t.CollectionEvent.dispatchCollectionEvent(this,t.CollectionEvent.COLLECTION_CHANGE,e,i,r,n,o)},i}(egret.EventDispatcher);t.ArrayCollection=e,__reflect(e.prototype,"eui.ArrayCollection",["eui.ICollection","egret.IEventDispatcher"]),t.registerProperty(e,"source","Array",!0)}(eui||(eui={}));var eui;!function(t){var e=t.sys.UIComponentImpl,i=function(i){function r(){var t=i.call(this)||this;return t._widthConstraint=0/0,t.$isShowPrompt=!1,t.$promptColor=6710886,t.$isFocusIn=!1,t.initializeUIValues(),t.type=egret.TextFieldType.INPUT,t.$EditableText={0:null,1:16777215,2:!1},t}return __extends(r,i),r.prototype.$invalidateTextField=function(){i.prototype.$invalidateTextField.call(this),this.invalidateSize()},r.prototype.$setWidth=function(t){var r=i.prototype.$setWidth.call(this,t),n=e.prototype.$setWidth.call(this,t);return r&&n},r.prototype.$setHeight=function(t){var r=i.prototype.$setHeight.call(this,t),n=e.prototype.$setHeight.call(this,t);return r&&n},r.prototype.$getText=function(){var t=i.prototype.$getText.call(this);return t==this.$EditableText[0]&&(t=""),t},r.prototype.$setText=function(e){var r=this.$EditableText[0];(r!=e||null==r)&&(this.$isShowPrompt=!1,this.textColor=this.$EditableText[1],this.displayAsPassword=this.$EditableText[2]),this.$isFocusIn||(""==e||null==e)&&(e=r,this.$isShowPrompt=!0,i.prototype.$setTextColor.call(this,this.$promptColor),i.prototype.$setDisplayAsPassword.call(this,!1));var n=i.prototype.$setText.call(this,e);return t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"text"),n},r.prototype.$onAddToStage=function(e,i){t.sys.UIComponentImpl.prototype.$onAddToStage.call(this,e,i),this.addEventListener(egret.FocusEvent.FOCUS_IN,this.onfocusIn,this),this.addEventListener(egret.FocusEvent.FOCUS_OUT,this.onfocusOut,this)},r.prototype.$onRemoveFromStage=function(){i.prototype.$onRemoveFromStage.call(this),this.removeEventListener(egret.FocusEvent.FOCUS_IN,this.onfocusIn,this),this.removeEventListener(egret.FocusEvent.FOCUS_OUT,this.onfocusOut,this)},Object.defineProperty(r.prototype,"prompt",{get:function(){return this.$EditableText[0]},set:function(t){var e=this.$EditableText,i=e[0];if(i!=t){e[0]=t;var r=this.text;r&&r!=i||this.showPromptText()}},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"promptColor",{get:function(){return this.$promptColor},set:function(t){if(t=0|+t,this.$promptColor!=t){this.$promptColor=t;var e=this.text;e&&e!=this.$EditableText[0]||this.showPromptText()}},enumerable:!0,configurable:!0}),r.prototype.onfocusOut=function(){this.$isFocusIn=!1,this.text||this.showPromptText()},r.prototype.onfocusIn=function(){this.$isFocusIn=!0,this.$isShowPrompt=!1,this.displayAsPassword=this.$EditableText[2];var t=this.$EditableText,e=this.text;e&&e!=t[0]||(this.textColor=t[1],this.text="")},r.prototype.showPromptText=function(){var t=this.$EditableText;this.$isShowPrompt=!0,i.prototype.$setTextColor.call(this,this.$promptColor),i.prototype.$setDisplayAsPassword.call(this,!1),this.text=t[0]},r.prototype.$setTextColor=function(t){return t=0|+t,this.$EditableText[1]=t,this.$isShowPrompt||i.prototype.$setTextColor.call(this,t),!0},r.prototype.$setDisplayAsPassword=function(t){return this.$EditableText[2]=t,this.$isShowPrompt||i.prototype.$setDisplayAsPassword.call(this,t),!0},r.prototype.createChildren=function(){this.onfocusOut()},r.prototype.childrenCreated=function(){},r.prototype.commitProperties=function(){},r.prototype.measure=function(){var t=this.$UIComponent,e=this.$TextField,r=e[3],n=0/0;isNaN(this._widthConstraint)?isNaN(t[8])?1e5!=t[13]&&(n=t[13]):n=t[8]:(n=this._widthConstraint,this._widthConstraint=0/0),i.prototype.$setWidth.call(this,n),this.setMeasuredSize(this.textWidth,this.textHeight),i.prototype.$setWidth.call(this,r)},r.prototype.updateDisplayList=function(t,e){i.prototype.$setWidth.call(this,t),i.prototype.$setHeight.call(this,e)
},r.prototype.invalidateParentLayout=function(){},r.prototype.setMeasuredSize=function(t,e){},r.prototype.invalidateProperties=function(){},r.prototype.validateProperties=function(){},r.prototype.invalidateSize=function(){},r.prototype.validateSize=function(t){},r.prototype.invalidateDisplayList=function(){},r.prototype.validateDisplayList=function(){},r.prototype.validateNow=function(){},r.prototype.setLayoutBoundsSize=function(t,i){if(e.prototype.setLayoutBoundsSize.call(this,t,i),!isNaN(t)&&t!==this._widthConstraint&&0!=t){var r=this.$UIComponent;isNaN(r[9])&&t!=r[16]&&(this._widthConstraint=t,this.invalidateSize())}},r.prototype.setLayoutBoundsPosition=function(t,e){},r.prototype.getLayoutBounds=function(t){},r.prototype.getPreferredBounds=function(t){},r}(egret.TextField);t.EditableText=i,__reflect(i.prototype,"eui.EditableText",["eui.UIComponent","egret.DisplayObject","eui.IDisplayText"]),t.sys.implementUIComponent(i,egret.TextField),t.registerBindable(i.prototype,"text")}(eui||(eui={}));var eui;!function(t){var e;!function(t){function e(t){var e=t-1;return e*e*e+1}var i=4,r=[1,1.33,1.66,2],n=2.33,o=.02,s=.998,a=.95,h=Math.log(s),u=function(){function u(i,r,n){this.$scrollFactor=1,this.previousTime=0,this.velocity=0,this.previousVelocity=[],this.currentPosition=0,this.previousPosition=0,this.currentScrollPos=0,this.maxScrollPos=0,this.offsetPoint=0,this.$bounces=!0,this.started=!0,i||egret.$error(1003,"updateFunction"),this.updateFunction=i,this.endFunction=r,this.target=n,this.animation=new t.Animation(this.onScrollingUpdate,this),this.animation.endFunction=this.finishScrolling,this.animation.easerFunction=e}return u.prototype.isPlaying=function(){return this.animation.isPlaying},u.prototype.stop=function(){this.animation.stop(),egret.stopTick(this.onTick,this),this.started=!1},u.prototype.isStarted=function(){return this.started},u.prototype.start=function(t){this.started=!0,this.velocity=0,this.previousVelocity.length=0,this.previousTime=egret.getTimer(),this.previousPosition=this.currentPosition=t,this.offsetPoint=t,egret.startTick(this.onTick,this)},u.prototype.update=function(t,e,i){e=Math.max(e,0),this.currentPosition=t,this.maxScrollPos=e;var r=this.offsetPoint-t,n=r+i;this.offsetPoint=t,0>n&&(this.$bounces?n-=.5*r:n=0),n>e&&(this.$bounces?n-=.5*r:n=e),this.currentScrollPos=n,this.updateFunction.call(this.target,n)},u.prototype.finish=function(t,e){egret.stopTick(this.onTick,this),this.started=!1;for(var i=this.velocity*n,u=this.previousVelocity,l=u.length,c=n,p=0;l>p;p++){var d=r[p];i+=u[0]*d,c+=d}var f=i/c,g=Math.abs(f),v=0,y=0;if(g>o)if(y=t+(f-o)/h*2*this.$scrollFactor,0>y||y>e)for(y=t;Math.abs(f)>o;)y-=f,f*=0>y||y>e?s*a:s,v++;else v=Math.log(o/g)/h;else y=t;if(this.target.$getThrowInfo){var m=this.target.$getThrowInfo(t,y);y=m.toPos}v>0?(this.$bounces||(0>y?y=0:y>e&&(y=e)),this.throwTo(y,v)):this.finishScrolling()},u.prototype.onTick=function(t){var e=t-this.previousTime;if(e>10){var r=this.previousVelocity;r.length>=i&&r.shift(),this.velocity=(this.currentPosition-this.previousPosition)/e,r.push(this.velocity),this.previousTime=t,this.previousPosition=this.currentPosition}return!0},u.prototype.finishScrolling=function(t){var e=this.currentScrollPos,i=this.maxScrollPos,r=e;0>e&&(r=0),e>i&&(r=i),this.throwTo(r,300)},u.prototype.throwTo=function(t,e){void 0===e&&(e=500);var i=this.currentScrollPos;if(i==t)return void this.endFunction.call(this.target);var r=this.animation;r.duration=e,r.from=i,r.to=t,r.play()},u.prototype.onScrollingUpdate=function(t){this.currentScrollPos=t.currentValue,this.updateFunction.call(this.target,t.currentValue)},u}();t.TouchScroll=u,__reflect(u.prototype,"eui.sys.TouchScroll")}(e=t.sys||(t.sys={}))}(eui||(eui={}));var eui;!function(t){var e=function(){function t(){}return t.LTR="ltr",t.RTL="rtl",t.TTB="ttb",t.BTT="btt",t}();t.Direction=e,__reflect(e.prototype,"eui.Direction")}(eui||(eui={}));var eui;!function(t){var e=function(){function t(){}return t.AUTO="auto",t.OFF="off",t.ON="on",t}();t.ScrollPolicy=e,__reflect(e.prototype,"eui.ScrollPolicy")}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(t,i){var r=e.call(this)||this;return r.delayList=[],r.skinMap={},r.$styles={},r.initialized=!t,i&&egret.registerImplementation("eui.Theme",r),r.$configURL=t,r.load(t),r}return __extends(i,e),i.prototype.load=function(e){var i=this;t.getTheme(e,function(t){return i.onConfigLoaded(t)})},i.prototype.onConfigLoaded=function(t){var e;if("string"==typeof t)try{e=JSON.parse(t)}catch(i){egret.$error(3e3)}else e=t;if(e&&e.skins)for(var r=this.skinMap,n=e.skins,o=Object.keys(n),s=o.length,a=0;s>a;a++){var h=o[a];r[h]||this.mapSkin(h,n[h])}e.styles&&(this.$styles=e.styles);var u=e.paths;for(var l in u)EXML.update(l,u[l]);e.exmls&&0!=e.exmls.length?e.exmls[0].gjs?(e.exmls.forEach(function(t){return EXML.$parseURLContentAsJs(t.path,t.gjs,t.className)}),this.onLoaded()):e.exmls[0].content?(e.exmls.forEach(function(t){return EXML.$parseURLContent(t.path,t.content)}),this.onLoaded()):EXML.$loadAll(e.exmls,this.onLoaded,this,!0):this.onLoaded()},i.prototype.onLoaded=function(t,e){this.initialized=!0,this.handleDelayList(),this.dispatchEventWith(egret.Event.COMPLETE)},i.prototype.handleDelayList=function(){for(var t=this.delayList,e=t.length,i=0;e>i;i++){var r=t[i];if(!r.$Component[5]){var n=this.getSkinName(r);n&&(r.$Component[1]=n,r.$parseSkinName())}}t.length=0},i.prototype.getSkinName=function(t){if(!this.initialized)return-1==this.delayList.indexOf(t)&&this.delayList.push(t),"";var e=this.skinMap,i=e[t.hostComponentKey];return i||(i=this.findSkinName(t)),i},i.prototype.findSkinName=function(t){if(!t)return"";var e=t.__class__;if(void 0===e)return"";var i=this.skinMap[e];return i||"eui.Component"==e?i:this.findSkinName(Object.getPrototypeOf(t))},i.prototype.mapSkin=function(t,e){t||egret.$error(1003,"hostComponentKey"),e||egret.$error(1003,"skinName"),this.skinMap[t]=e},i.prototype.$getStyleConfig=function(t){return this.$styles[t]},i}(egret.EventDispatcher);t.Theme=e,__reflect(e.prototype,"eui.Theme")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(e,i,r,n,o,s,a,h){var u=t.call(this,e,i,r)||this;return u.$initTo(n,o,s,a,h),u}return __extends(e,t),e.prototype.$initTo=function(t,e,i,r,n){this.kind=t,this.location=0|+e,this.oldLocation=0|+i,this.items=r||[],this.oldItems=n||[]},e.prototype.clean=function(){t.prototype.clean.call(this),this.items=this.oldItems=null},e.dispatchCollectionEvent=function(t,i,r,n,o,s,a){if(!t.hasEventListener(i))return!0;var h=egret.Event.create(e,i);h.$initTo(r,n,o,s,a);var u=t.dispatchEvent(h);return egret.Event.release(h),u},e.COLLECTION_CHANGE="collectionChange",e}(egret.Event);t.CollectionEvent=e,__reflect(e.prototype,"eui.CollectionEvent")}(eui||(eui={}));var eui;!function(t){var e=function(){function t(){}return t.ADD="add",t.REFRESH="refresh",t.REMOVE="remove",t.REPLACE="replace",t.RESET="reset",t.UPDATE="update",t}();t.CollectionEventKind=e,__reflect(e.prototype,"eui.CollectionEventKind")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.item=null,e.itemRenderer=null,e.itemIndex=-1,e}return __extends(e,t),e.prototype.clean=function(){t.prototype.clean.call(this),this.item=this.itemRenderer=null},e.dispatchItemTapEvent=function(t,i,r){if(!t.hasEventListener(i))return!0;var n=egret.Event.create(e,i);n.item=r.data,n.itemIndex=r.itemIndex,n.itemRenderer=r;var o=t.dispatchEvent(n);return egret.Event.release(n),o},e.ITEM_TAP="itemTap",e}(egret.Event);t.ItemTapEvent=e,__reflect(e.prototype,"eui.ItemTapEvent")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(e,i,r,n){var o=t.call(this,e,i,r)||this;return o.property=n,o}return __extends(e,t),e.dispatchPropertyEvent=function(t,i,r){if(!t.hasEventListener(i))return!0;var n=egret.Event.create(e,i);n.property=r;var o=t.dispatchEvent(n);return egret.Event.release(n),o},e.PROPERTY_CHANGE="propertyChange",e}(egret.Event);t.PropertyEvent=e,__reflect(e.prototype,"eui.PropertyEvent")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(e,i,r,n,o){var s=t.call(this,e,i,r)||this;return n=+n,o=+o,s.currentPos=n,s.toPos=o,s}return __extends(e,t),e.THROW="throw",e}(egret.Event);t.ScrollerThrowEvent=e,__reflect(e.prototype,"eui.ScrollerThrowEvent")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(e,i,r){return t.call(this,e,i,r)||this}return __extends(e,t),e.dispatchUIEvent=function(t,i,r,n){if(!t.hasEventListener(i))return!0;var o=egret.Event.create(e,i,r,n),s=t.dispatchEvent(o);return egret.Event.release(o),s},e.CREATION_COMPLETE="creationComplete",e.CHANGE_END="changeEnd",e.CHANGE_START="changeStart",e.CLOSING="closing",e.MOVE="move",e}(egret.Event);t.UIEvent=e,__reflect(e.prototype,"eui.UIEvent")}(eui||(eui={}));var eui;!function(t){var e;!function(t){var e="eui.State",i="eui.AddItems",r="eui.SetProperty",n="eui.SetStateProperty",o="eui.Binding.$bindProperties",s=function(){function t(){this.indent=0}return t.prototype.toCode=function(){return""},t.prototype.getIndent=function(t){void 0===t&&(t=this.indent);for(var e="",i=0;t>i;i++)e+="	";return e},t}();t.CodeBase=s,__reflect(s.prototype,"eui.sys.CodeBase");var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.className="",e.superClass="",e.innerClassBlock=[],e.variableBlock=[],e.functionBlock=[],e}return __extends(e,t),e.prototype.addInnerClass=function(t){-1==this.innerClassBlock.indexOf(t)&&this.innerClassBlock.push(t)},e.prototype.addVariable=function(t){-1==this.variableBlock.indexOf(t)&&this.variableBlock.push(t)},e.prototype.getVariableByName=function(t){for(var e=this.variableBlock,i=e.length,r=0;i>r;r++){var n=e[r];if(n.name==t)return n}return null},e.prototype.addFunction=function(t){-1==this.functionBlock.indexOf(t)&&this.functionBlock.push(t)},e.prototype.getFuncByName=function(t){for(var e=this.functionBlock,i=e.length,r=0;i>r;r++){var n=e[r];if(n.name==t)return n}return null},e.prototype.toCode=function(){var t=this.indent,e=this.getIndent(t),i=this.getIndent(t+1),r=this.getIndent(t+2),n=e+"(function (";n+=this.superClass?"_super) {\n"+i+"__extends("+this.className+", _super);\n":") {\n";for(var o=this.innerClassBlock,s=o.length,a=0;s>a;a++){var h=o[a];h.indent=t+1,n+=i+"var "+h.className+" = "+h.toCode()+"\n\n"}n+=i+"function "+this.className+"() {\n",this.superClass&&(n+=r+"_super.call(this);\n");var u=this.variableBlock;s=u.length;for(var a=0;s>a;a++){var l=u[a];l.defaultValue&&(n+=r+l.toCode()+"\n")}if(this.constructCode){var c=this.constructCode.toCode().split("\n");s=c.length;for(var a=0;s>a;a++){var p=c[a];n+=r+p+"\n"}}n+=i+"}\n",n+=i+"var _proto = "+this.className+".prototype;\n\n";var d=this.functionBlock;s=d.length;for(var a=0;s>a;a++){var f=d[a];f.indent=t+1,n+=f.toCode()+"\n"}return n+=i+"return "+this.className+";\n"+e,n+=this.superClass?"})("+this.superClass+");":"})();"},e}(s);t.EXClass=a,__reflect(a.prototype,"eui.sys.EXClass");var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lines=[],e}return __extends(e,t),e.prototype.addVar=function(t,e){var i=e?" = "+e:"";this.addCodeLine("var "+t+i+";")},e.prototype.addAssignment=function(t,e,i){var r=i?"."+i:"";this.addCodeLine(t+r+" = "+e+";")},e.prototype.addReturn=function(t){this.addCodeLine("return "+t+";")},e.prototype.addEmptyLine=function(){this.addCodeLine("")},e.prototype.startIf=function(t){this.addCodeLine("if("+t+")"),this.startBlock()},e.prototype.startElse=function(){this.addCodeLine("else"),this.startBlock()},e.prototype.startElseIf=function(t){this.addCodeLine("else if("+t+")"),this.startBlock()},e.prototype.startBlock=function(){this.addCodeLine("{"),this.indent++},e.prototype.endBlock=function(){this.indent--,this.addCodeLine("}")},e.prototype.doFunction=function(t,e){var i=e.join(",");this.addCodeLine(t+"("+i+")")},e.prototype.addCodeLine=function(t){this.lines.push(this.getIndent()+t)},e.prototype.addCodeLineAt=function(t,e){this.lines.splice(e,0,this.getIndent()+t)},e.prototype.containsCodeLine=function(t){return-1!=this.lines.indexOf(t)},e.prototype.concat=function(t){this.lines=this.lines.concat(t.lines)},e.prototype.toCode=function(){return this.lines.join("\n")},e}(s);t.EXCodeBlock=h,__reflect(h.prototype,"eui.sys.EXCodeBlock");var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.codeBlock=null,e.isGet=!1,e.name="",e}return __extends(e,t),e.prototype.toCode=function(){var t,e=this.getIndent(),i=this.getIndent(this.indent+1),r=e;if(this.isGet?(t=this.getIndent(this.indent+2),r+='Object.defineProperty(_proto, "skinParts", {\n',r+=i+"get: function () {\n"):(t=i,r+="_proto."+this.name+" = function () {\n"),this.codeBlock)for(var n=this.codeBlock.toCode().split("\n"),o=n.length,s=0;o>s;s++){var a=n[s];r+=t+a+"\n"}return r+=this.isGet?i+"},\n"+i+"enumerable: true,\n"+i+"configurable: true\n"+e+"});":e+"};"},e}(s);t.EXFunction=u,__reflect(u.prototype,"eui.sys.EXFunction");var l=function(t){function e(e,i){var r=t.call(this)||this;return r.indent=2,r.name=e,r.defaultValue=i,r}return __extends(e,t),e.prototype.toCode=function(){return this.defaultValue?"this."+this.name+" = "+this.defaultValue+";":""},e}(s);t.EXVariable=l,__reflect(l.prototype,"eui.sys.EXVariable");var c=function(t){function i(e,i){var r=t.call(this)||this;return r.name="",r.stateGroups=[],r.addItems=[],r.setProperty=[],r.name=e,i&&(r.stateGroups=i),r}return __extends(i,t),i.prototype.addOverride=function(t){t instanceof p?this.addItems.push(t):this.setProperty.push(t)},i.prototype.toCode=function(){for(var t=this.getIndent(1),i="new "+e+' ("'+this.name+'",\n'+t+"[\n",r=0,n=!0,o=this.addItems.concat(this.setProperty);r<o.length;){n?n=!1:i+=",\n";for(var s=o[r],a=s.toCode().split("\n"),h=a.length,u=0;h>u;u++){var l=a[u];a[u]=t+t+l}i+=a.join("\n"),r++}return i+="\n"+t+"])"},i}(s);t.EXState=c,__reflect(c.prototype,"eui.sys.EXState");var p=function(t){function e(e,i,r,n){var o=t.call(this)||this;return o.target=e,o.property=i,o.position=r,o.relativeTo=n,o}return __extends(e,t),e.prototype.toCode=function(){var t="new "+i+'("'+this.target+'","'+this.property+'",'+this.position+',"'+this.relativeTo+'")';return t},e}(s);t.EXAddItems=p,__reflect(p.prototype,"eui.sys.EXAddItems");var d=function(t){function e(e,i,r){var n=t.call(this)||this;return n.target=e,n.name=i,n.value=r,n}return __extends(e,t),e.prototype.toCode=function(){return"new "+r+'("'+this.target+'","'+this.name+'",'+this.value+")"},e}(s);t.EXSetProperty=d,__reflect(d.prototype,"eui.sys.EXSetProperty");var f=function(t){function e(e,i,r,n){var o=t.call(this)||this;return e=e?"this."+e:"this",o.target=e,o.property=i,o.templates=r,o.chainIndex=n,o}return __extends(e,t),e.prototype.toCode=function(){var t=this.templates.join(","),e=this.chainIndex.join(",");return"new "+n+"(this, ["+t+"],["+e+"],"+this.target+',"'+this.property+'")'},e}(s);t.EXSetStateProperty=f,__reflect(f.prototype,"eui.sys.EXSetStateProperty");var g=function(t){function e(e,i,r,n){var o=t.call(this)||this;return o.target=e,o.property=i,o.templates=r,o.chainIndex=n,o}return __extends(e,t),e.prototype.toCode=function(){var t=this.templates.join(","),e=this.chainIndex.join(",");return o+"(this, ["+t+"],["+e+"],"+this.target+',"'+this.property+'")'},e}(s);t.EXBinding=g,__reflect(g.prototype,"eui.sys.EXBinding")}(e=t.sys||(t.sys={}))}(eui||(eui={}));var eui;!function(t){var e=t.sys.UIComponentImpl,i=function(i){function r(t){var e=i.call(this)||this;return e.$createChildrenCalled=!1,e.$fontChanged=!1,e._widthConstraint=0/0,e._heightConstraint=0/0,e.initializeUIValues(),e.text=t,e}return __extends(r,i),r.prototype.$invalidateContentBounds=function(){i.prototype.$invalidateContentBounds.call(this),this.invalidateSize()},r.prototype.$setWidth=function(t){var r=i.prototype.$setWidth.call(this,t),n=e.prototype.$setWidth.call(this,t);return r&&n},r.prototype.$setHeight=function(t){var r=i.prototype.$setHeight.call(this,t),n=e.prototype.$setHeight.call(this,t);return r&&n},r.prototype.$setText=function(e){var r=i.prototype.$setText.call(this,e);return t.PropertyEvent.dispatchPropertyEvent(this,t.PropertyEvent.PROPERTY_CHANGE,"text"),r},r.prototype.$setFont=function(t){return this.$fontForBitmapLabel==t?!1:(this.$fontForBitmapLabel=t,this.$createChildrenCalled?this.$parseFont():this.$fontChanged=!0,this.$fontStringChanged=!0,!0)},r.prototype.$parseFont=function(){var e=this;this.$fontChanged=!1;var i=this.$fontForBitmapLabel;"string"==typeof i?t.getAssets(i,function(t){e.$setFontData(t,i)}):this.$setFontData(i)},r.prototype.$setFontData=function(t,e){return e&&e!=this.$fontForBitmapLabel?void 0:t==this.$font?!1:(this.$font=t,this.$invalidateContentBounds(),!0)},r.prototype.createChildren=function(){this.$fontChanged&&this.$parseFont(),this.$createChildrenCalled=!0},r.prototype.childrenCreated=function(){},r.prototype.commitProperties=function(){},r.prototype.measure=function(){var t=this.$UIComponent,e=this.$textFieldWidth,r=this.$textFieldHeight,n=0/0;isNaN(this._widthConstraint)?isNaN(t[8])?1e5!=t[13]&&(n=t[13]):n=t[8]:(n=this._widthConstraint,this._widthConstraint=0/0),i.prototype.$setWidth.call(this,n);var o=0/0;isNaN(this._heightConstraint)?isNaN(t[9])?1e5!=t[15]&&(o=t[15]):o=t[9]:(o=this._heightConstraint,this._heightConstraint=0/0),i.prototype.$setHeight.call(this,o),this.setMeasuredSize(this.textWidth,this.textHeight),i.prototype.$setWidth.call(this,e),i.prototype.$setHeight.call(this,r)},r.prototype.updateDisplayList=function(t,e){i.prototype.$setWidth.call(this,t),i.prototype.$setHeight.call(this,e)},r.prototype.invalidateParentLayout=function(){},r.prototype.setMeasuredSize=function(t,e){},r.prototype.invalidateProperties=function(){},r.prototype.validateProperties=function(){},r.prototype.invalidateSize=function(){},r.prototype.validateSize=function(t){},r.prototype.invalidateDisplayList=function(){},r.prototype.validateDisplayList=function(){},r.prototype.validateNow=function(){},r.prototype.setLayoutBoundsSize=function(t,i){if(e.prototype.setLayoutBoundsSize.call(this,t,i),!isNaN(t)&&t!==this._widthConstraint&&0!=t){var r=this.$UIComponent;isNaN(r[9])&&t!=r[16]&&(this._widthConstraint=t,this._heightConstraint=i,this.invalidateSize())}},r.prototype.setLayoutBoundsPosition=function(t,e){},r.prototype.getLayoutBounds=function(t){},r.prototype.getPreferredBounds=function(t){},r}(egret.BitmapText);t.BitmapLabel=i,__reflect(i.prototype,"eui.BitmapLabel",["eui.UIComponent","egret.DisplayObject","eui.IDisplayText"]),t.sys.implementUIComponent(i,egret.BitmapText),t.registerBindable(i.prototype,"text")}(eui||(eui={}));var EXML;!function(t){function e(t){return u.parse(t)}function i(t,e,i,r){if(void 0===r&&(r=!1),t||egret.$error(1003,"url"),r&&t in c)return void(e&&e.call(i,c[t],t));var n=l[t];return n?void n.push([e,i]):(l[t]=[[e,i]],void h(t,a))}function r(t,e,i,r){if(void 0===r&&(r=!1),!t||0==t.length)return void(e&&e.call(i,[],t));var o=[];t.forEach(function(s){var a=function(r,s){o[r]=s,o.push(r),o.length==t.length&&n(t,o,e,i)};return r&&s in c?void a(s,""):void h(s,a)})}function n(t,e,i,r){var n=[];t.forEach(function(t,i){if(t in c&&!e[t])return void(n[i]=c[t]);var r=e[t],o=a(t,r);n[i]=o}),i&&i.call(r,n,t)}function o(t,e){c[t]=e;var i=l[t];delete l[t];for(var r=i?i.length:0,n=0;r>n;n++){var o=i[n];o[0]&&o[1]&&o[0].call(o[1],e,t)}}function s(t,e,i){var r=null;e&&(r=u.$parseCode(e,i),o(t,r))}function a(t,i){var r=null;if(i&&"string"==typeof i)try{r=e(i)}catch(n){console.error(t+"\n"+n.message)}if(i&&i.prototype&&(r=i),t){r&&(c[t]=r);var o=l[t];delete l[t];for(var s=o?o.length:0,a=0;s>a;a++){var h=o[a];h[0]&&h[1]&&h[0].call(h[1],r,t)}}return r}function h(t,e){var i=t;-1==t.indexOf("://")&&(i=p+t);var r=function(i){i||(i=""),e(t,i)};eui.getTheme(i,r)}var u=new eui.sys.EXMLParser,l={},c={},p="";Object.defineProperty(t,"prefixURL",{get:function(){return p},set:function(t){p=t},enumerable:!0,configurable:!0}),t.parse=e,t.load=i,t.$loadAll=r,t.update=o,t.$parseURLContentAsJs=s,t.$parseURLContent=a}(EXML||(EXML={}));var eui;!function(t){var e;!function(t){function e(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){var e=egret.getDefinitionByName(t);return e?e.prototype:null}function r(t){if(!t)return null;var e;try{e=new t}catch(i){return egret.error(i),null}return e}t.NS_S="http://ns.egret.com/eui",t.NS_W="http://ns.egret.com/wing";var n=["Point","Matrix","Rectangle"],o=["Array","boolean","string","number"],s="eui.",a=0,h={},u=function(){function u(){}return u.prototype.$describe=function(t){if(!t)return null;var i=Object.getPrototypeOf(t);if(!i)return null;var n;if(i.hasOwnProperty("__hashCode__")&&(n=h[i.__hashCode__]))return n;var s=Object.getPrototypeOf(i);if(!s)return null;var u=r(s.constructor),l=this.$describe(u);if(l){var c=function(){};c.prototype=l,n=new c}else n={};n.__class__=i.constructor.name;for(var p=Object.keys(i).concat(Object.keys(t)),d=p.length,f=t.__meta__,g=0;d>g;g++){var v=p[g];if("constructor"!=v&&"_"!=v.charAt(0)&&"$"!=v.charAt(0)){var y=void 0;if(f&&f[v])y=f[v];else if(e(t[v]))y="Array";else{if(y=typeof t[v],"function"==y)continue;-1==o.indexOf(y)&&(y="any")}n[v]=y}}return Object.getPrototypeOf(s)&&(i.__hashCode__=a++,h[i.__hashCode__]=n),n},u.prototype.getClassNameById=function(e,r){if(r==t.NS_S){if("Object"==e)return e;if(-1!=n.indexOf(e))return"egret."+e}var a="";return-1!=o.indexOf(e)?e:(r==t.NS_W||(a=r&&r!=t.NS_S?r.substring(0,r.length-1)+e:s+e),i(a)||(a=""),a)},u.prototype.getDefaultPropById=function(t,e){var r,n=this.getClassNameById(t,e),o=i(n);return o&&(r=o.__defaultProperty__),r?r:""},u.prototype.getPropertyType=function(t,e){if("Object"==e)return"any";var n="",o=i(e);if(o){if(!o.hasOwnProperty("__hashCode__")){var s=egret.getDefinitionByName(e),a=r(s);if(!a)return egret.$warn(2104,e),n;this.$describe(a)}var u=h[o.__hashCode__];u&&(n=u[t])}return n},u}();t.EXMLConfig=u,__reflect(u.prototype,"eui.sys.EXMLConfig")}(e=t.sys||(t.sys={}))}(eui||(eui={}));var eui;!function(t){egret.$locale_strings=egret.$locale_strings||{},egret.$locale_strings.en_US=egret.$locale_strings.en_US||{};var e=egret.$locale_strings.en_US;e[2001]="EXML parsing error {0}: EXML file can't be found ",e[2002]="EXML parsing error : invalid XML file:\n{0}",e[2003]="EXML parsing error {0}: the class definitions corresponding to nodes can't be found  \n {1}",e[2004]="EXML parsing error {0}: nodes cannot contain id property with the same name \n {1}",e[2005]="EXML parsing error {0}: property with the name of '{1}' does not exist on the node, or the property does not have a default value: \n {2}",e[2006]="EXML parsing error {0}: undefined view state name: '{1}' \n {2}",e[2007]="EXML parsing error {0}: only UIComponent objects within the container can use the includeIn and excludeFrom properties\n {1}",e[2008]="EXML parsing error {0}: fail to assign values of '{1}' class to property: '{2}' \n {3}",e[2009]="EXML parsing error {0}: only one ID can be referenced in the node property value '{}' label; and complex expression is not allowed to use \n {1}",e[2010]="EXML parsing error {0}: ID referenced by property: '{1}':  '{2}' does not exist \n {3}",e[2011]="EXML parsing error {0}: fail to assign more than one child nodes to the same property: '{1}' \n {2}",e[2012]="EXML parsing error {0}: no default property exists on the node; and you must explicitly declare the property name that the child node  is assigned to \n {1}",e[2013]="EXML parsing error {0}: view state grammar is not allowed to use on property nodes of Array class \n {1} ",e[2014]="EXML parsing error {0}: assigning the skin class itself to the node property is not allowed \n {1}",e[2015]="EXML parsing error {0}: class definition referenced by node: {1} does not exist \n {2}",e[2016]="EXML parsing error {0}: format error of 'scale9Grid' property value on the node: {1}",e[2017]="EXML parsing error {0}: namespace prefix missing on the node: {1}",e[2018]="EXML parsing error {0}: format error of 'skinName' property value on the node: {1}",e[2019]="EXML parsing error {0}: the container’s child item must be visible nodes: {1}",e[2020]="EXML parsing error {0}: for child nodes in w: Declarations, the includeIn and excludeFrom properties are not allowed to use \n {1}",e[2021]="Compile errors in {0}, the attribute name: {1}, the attribute value: {2}.",e[2022]="EXML parsing error: there contains illegal characters in the id `{0}`",e[2101]="EXML parsing warnning : fail to register the class property : {0},there is already a class with the same name in the global,please try to rename the class name for the exml. \n {1}",e[2102]="EXML parsing warnning {0}: no child node can be found on the property code \n {1}",e[2103]="EXML parsing warnning {0}: the same property '{1}' on the node is assigned multiple times \n {2}",e[2104]="EXML parsing warnning, Instantiate class {0} error，the parameters of its constructor method must be empty.",e[2201]="BasicLayout doesn't support virtualization.",e[2202]="parse skinName error，the parsing result of skinName must be a instance of eui.Skin.",e[2203]="Could not find the skin class '{0}'。",e[2301]="parse source failed，could not find asset from URL：{0} ."}(eui||(eui={}));var eui;!function(t){egret.$locale_strings=egret.$locale_strings||{},egret.$locale_strings.zh_CN=egret.$locale_strings.zh_CN||{};var e=egret.$locale_strings.zh_CN;e[2001]="EXML解析错误 {0}: 找不到EXML文件",e[2002]="EXML解析错误: 不是有效的XML文件:\n{0}",e[2003]="EXML解析错误 {0}: 无法找到节点所对应的类定义\n{1}",e[2004]="EXML解析错误 {0}: 节点不能含有同名的id属性\n{1}",e[2005]="EXML解析错误 {0}: 节点上不存在名为'{1}'的属性，或者该属性没有初始值:\n{2}",e[2006]="EXML解析错误 {0}: 未定义的视图状态名称:'{1}'\n{2}",e[2007]="EXML解析错误 {0}: 只有处于容器内的 UIComponent 对象可以使用includeIn和excludeFrom属性\n{1}",e[2008]="EXML解析错误 {0}: 无法将'{1}'类型的值赋给属性:'{2}'\n{3}",e[2009]="EXML解析错误 {0}: 在节点属性值的‘{}’标签内只能引用一个ID，不允许使用复杂表达式\n{1}",e[2010]="EXML解析错误 {0}: 属性:'{1}'所引用的ID: '{2}'不存在\n{3}",e[2011]="EXML解析错误 {0}: 无法将多个子节点赋值给同一个属性:'{1}'\n{2}",e[2012]="EXML解析错误 {0}: 节点上不存在默认属性，必须显式声明子节点要赋值到的属性名\n{1}",e[2013]="EXML解析错误 {0}: 类型为Array的属性节点上不允许使用视图状态语法\n{1}",e[2014]="EXML解析错误 {0}: 不允许将皮肤类自身赋值给节点属性\n{1}",e[2015]="EXML解析错误 {0}: 节点引用的类定义:{1}不存在\n{2}",e[2016]="EXML解析错误 {0}: 节点上'scale9Grid'属性值的格式错误:{1}",e[2017]="EXML解析错误 {0}: 节点上缺少命名空间前缀:{1}",e[2018]="EXML解析错误 {0}: 节点上'skinName'属性值的格式错误:{1}",e[2019]="EXML解析错误 {0}: 容器的子项必须是可视节点:{1}",e[2020]="EXML解析错误 {0}: 在w:Declarations内的子节点，不允许使用includeIn和excludeFrom属性\n{1}",e[2021]="{0} 中存在编译错误，属性名 : {1}，属性值 : {2}",e[2022]="EXML解析错误: id `{0}` 中含有非法字符",e[2101]="EXML解析警告: 在EXML根节点上声明的 class 属性: {0} 注册失败，所对应的类已经存在，请尝试重命名要注册的类名。\n{1}",e[2102]="EXML解析警告 {0}: 在属性节点上找不到任何子节点\n{1}",e[2103]="EXML解析警告 {0}: 节点上的同一个属性'{1}'被多次赋值\n{2}",e[2104]="EXML解析警告，无法直接实例化自定义组件：{0} ，在EXML中使用的自定义组件必须要能直接被实例化，否则可能导致后续EXML解析报错。",e[2201]="BasicLayout 不支持虚拟化。",e[2202]="皮肤解析出错，属性 skinName 的值必须要能够解析为一个 eui.Skin 的实例。",e[2203]="找不到指定的皮肤类 '{0}'。",e[2301]="素材解析失败，找不到URL：{0} 所对应的资源。"}(eui||(eui={}));var eui;!function(t){var e=function(e){function i(){return e.call(this)||this}return __extends(i,e),i.prototype.measure=function(){e.prototype.measure.call(this),t.sys.measure(this.$target)},i.prototype.updateDisplayList=function(i,r){e.prototype.updateDisplayList.call(this,i,r);var n=this.$target,o=t.sys.updateDisplayList(n,i,r);n.setContentSize(Math.ceil(o.x),Math.ceil(o.y))},i}(t.LayoutBase);t.BasicLayout=e,__reflect(e.prototype,"eui.BasicLayout"),Object.defineProperty(e.prototype,"useVirtualLayout",{get:function(){return this.$useVirtualLayout},set:function(t){egret.$error(2201)},enumerable:!0,configurable:!0})}(eui||(eui={})),function(t){var e;!function(t){function e(t,e){if(!t||"number"==typeof t)return t;var i=t,r=i.indexOf("%");if(-1==r)return+i;var n=+i.substring(0,r);return.01*n*e}function i(t){if(t){for(var e=0,i=0,r=egret.$TempRectangle,o=t.numChildren,s=0;o>s;s++){var a=t.getChildAt(s);if(egret.is(a,n)&&a.$includeInLayout){var h=a.$UIComponent,u=+h[4],l=+h[5],c=+h[0],p=+h[1],d=+h[2],f=+h[3],g=void 0,v=void 0;a.getPreferredBounds(r),isNaN(c)||isNaN(p)?isNaN(u)?isNaN(c)&&isNaN(p)?g=r.x:(g=isNaN(c)?0:c,g+=isNaN(p)?0:p):g=2*Math.abs(u):g=c+p,isNaN(d)||isNaN(f)?isNaN(l)?isNaN(d)&&isNaN(f)?v=r.y:(v=isNaN(d)?0:d,v+=isNaN(f)?0:f):v=2*Math.abs(l):v=d+f;var y=r.width,m=r.height;e=Math.ceil(Math.max(e,g+y)),i=Math.ceil(Math.max(i,v+m))}}t.setMeasuredSize(e,i)}}function r(t,i,r){if(t){for(var o=t.numChildren,s=0,a=0,h=egret.$TempRectangle,u=0;o>u;u++){var l=t.getChildAt(u);if(egret.is(l,n)&&l.$includeInLayout){var c=l.$UIComponent,p=e(c[4],.5*i),d=e(c[5],.5*r),f=e(c[0],i),g=e(c[1],i),v=e(c[2],r),y=e(c[3],r),m=c[6],_=c[7],b=0/0,$=0/0;isNaN(f)||isNaN(g)?isNaN(m)||(b=Math.round(i*Math.min(.01*m,1))):b=i-g-f,isNaN(v)||isNaN(y)?isNaN(_)||($=Math.round(r*Math.min(.01*_,1))):$=r-y-v,l.setLayoutBoundsSize(b,$),l.getLayoutBounds(h);var x=h.width,E=h.height,T=0/0,w=0/0;T=isNaN(p)?isNaN(f)?isNaN(g)?h.x:i-x-g:f:Math.round((i-x)/2+p),w=isNaN(d)?isNaN(v)?isNaN(y)?h.y:r-E-y:v:Math.round((r-E)/2+d),l.setLayoutBoundsPosition(T,w),s=Math.max(s,T+x),a=Math.max(a,w+E)}}return egret.$TempPoint.setTo(s,a)}}var n="eui.UIComponent";t.measure=i,t.updateDisplayList=r}(e=t.sys||(t.sys={}))}(eui||(eui={}));var eui;!function(t){var e=function(){function t(){}return t.LEFT="left",t.JUSTIFY_USING_GAP="justifyUsingGap",t.JUSTIFY_USING_WIDTH="justifyUsingWidth",t}();t.ColumnAlign=e,__reflect(e.prototype,"eui.ColumnAlign")}(eui||(eui={}));var eui;!function(t){var e="eui.UIComponent",i=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.measureReal=function(){for(var t=this.$target,i=t.numElements,r=i,n=0,o=0,s=egret.$TempRectangle,a=0;i>a;a++){var h=t.getElementAt(a);egret.is(h,e)&&h.$includeInLayout?(h.getPreferredBounds(s),n+=s.width,o=Math.max(o,s.height)):r--}n+=(r-1)*this.$gap;var u=this.$paddingLeft+this.$paddingRight,l=this.$paddingTop+this.$paddingBottom;t.setMeasuredSize(n+u,o+l)},r.prototype.measureVirtual=function(){for(var t=this.$target,i=this.$typicalWidth,r=this.getElementTotalSize(),n=Math.max(this.maxElementSize,this.$typicalHeight),o=egret.$TempRectangle,s=this.endIndex,a=this.elementSizeTable,h=this.startIndex;s>h;h++){var u=t.getElementAt(h);egret.is(u,e)&&u.$includeInLayout&&(u.getPreferredBounds(o),r+=o.width,r-=isNaN(a[h])?i:a[h],n=Math.max(n,o.height))}var l=this.$paddingLeft+this.$paddingRight,c=this.$paddingTop+this.$paddingBottom;t.setMeasuredSize(r+l,n+c)},r.prototype.updateDisplayListReal=function(i,r){var n=this.$target,o=this.$paddingLeft,s=this.$paddingRight,a=this.$paddingTop,h=this.$paddingBottom,u=this.$gap,l=Math.max(0,i-o-s),c=Math.max(0,r-a-h),p=this.$horizontalAlign==t.JustifyAlign.JUSTIFY,d=this.$verticalAlign==t.JustifyAlign.JUSTIFY||this.$verticalAlign==t.JustifyAlign.CONTENT_JUSTIFY,f=0;d||(this.$verticalAlign==egret.VerticalAlign.MIDDLE?f=.5:this.$verticalAlign==egret.VerticalAlign.BOTTOM&&(f=1));var g,v,y,m=n.numElements,_=m,b=o,$=a,x=0,E=0,T=[],w=l,S=this.maxElementSize,C=egret.$TempRectangle;for(g=0;m>g;g++){var P=n.getElementAt(g);if(egret.is(P,e)&&P.$includeInLayout)if(P.getPreferredBounds(C),S=Math.max(S,C.height),p)x+=C.width;else{var k=P.$UIComponent;isNaN(k[6])?w-=C.width:(E+=k[6],y=new t.sys.ChildInfo,y.layoutElement=P,y.percent=k[6],y.min=k[12],y.max=k[13],T.push(y))}else _--}w-=u*(_-1),w=w>0?w:0;var O,I=l-x-u*(_-1),D=_,R={};if(p){if(0>I){for(O=w/_,g=0;m>g;g++)v=n.getElementAt(g),egret.is(v,e)&&v.$includeInLayout&&(v.getPreferredBounds(C),C.width<=O&&(w-=C.width,D--));w=w>0?w:0}}else if(E>0){this.flexChildrenProportionally(l,w,E,T);var L=0,A=T.length;for(g=0;A>g;g++){y=T[g];var N=Math.round(y.size+L);L+=y.size-N,R[y.layoutElement.$hashCode]=N,w-=N}w=w>0?w:0}this.$horizontalAlign==egret.HorizontalAlign.CENTER?b=o+.5*w:this.$horizontalAlign==egret.HorizontalAlign.RIGHT&&(b=o+w);var B=o,M=a,F=0,z=0,j=Math.ceil(c);this.$verticalAlign==t.JustifyAlign.CONTENT_JUSTIFY&&(j=Math.ceil(Math.max(c,S)));var U,H,W=0;for(g=0;m>g;g++){var V=0;if(v=n.getElementAt(g),egret.is(v,e)&&v.$includeInLayout){if(v.getPreferredBounds(C),U=0/0,p?(H=0/0,I>0?H=w*C.width/x:0>I&&C.width>O&&(H=w/D),isNaN(H)||(U=Math.round(H+W),W+=H-U)):U=R[v.$hashCode],d)$=a,v.setLayoutBoundsSize(U,j),v.getLayoutBounds(C);
else{var G=0/0,k=v.$UIComponent;if(!isNaN(v.percentHeight)){var X=Math.min(100,k[7]);G=Math.round(c*X*.01)}v.setLayoutBoundsSize(U,G),v.getLayoutBounds(C),V=(c-C.height)*f,V=V>0?V:0,$=a+V}v.setLayoutBoundsPosition(Math.round(b),Math.round($)),F=Math.ceil(C.width),z=Math.ceil(C.height),B=Math.max(B,b+F),M=Math.max(M,$+z),b+=F+u}}this.maxElementSize=S,n.setContentSize(B+s,M+h)},r.prototype.updateDisplayListVirtual=function(i,r){var n=this.$target;this.indexInViewCalculated?this.indexInViewCalculated=!1:this.getIndexInView();var o,s=this.$paddingRight,a=this.$paddingTop,h=this.$paddingBottom,u=this.$gap,l=n.numElements;if(-1==this.startIndex||-1==this.endIndex)return o=this.getStartPosition(l)-u+s,void n.setContentSize(o,n.contentHeight);var c=this.endIndex;n.setVirtualElementIndicesInView(this.startIndex,c);var p=this.$verticalAlign==t.JustifyAlign.JUSTIFY||this.$verticalAlign==t.JustifyAlign.CONTENT_JUSTIFY,d=this.$verticalAlign==t.JustifyAlign.CONTENT_JUSTIFY,f=0;p||(this.$verticalAlign==egret.VerticalAlign.MIDDLE?f=.5:this.$verticalAlign==egret.VerticalAlign.BOTTOM&&(f=1));var g,v=egret.$TempRectangle,y=Math.max(0,r-a-h),m=Math.ceil(y),_=this.$typicalHeight,b=this.$typicalWidth,$=this.maxElementSize,x=Math.max(_,this.maxElementSize);if(d){for(var E=this.startIndex;c>=E;E++)g=n.getVirtualElementAt(E),egret.is(g,e)&&g.$includeInLayout&&(g.getPreferredBounds(v),$=Math.max($,v.height));m=Math.ceil(Math.max(y,$))}for(var T,w=0,S=0,C=0,P=!1,k=this.elementSizeTable,O=this.startIndex;c>=O;O++){var I=0;g=n.getVirtualElementAt(O),egret.is(g,e)&&g.$includeInLayout&&(g.getPreferredBounds(v),d||($=Math.max($,v.height)),p?(S=a,g.setLayoutBoundsSize(0/0,m),g.getLayoutBounds(v)):(g.getLayoutBounds(v),I=(y-v.height)*f,I=I>0?I:0,S=a+I),C=Math.max(C,v.height),P||(T=isNaN(k[O])?b:k[O],T!=v.width&&(P=!0)),k[O]=v.width,w=this.getStartPosition(O),g.setLayoutBoundsPosition(Math.round(w),Math.round(S)))}C+=a+h,o=this.getStartPosition(l)-u+s,this.maxElementSize=$,n.setContentSize(o,C),(P||x<this.maxElementSize)&&n.invalidateSize()},r.prototype.getStartPosition=function(t){if(!this.$useVirtualLayout&&this.$target){var e=this.$target.getElementAt(t);if(e)return e.x}for(var i=this.$typicalWidth,r=this.$paddingLeft,n=this.$gap,o=this.elementSizeTable,s=0;t>s;s++){var a=o[s];isNaN(a)&&(a=i),r+=a+n}return r},r.prototype.getElementSize=function(t){if(this.$useVirtualLayout){var e=this.elementSizeTable[t];return isNaN(e)&&(e=this.$typicalWidth),e}return this.$target?this.$target.getElementAt(t).width:0},r.prototype.getElementTotalSize=function(){for(var t=this.$typicalWidth,e=this.$gap,i=0,r=this.$target.numElements,n=this.elementSizeTable,o=0;r>o;o++){var s=n[o];isNaN(s)&&(s=t),i+=s+e}return i-=e},r.prototype.elementAdded=function(t){this.useVirtualLayout&&(i.prototype.elementAdded.call(this,t),this.elementSizeTable.splice(t,0,this.$typicalWidth))},r.prototype.getIndexInView=function(){var t=this.$target;if(!t||0==t.numElements)return this.startIndex=this.endIndex=-1,!1;var e=t.$UIComponent;if(e[10]<=0||e[11]<=0)return this.startIndex=this.endIndex=-1,!1;var i=t.numElements,r=this.getStartPosition(i-1)+this.elementSizeTable[i-1]+this.$paddingRight,n=t.scrollH;if(n>r-this.$paddingRight)return this.startIndex=-1,this.endIndex=-1,!1;var o=t.scrollH+e[10];if(o<this.$paddingLeft)return this.startIndex=-1,this.endIndex=-1,!1;var s=this.startIndex,a=this.endIndex;return this.startIndex=this.findIndexAt(n,0,i-1),-1==this.startIndex&&(this.startIndex=0),this.endIndex=this.findIndexAt(o,0,i-1),-1==this.endIndex&&(this.endIndex=i-1),s!=this.startIndex||a!=this.endIndex},r}(t.LinearLayoutBase);t.HorizontalLayout=i,__reflect(i.prototype,"eui.HorizontalLayout")}(eui||(eui={}));var eui;!function(t){var e=function(){function t(){}return t.JUSTIFY="justify",t.CONTENT_JUSTIFY="contentJustify",t}();t.JustifyAlign=e,__reflect(e.prototype,"eui.JustifyAlign")}(eui||(eui={}));var eui;!function(t){var e=function(){function t(){}return t.TOP="top",t.JUSTIFY_USING_GAP="justifyUsingGap",t.JUSTIFY_USING_HEIGHT="justifyUsingHeight",t}();t.RowAlign=e,__reflect(e.prototype,"eui.RowAlign")}(eui||(eui={}));var eui;!function(t){var e="eui.UIComponent",i=function(i){function r(){var e=i.call(this)||this;return e.explicitHorizontalGap=0/0,e._horizontalGap=6,e.explicitVerticalGap=0/0,e._verticalGap=6,e._columnCount=-1,e._requestedColumnCount=0,e._rowCount=-1,e._requestedRowCount=0,e.explicitColumnWidth=0/0,e._columnWidth=0/0,e.explicitRowHeight=0/0,e._rowHeight=0/0,e._paddingLeft=0,e._paddingRight=0,e._paddingTop=0,e._paddingBottom=0,e._horizontalAlign=t.JustifyAlign.JUSTIFY,e._verticalAlign=t.JustifyAlign.JUSTIFY,e._columnAlign=t.ColumnAlign.LEFT,e._rowAlign=t.RowAlign.TOP,e._orientation=t.TileOrientation.ROWS,e.maxElementWidth=0,e.maxElementHeight=0,e.startIndex=-1,e.endIndex=-1,e.indexInViewCalculated=!1,e}return __extends(r,i),Object.defineProperty(r.prototype,"horizontalGap",{get:function(){return this._horizontalGap},set:function(t){t=+t,t!==this._horizontalGap&&(this.explicitHorizontalGap=t,this._horizontalGap=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"verticalGap",{get:function(){return this._verticalGap},set:function(t){t=+t,t!==this._verticalGap&&(this.explicitVerticalGap=t,this._verticalGap=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"columnCount",{get:function(){return this._columnCount},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"requestedColumnCount",{get:function(){return this._requestedColumnCount},set:function(t){t=+t||0,this._requestedColumnCount!==t&&(this._requestedColumnCount=t,this._columnCount=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rowCount",{get:function(){return this._rowCount},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"requestedRowCount",{get:function(){return this._requestedRowCount},set:function(t){t=+t||0,this._requestedRowCount!=t&&(this._requestedRowCount=t,this._rowCount=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"columnWidth",{get:function(){return this._columnWidth},set:function(t){t=+t,t!==this._columnWidth&&(this.explicitColumnWidth=t,this._columnWidth=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rowHeight",{get:function(){return this._rowHeight},set:function(t){t=+t,t!==this._rowHeight&&(this.explicitRowHeight=t,this._rowHeight=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"paddingLeft",{get:function(){return this._paddingLeft},set:function(t){t=+t||0,this._paddingLeft!=t&&(this._paddingLeft=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"paddingRight",{get:function(){return this._paddingRight},set:function(t){t=+t||0,this._paddingRight!==t&&(this._paddingRight=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"paddingTop",{get:function(){return this._paddingTop},set:function(t){t=+t||0,this._paddingTop!=t&&(this._paddingTop=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"paddingBottom",{get:function(){return this._paddingBottom},set:function(t){t=+t||0,this._paddingBottom!==t&&(this._paddingBottom=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"horizontalAlign",{get:function(){return this._horizontalAlign},set:function(t){this._horizontalAlign!=t&&(this._horizontalAlign=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"verticalAlign",{get:function(){return this._verticalAlign},set:function(t){this._verticalAlign!=t&&(this._verticalAlign=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"columnAlign",{get:function(){return this._columnAlign},set:function(t){this._columnAlign!=t&&(this._columnAlign=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"rowAlign",{get:function(){return this._rowAlign},set:function(t){this._rowAlign!=t&&(this._rowAlign=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"orientation",{get:function(){return this._orientation},set:function(t){this._orientation!=t&&(this._orientation=t,this.invalidateTargetLayout())},enumerable:!0,configurable:!0}),r.prototype.invalidateTargetLayout=function(){var t=this.$target;t&&(t.invalidateSize(),t.invalidateDisplayList())},r.prototype.measure=function(){var t=this.$target;if(t){var e=this._columnCount,i=this._rowCount,r=this._columnWidth,n=this._rowHeight,o=0,s=0,a=t.$UIComponent;this.calculateRowAndColumn(a[8],a[9]);var h=this._requestedColumnCount>0?this._requestedColumnCount:this._columnCount,u=this._requestedRowCount>0?this._requestedRowCount:this._rowCount,l=isNaN(this._horizontalGap)?0:this._horizontalGap,c=isNaN(this._verticalGap)?0:this._verticalGap;h>0&&(o=h*(this._columnWidth+l)-l),u>0&&(s=u*(this._rowHeight+c)-c);var p=this._paddingLeft+this._paddingRight,d=this._paddingTop+this._paddingBottom;t.setMeasuredSize(o+p,s+d),this._columnCount=e,this._rowCount=i,this._columnWidth=r,this._rowHeight=n}},r.prototype.calculateRowAndColumn=function(i,r){var n=this.$target,o=isNaN(this._horizontalGap)?0:this._horizontalGap,s=isNaN(this._verticalGap)?0:this._verticalGap;this._rowCount=this._columnCount=-1;for(var a=n.numElements,h=a,u=0;h>u;u++){var l=n.getElementAt(u);!l||egret.is(l,e)&&l.$includeInLayout||a--}if(0==a)return void(this._rowCount=this._columnCount=0);(isNaN(this.explicitColumnWidth)||isNaN(this.explicitRowHeight))&&this.updateMaxElementSize(),isNaN(this.explicitColumnWidth)?this._columnWidth=this.maxElementWidth:this._columnWidth=this.explicitColumnWidth,isNaN(this.explicitRowHeight)?this._rowHeight=this.maxElementHeight:this._rowHeight=this.explicitRowHeight;var c=this._columnWidth+o;0>=c&&(c=1);var p=this._rowHeight+s;0>=p&&(p=1);var d=this._orientation==t.TileOrientation.COLUMNS,f=!isNaN(i),g=!isNaN(r),v=this._paddingLeft,y=this._paddingRight,m=this._paddingTop,_=this._paddingBottom;if(this._requestedColumnCount>0||this._requestedRowCount>0)this._requestedRowCount>0&&(this._rowCount=Math.min(this._requestedRowCount,a)),this._requestedColumnCount>0&&(this._columnCount=Math.min(this._requestedColumnCount,a));else if(f||g)if(!f||g&&d){var b=Math.max(0,r-m-_);this._rowCount=Math.floor((b+s)/p),this._rowCount=Math.max(1,Math.min(this._rowCount,a))}else{var $=Math.max(0,i-v-y);this._columnCount=Math.floor(($+o)/c),this._columnCount=Math.max(1,Math.min(this._columnCount,a))}else{var x=Math.sqrt(a*c*p);d?this._rowCount=Math.max(1,Math.round(x/p)):this._columnCount=Math.max(1,Math.round(x/c))}-1==this._rowCount&&(this._rowCount=Math.max(1,Math.ceil(a/this._columnCount))),-1==this._columnCount&&(this._columnCount=Math.max(1,Math.ceil(a/this._rowCount))),this._requestedColumnCount>0&&this._requestedRowCount>0&&(this._orientation==t.TileOrientation.ROWS?this._rowCount=Math.max(1,Math.ceil(a/this._requestedColumnCount)):this._columnCount=Math.max(1,Math.ceil(a/this._requestedRowCount)))},r.prototype.updateMaxElementSize=function(){this.$target&&(this.$useVirtualLayout?(this.maxElementWidth=Math.max(this.maxElementWidth,this.$typicalWidth),this.maxElementHeight=Math.max(this.maxElementHeight,this.$typicalHeight),this.doUpdateMaxElementSize(this.startIndex,this.endIndex)):this.doUpdateMaxElementSize(0,this.$target.numElements-1))},r.prototype.doUpdateMaxElementSize=function(t,i){var r=this.maxElementWidth,n=this.maxElementHeight,o=egret.$TempRectangle,s=this.$target;if(-1!=t&&-1!=i)for(var a=t;i>=a;a++){var h=s.getVirtualElementAt(a);egret.is(h,e)&&h.$includeInLayout&&(h.getPreferredBounds(o),r=Math.max(r,o.width),n=Math.max(n,o.height))}this.maxElementWidth=r,this.maxElementHeight=n},r.prototype.clearVirtualLayoutCache=function(){i.prototype.clearVirtualLayoutCache.call(this),this.maxElementWidth=0,this.maxElementHeight=0},r.prototype.scrollPositionChanged=function(){if(this.$useVirtualLayout){var t=this.getIndexInView();t&&(this.indexInViewCalculated=!0,this.$target.invalidateDisplayList())}},r.prototype.getIndexInView=function(){if(!this.$target||0==this.$target.numElements)return this.startIndex=this.endIndex=-1,!1;var e=this.$target,i=e.numElements;if(!this.$useVirtualLayout)return this.startIndex=0,this.endIndex=i-1,!1;var r=e.$UIComponent;if(0==r[10]||0==r[11])return this.startIndex=this.endIndex=-1,!1;var n=this.startIndex,o=this.endIndex,s=this._paddingLeft,a=this._paddingTop,h=isNaN(this._horizontalGap)?0:this._horizontalGap,u=isNaN(this._verticalGap)?0:this._verticalGap;if(this._orientation==t.TileOrientation.COLUMNS){var l=this._columnWidth+h;if(0>=l)return this.startIndex=0,this.endIndex=i-1,!1;var c=e.scrollH,p=c+r[10],d=Math.floor((c-s)/l);0>d&&(d=0);var f=Math.ceil((p-s)/l);0>f&&(f=0),this.startIndex=Math.min(i-1,Math.max(0,d*this._rowCount)),this.endIndex=Math.min(i-1,Math.max(0,f*this._rowCount-1))}else{var g=this._rowHeight+u;if(0>=g)return this.startIndex=0,this.endIndex=i-1,!1;var v=e.scrollV,y=v+r[11],m=Math.floor((v-a)/g);0>m&&(m=0);var _=Math.ceil((y-a)/g);0>_&&(_=0),this.startIndex=Math.min(i-1,Math.max(0,m*this._columnCount)),this.endIndex=Math.min(i-1,Math.max(0,_*this._columnCount-1))}return this.startIndex!=n||this.endIndex!=o},r.prototype.updateDisplayList=function(r,n){if(i.prototype.updateDisplayList.call(this,r,n),this.$target){var o=this.$target,s=this._paddingLeft,a=this._paddingRight,h=this._paddingTop,u=this._paddingBottom;if(this.indexInViewCalculated)this.indexInViewCalculated=!1;else{if(this.calculateRowAndColumn(r,n),0==this._rowCount||0==this._columnCount)return void o.setContentSize(s+a,h+u);this.adjustForJustify(r,n),this.getIndexInView()}if(this.$useVirtualLayout&&(this.calculateRowAndColumn(r,n),this.adjustForJustify(r,n)),-1==this.startIndex||-1==this.endIndex)return void o.setContentSize(0,0);var l=this.endIndex;o.setVirtualElementIndicesInView(this.startIndex,l);for(var c,p,d,f,g,v=this._orientation==t.TileOrientation.COLUMNS,y=this.startIndex,m=isNaN(this._horizontalGap)?0:this._horizontalGap,_=isNaN(this._verticalGap)?0:this._verticalGap,b=this._rowCount,$=this._columnCount,x=this._columnWidth,E=this._rowHeight,T=this.startIndex;l>=T;T++)if(c=this.$useVirtualLayout?this.target.getVirtualElementAt(T):this.target.getElementAt(T),egret.is(c,e)&&c.$includeInLayout){switch(v?(f=Math.ceil((y+1)/b)-1,g=Math.ceil((y+1)%b)-1,-1==g&&(g=b-1)):(f=Math.ceil((y+1)%$)-1,-1==f&&(f=$-1),g=Math.ceil((y+1)/$)-1),this._horizontalAlign){case egret.HorizontalAlign.RIGHT:p=r-(f+1)*(x+m)+m-a;break;case egret.HorizontalAlign.LEFT:p=f*(x+m)+s;break;default:p=f*(x+m)+s}switch(this._verticalAlign){case egret.VerticalAlign.TOP:d=g*(E+_)+h;break;case egret.VerticalAlign.BOTTOM:d=n-(g+1)*(E+_)+_-u;break;default:d=g*(E+_)+h}this.sizeAndPositionElement(c,p,d,x,E),y++}var w=s+a,S=h+u,C=(x+m)*$-m,P=(E+_)*b-_;o.setContentSize(C+w,P+S)}},r.prototype.sizeAndPositionElement=function(e,i,r,n,o){var s=0/0,a=0/0,h=e.$UIComponent;this._horizontalAlign==t.JustifyAlign.JUSTIFY?s=n:isNaN(h[6])||(s=n*h[6]*.01),this._verticalAlign==t.JustifyAlign.JUSTIFY?a=o:isNaN(h[7])||(a=o*h[7]*.01),e.setLayoutBoundsSize(Math.round(s),Math.round(a));var u=i,l=egret.$TempRectangle;switch(e.getLayoutBounds(l),this._horizontalAlign){case egret.HorizontalAlign.RIGHT:u+=n-l.width;break;case egret.HorizontalAlign.CENTER:u=i+(n-l.width)/2}var c=r;switch(this._verticalAlign){case egret.VerticalAlign.BOTTOM:c+=o-l.height;break;case egret.VerticalAlign.MIDDLE:c+=(o-l.height)/2}e.setLayoutBoundsPosition(Math.round(u),Math.round(c))},r.prototype.adjustForJustify=function(e,i){var r=this._paddingLeft,n=this._paddingRight,o=this._paddingTop,s=this._paddingBottom,a=Math.max(0,e-r-n),h=Math.max(0,i-o-s);isNaN(this.explicitVerticalGap)||(this._verticalGap=this.explicitVerticalGap),isNaN(this.explicitHorizontalGap)||(this._horizontalGap=this.explicitHorizontalGap),this._verticalGap=isNaN(this._verticalGap)?0:this._verticalGap,this._horizontalGap=isNaN(this._horizontalGap)?0:this._horizontalGap;var u,l=h-this._rowHeight*this._rowCount,c=a-this._columnWidth*this._columnCount;l>0&&(this._rowAlign==t.RowAlign.JUSTIFY_USING_GAP?(u=Math.max(1,this._rowCount-1),this._verticalGap=l/u):this._rowAlign==t.RowAlign.JUSTIFY_USING_HEIGHT&&this._rowCount>0&&(this._rowHeight+=(l-(this._rowCount-1)*this._verticalGap)/this._rowCount)),c>0&&(this._columnAlign==t.ColumnAlign.JUSTIFY_USING_GAP?(u=Math.max(1,this._columnCount-1),this._horizontalGap=c/u):this._columnAlign==t.ColumnAlign.JUSTIFY_USING_WIDTH&&this._columnCount>0&&(this._columnWidth+=(c-(this._columnCount-1)*this._horizontalGap)/this._columnCount))},r}(t.LayoutBase);t.TileLayout=i,__reflect(i.prototype,"eui.TileLayout")}(eui||(eui={}));var eui;!function(t){var e=function(){function t(){}return t.ROWS="rows",t.COLUMNS="columns",t}();t.TileOrientation=e,__reflect(e.prototype,"eui.TileOrientation")}(eui||(eui={}));var eui;!function(t){var e="eui.UIComponent",i=function(i){function r(){return null!==i&&i.apply(this,arguments)||this}return __extends(r,i),r.prototype.measureReal=function(){for(var t=this.$target,i=t.numElements,r=i,n=0,o=0,s=egret.$TempRectangle,a=0;i>a;a++){var h=t.getElementAt(a);egret.is(h,e)&&h.$includeInLayout?(h.getPreferredBounds(s),o+=s.height,n=Math.max(n,s.width)):r--}o+=(r-1)*this.$gap;var u=this.$paddingLeft+this.$paddingRight,l=this.$paddingTop+this.$paddingBottom;t.setMeasuredSize(n+u,o+l)},r.prototype.measureVirtual=function(){for(var t=this.$target,i=this.$typicalHeight,r=this.getElementTotalSize(),n=Math.max(this.maxElementSize,this.$typicalWidth),o=egret.$TempRectangle,s=this.endIndex,a=this.elementSizeTable,h=this.startIndex;s>h;h++){var u=t.getElementAt(h);egret.is(u,e)&&u.$includeInLayout&&(u.getPreferredBounds(o),r+=o.height,r-=isNaN(a[h])?i:a[h],n=Math.max(n,o.width))}var l=this.$paddingLeft+this.$paddingRight,c=this.$paddingTop+this.$paddingBottom;t.setMeasuredSize(n+l,r+c)},r.prototype.updateDisplayListReal=function(i,r){var n=this.$target,o=this.$paddingLeft,s=this.$paddingRight,a=this.$paddingTop,h=this.$paddingBottom,u=this.$gap,l=Math.max(0,i-o-s),c=Math.max(0,r-a-h),p=this.$verticalAlign==t.JustifyAlign.JUSTIFY,d=this.$horizontalAlign==t.JustifyAlign.JUSTIFY||this.$horizontalAlign==t.JustifyAlign.CONTENT_JUSTIFY,f=0;d||(this.$horizontalAlign==egret.HorizontalAlign.CENTER?f=.5:this.$horizontalAlign==egret.HorizontalAlign.RIGHT&&(f=1));var g,v,y,m=n.numElements,_=m,b=o,$=a,x=0,E=0,T=[],w=c,S=this.maxElementSize,C=egret.$TempRectangle;for(g=0;m>g;g++){var P=n.getElementAt(g);if(egret.is(P,e)&&P.$includeInLayout)if(P.getPreferredBounds(C),S=Math.max(S,C.width),p)x+=C.height;else{var k=P.$UIComponent;isNaN(k[7])?w-=C.height:(E+=k[7],y=new t.sys.ChildInfo,y.layoutElement=P,y.percent=k[7],y.min=k[14],y.max=k[15],T.push(y))}else _--}w-=u*(_-1),w=w>0?w:0;var O,I=c-x-u*(_-1),D=_,R={};if(p){if(0>I){for(O=w/_,g=0;m>g;g++)v=n.getElementAt(g),egret.is(v,e)&&v.$includeInLayout&&(v.getPreferredBounds(C),C.height<=O&&(w-=C.height,D--));w=w>0?w:0}}else if(E>0){this.flexChildrenProportionally(c,w,E,T);var L=0,A=T.length;for(g=0;A>g;g++){y=T[g];var N=Math.round(y.size+L);L+=y.size-N,R[y.layoutElement.$hashCode]=N,w-=N}w=w>0?w:0}this.$verticalAlign==egret.VerticalAlign.MIDDLE?$=a+.5*w:this.$verticalAlign==egret.VerticalAlign.BOTTOM&&($=a+w);var B=o,M=a,F=0,z=0,j=Math.ceil(l);this.$horizontalAlign==t.JustifyAlign.CONTENT_JUSTIFY&&(j=Math.ceil(Math.max(l,S)));var U,H,W=0;for(g=0;m>g;g++){var V=0;if(v=n.getElementAt(g),egret.is(v,e)&&v.$includeInLayout){if(v.getPreferredBounds(C),U=0/0,p?(H=0/0,I>0?H=w*C.height/x:0>I&&C.height>O&&(H=w/D),isNaN(H)||(U=Math.round(H+W),W+=H-U)):U=R[v.$hashCode],d)b=o,v.setLayoutBoundsSize(j,U),v.getLayoutBounds(C);else{var G=0/0,k=v.$UIComponent;if(!isNaN(k[6])){var X=Math.min(100,k[6]);G=Math.round(l*X*.01)}v.setLayoutBoundsSize(G,U),v.getLayoutBounds(C),V=(l-C.width)*f,V=V>0?V:0,b=o+V}v.setLayoutBoundsPosition(Math.round(b),Math.round($)),F=Math.ceil(C.width),z=Math.ceil(C.height),B=Math.max(B,b+F),M=Math.max(M,$+z),$+=z+u}}this.maxElementSize=S,n.setContentSize(B+s,M+h)},r.prototype.updateDisplayListVirtual=function(i,r){var n=this.$target;this.indexInViewCalculated?this.indexInViewCalculated=!1:this.getIndexInView();var o,s=this.$paddingBottom,a=this.$paddingLeft,h=this.$paddingRight,u=this.$gap,l=n.numElements;if(-1==this.startIndex||-1==this.endIndex)return o=this.getStartPosition(l)-u+s,void n.setContentSize(n.contentWidth,o);var c=this.endIndex;n.setVirtualElementIndicesInView(this.startIndex,c);var p=this.$horizontalAlign==t.JustifyAlign.JUSTIFY||this.$horizontalAlign==t.JustifyAlign.CONTENT_JUSTIFY,d=this.$horizontalAlign==t.JustifyAlign.CONTENT_JUSTIFY,f=0;p||(this.$horizontalAlign==egret.HorizontalAlign.CENTER?f=.5:this.$horizontalAlign==egret.HorizontalAlign.RIGHT&&(f=1));var g,v=egret.$TempRectangle,y=Math.max(0,i-a-h),m=Math.ceil(y),_=this.$typicalHeight,b=this.$typicalWidth,$=this.maxElementSize,x=Math.max(b,this.maxElementSize);if(d){for(var E=this.startIndex;c>=E;E++)g=n.getVirtualElementAt(E),egret.is(g,e)&&g.$includeInLayout&&(g.getPreferredBounds(v),$=Math.max($,v.width));m=Math.ceil(Math.max(y,$))}for(var T,w=0,S=0,C=0,P=!1,k=this.elementSizeTable,O=this.startIndex;c>=O;O++){var I=0;g=n.getVirtualElementAt(O),egret.is(g,e)&&g.$includeInLayout&&(g.getPreferredBounds(v),d||($=Math.max($,v.width)),p?(w=a,g.setLayoutBoundsSize(m,0/0),g.getLayoutBounds(v)):(g.getLayoutBounds(v),I=(y-v.width)*f,I=I>0?I:0,w=a+I),C=Math.max(C,v.width),P||(T=isNaN(k[O])?_:k[O],T!=v.height&&(P=!0)),k[O]=v.height,S=this.getStartPosition(O),g.setLayoutBoundsPosition(Math.round(w),Math.round(S)))}C+=a+h,o=this.getStartPosition(l)-u+s,this.maxElementSize=$,n.setContentSize(C,o),(P||x<this.maxElementSize)&&n.invalidateSize()},r.prototype.getStartPosition=function(t){if(!this.$useVirtualLayout&&this.$target){var e=this.$target.getElementAt(t);if(e)return e.y}for(var i=this.$typicalHeight,r=this.$paddingTop,n=this.$gap,o=this.elementSizeTable,s=0;t>s;s++){var a=o[s];isNaN(a)&&(a=i),r+=a+n}return r},r.prototype.getElementSize=function(t){if(this.$useVirtualLayout){var e=this.elementSizeTable[t];return isNaN(e)&&(e=this.$typicalHeight),e}return this.$target?this.$target.getElementAt(t).height:0},r.prototype.getElementTotalSize=function(){for(var t=this.$typicalHeight,e=this.$gap,i=0,r=this.$target.numElements,n=this.elementSizeTable,o=0;r>o;o++){var s=n[o];isNaN(s)&&(s=t),i+=s+e}return i-=e},r.prototype.elementAdded=function(t){this.$useVirtualLayout&&(i.prototype.elementAdded.call(this,t),this.elementSizeTable.splice(t,0,this.$typicalHeight))},r.prototype.getIndexInView=function(){var t=this.$target;if(!t||0==t.numElements)return this.startIndex=this.endIndex=-1,!1;var e=t.$UIComponent;if(0==e[10]||0==e[11])return this.startIndex=this.endIndex=-1,!1;var i=t.numElements,r=this.getStartPosition(i-1)+this.elementSizeTable[i-1]+this.$paddingBottom,n=t.scrollV;if(n>r-this.$paddingBottom)return this.startIndex=-1,this.endIndex=-1,!1;var o=t.scrollV+e[11];if(o<this.$paddingTop)return this.startIndex=-1,this.endIndex=-1,!1;var s=this.startIndex,a=this.endIndex;return this.startIndex=this.findIndexAt(n,0,i-1),-1==this.startIndex&&(this.startIndex=0),this.endIndex=this.findIndexAt(o,0,i-1),-1==this.endIndex&&(this.endIndex=i-1),s!=this.startIndex||a!=this.endIndex},r}(t.LinearLayoutBase);t.VerticalLayout=i,__reflect(i.prototype,"eui.VerticalLayout")}(eui||(eui={}));var eui;!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.updateDisplayList=function(e,i){t.prototype.updateDisplayList.call(this,e,i);var r=this.thumb,n=this.$viewport;if(r&&n){var o=egret.$TempRectangle;r.getPreferredBounds(o);var s=o.width,a=o.y,h=n.scrollH,u=n.contentWidth,l=n.width;if(0>=h){var c=s*(1- -h/(.5*l));c=Math.max(5,Math.round(c)),r.setLayoutBoundsSize(c,0/0),r.setLayoutBoundsPosition(0,a)}else if(h>=u-l){var c=s*(1-(h-u+l)/(.5*l));c=Math.max(5,Math.round(c)),r.setLayoutBoundsSize(c,0/0),r.setLayoutBoundsPosition(e-c,a)}else{var p=(e-s)*h/(u-l);r.setLayoutBoundsSize(0/0,0/0),r.setLayoutBoundsPosition(p,a)}}},e.prototype.onPropertyChanged=function(t){switch(t.property){case"scrollH":case"contentWidth":this.invalidateDisplayList()}},e}(t.ScrollBarBase);t.HScrollBar=e,__reflect(e.prototype,"eui.HScrollBar")}(eui||(eui={}));var eui;!function(t){var e=function(){function t(t,e,i,r){this.target=t,this.propertyName=e,this.position=i,this.relativeTo=r}return t.prototype.apply=function(t,e){var i,r=t[this.relativeTo],n=t[this.target],o=this.propertyName?t[this.propertyName]:e;if(n&&o){switch(this.position){case 0:i=0;break;case 1:i=-1;break;case 2:i=o.getChildIndex(r);break;case 3:i=o.getChildIndex(r)+1}-1==i&&(i=o.numChildren),egret.is(o,"eui.Component")&&o.$Component[8].$elementsContent.push(n),o.addChildAt(n,i)}},t.prototype.remove=function(t,e){var i=this.propertyName?t[this.propertyName]:e,r=t[this.target];if(r&&i&&(r.$parent===i&&i.removeChild(r),egret.is(i,"eui.Component"))){var n=i.$Component[8].$elementsContent,o=n.indexOf(r);o>-1&&n.splice(o,1)}},t}();t.AddItems=e,__reflect(e.prototype,"eui.AddItems",["eui.IOverride"])}(eui||(eui={}));var eui;!function(t){var e=function(){function t(t,e,i){this.target=t,this.name=e,this.value=i}return t.prototype.apply=function(t,e){var i=this.target?t[this.target]:t;i&&(this.oldValue=i[this.name],this.setPropertyValue(i,this.name,this.value,this.oldValue))},t.prototype.remove=function(t,e){var i=this.target?t[this.target]:t;i&&(this.setPropertyValue(i,this.name,this.oldValue,this.oldValue),this.oldValue=null)},t.prototype.setPropertyValue=function(t,e,i,r){void 0===i||null===i?t[e]=i:"number"==typeof r?t[e]=+i:"boolean"==typeof r?t[e]=this.toBoolean(i):t[e]=i},t.prototype.toBoolean=function(t){return"string"==typeof t?"true"==t.toLowerCase():0!=t},t}();t.SetProperty=e,__reflect(e.prototype,"eui.SetProperty",["eui.IOverride"])}(eui||(eui={}));var eui;!function(t){var e=function(){function e(t,e,i,r,n){this.host=t,this.templates=e,this.chainIndex=i,this.target=r,this.prop=n}return e.prototype.apply=function(e,i){if(this.target){var r=this.target[this.prop];this.oldValue&&this.setPropertyValue(this.target,this.prop,this.oldValue,this.oldValue),r&&(this.oldValue=r),t.Binding.$bindProperties(this.host,this.templates.concat(),this.chainIndex.concat(),this.target,this.prop)}},e.prototype.remove=function(t,e){if(this.target){var i=this.oldValue;this.target[this.prop]&&(this.oldValue=this.target[this.prop]),i&&this.setPropertyValue(this.target,this.prop,i,i)}},e.prototype.setPropertyValue=function(t,e,i,r){void 0===i||null===i?t[e]=i:"number"==typeof r?t[e]=+i:"boolean"==typeof r?t[e]=this.toBoolean(i):t[e]=i},e.prototype.toBoolean=function(t){return"string"==typeof t?"true"==t.toLowerCase():0!=t},e}();t.SetStateProperty=e,__reflect(e.prototype,"eui.SetStateProperty",["eui.IOverride"])}(eui||(eui={}));var eui;!function(t){var e;!function(t){function e(t,e,i,r,o,s,a,h,u,l){var c;if(!isNaN(i)&&isNaN(r)){if(c=n(t,e,i,s,i,h,i,l))return c}else if(isNaN(i)&&!isNaN(r)&&(c=n(t,e,o,r,a,r,u,r)))return c;return c=n(t,e,o,s,a,h,u,l)}function i(t,e,i,n,o,s,a,h,u,l){var c;if(!isNaN(i)&&isNaN(n)){if(c=r(t,e,i,s,i,h,i,l))return c}else if(isNaN(i)&&!isNaN(n)&&(c=r(t,e,o,n,a,n,u,n)))return c;return c=r(t,e,o,s,a,h,u,l)}function r(t,e,i,r,n,s,h,u){var l=e.b,c=e.d;if(l>-1e-9&&1e-9>l&&(l=0),c>-1e-9&&1e-9>c&&(c=0),0==l&&0==c)return null;if(0==l&&0==c)return null;if(0==l)return egret.Point.create(i,t/Math.abs(c));if(0==c)return egret.Point.create(t/Math.abs(l),r);var p,d,f,g=l*c>=0?c:-c;if(0!=g&&i>0){var v=1/g;i=Math.max(n,Math.min(h,i)),d=i,f=(t-l*d)*v,f>=s&&u>=f&&l*d+g*f>=0&&(p=egret.Point.create(d,f)),f=(-t-l*d)*v,f>=s&&u>=f&&0>l*d+g*f&&(!p||a(p.x,p.y,e).width>a(d,f,e).width)&&(egret.Point.release(p),p=egret.Point.create(d,f))}if(0!=l&&r>0){var y=1/l;r=Math.max(s,Math.min(u,r)),f=r,d=(t-g*f)*y,d>=n&&h>=d&&l*d+g*f>=0&&(!p||a(p.x,p.y,e).width>a(d,f,e).width)&&(p=egret.Point.create(d,f)),d=(-t-g*f)*y,d>=n&&h>=d&&0>l*d+g*f&&(!p||a(p.x,p.y,e).width>a(d,f,e).width)&&(egret.Point.release(p),p=egret.Point.create(d,f))}if(p)return p;var m=e.a,_=e.c,b=m*_>=0?_:-_;return o(l,g,t,n,s,h,u,m,b)}function n(t,e,i,r,n,s,h,u){var l=e.a,c=e.c;if(l>-1e-9&&1e-9>l&&(l=0),c>-1e-9&&1e-9>c&&(c=0),0==l&&0==c)return null;if(0==l)return egret.Point.create(i,t/Math.abs(c));if(0==c)return egret.Point.create(t/Math.abs(l),r);var p,d,f,g=l*c>=0?c:-c;if(0!=g&&i>0){var v=1/g;i=Math.max(n,Math.min(h,i)),d=i,f=(t-l*d)*v,f>=s&&u>=f&&l*d+g*f>=0&&(p=egret.Point.create(d,f)),f=(-t-l*d)*v,f>=s&&u>=f&&0>l*d+g*f&&(!p||a(p.x,p.y,e).height>a(d,f,e).height)&&(egret.Point.release(p),p=egret.Point.create(d,f))}if(0!=l&&r>0){var y=1/l;r=Math.max(s,Math.min(u,r)),f=r,d=(t-g*f)*y,d>=n&&h>=d&&l*d+g*f>=0&&(!p||a(p.x,p.y,e).height>a(d,f,e).height)&&(egret.Point.release(p),p=egret.Point.create(d,f)),d=(-t-g*f)*y,d>=n&&h>=d&&0>l*d+g*f&&(!p||a(p.x,p.y,e).height>a(d,f,e).height)&&(egret.Point.release(p),p=egret.Point.create(d,f))}if(p)return p;var m=e.b,_=e.d,b=m*_>=0?_:-_;return o(l,g,t,n,s,h,u,m,b)}function o(t,e,i,r,n,o,s,a,h){if(0==t||0==e)return null;var u,l,c=(i-r*t)/e,p=(i-o*t)/e,d=Math.max(n,Math.min(c,p)),f=Math.min(s,Math.max(c,p)),g=a*e-t*h;return f>=d?(l=Math.abs(g)<1e-9?i/(t+e):a*i/g,l=Math.max(d,Math.min(l,f)),u=(i-e*l)/t,egret.Point.create(u,l)):(c=-(r*t+i)/e,p=-(o*t+i)/e,d=Math.max(n,Math.min(c,p)),f=Math.min(s,Math.max(c,p)),f>=d?(l=Math.abs(g)<1e-9?-i/(t+e):-a*i/g,l=Math.max(d,Math.min(l,f)),u=(-i-e*l)/t,egret.Point.create(u,l)):null)}function s(t,e,i,r,n,s,a){var u=i.a,l=i.b,c=i.c,p=i.d;if(u>-1e-9&&1e-9>u&&(u=0),l>-1e-9&&1e-9>l&&(l=0),c>-1e-9&&1e-9>c&&(c=0),p>-1e-9&&1e-9>p&&(p=0),0==l&&0==c)return 0==u||0==p?null:egret.Point.create(t/Math.abs(u),e/Math.abs(p));if(0==u&&0==p)return 0==l||0==c?null:egret.Point.create(e/Math.abs(l),t/Math.abs(c));var d=u*c>=0?c:-c,f=l*p>=0?p:-p,g=u*f-l*d;if(Math.abs(g)<1e-9)return 0==d||0==u||u==-d?null:Math.abs(u*e-l*t)>1e-9?null:o(u,d,t,r,r,s,a,l,f);var v=1/g;t*=v,e*=v;var y;return y=h(u,d,l,f,t,e),y&&r<=y.x&&y.x<=s&&n<=y.y&&y.y<=a&&u*y.x+d*y.x>=0&&l*y.x+f*y.y>=0?y:(y=h(u,d,l,f,t,-e),y&&r<=y.x&&y.x<=s&&n<=y.y&&y.y<=a&&u*y.x+d*y.x>=0&&l*y.x+f*y.y<0?y:(y=h(u,d,l,f,-t,e),y&&r<=y.x&&y.x<=s&&n<=y.y&&y.y<=a&&u*y.x+d*y.x<0&&l*y.x+f*y.y>=0?y:(y=h(u,d,l,f,-t,-e),y&&r<=y.x&&y.x<=s&&n<=y.y&&y.y<=a&&u*y.x+d*y.x<0&&l*y.x+f*y.y<0?y:(egret.Point.release(y),null))))}function a(t,e,i){var r=egret.$TempRectangle.setTo(0,0,t,e);return i.$transformBounds(r),r}function h(t,e,i,r,n,o){return egret.Point.create(r*n-e*o,t*o-i*n)}var u=.1,l=.1,c=function(){function t(){}return t.fitBounds=function(t,r,n,o,h,c,p,d,f,g,v){if(isNaN(t)&&isNaN(r))return egret.Point.create(c,p);var y,m=l>d?0:d-l,_=l>f?0:f-l,b=g+l,$=v+l;if(isNaN(t)||isNaN(r))return isNaN(t)?i(r,n,o,h,c,p,m,_,b,$):e(t,n,o,h,c,p,m,_,b,$);if(y=s(t,r,n,m,_,b,$),!y){var x=void 0;if(x=e(t,n,o,h,c,p,m,_,b,$)){var E=a(x.x,x.y,n).height;E-u>r&&(egret.Point.release(x),x=null)}var T=void 0;if(T=i(r,n,o,h,c,p,m,_,b,$)){var w=a(T.x,T.y,n).width;w-u>t&&(egret.Point.release(T),T=null)}y=x&&T?x.x*x.y>T.x*T.y?x:T:x?x:T,egret.Point.release(x),egret.Point.release(T)}return y},t}();t.MatrixUtil=c,__reflect(c.prototype,"eui.sys.MatrixUtil")}(e=t.sys||(t.sys={}))}(eui||(eui={})),window.eui=eui;var egret=window.egret,__reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},__decorate=this&&this.__decorate||function(t,e,i,r){var n,o=arguments.length,s=3>o?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,i,r);
else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(s=(3>o?n(s):o>3?n(e,i,s):n(e,i))||s);return o>3&&s&&Object.defineProperty(e,i,s),s},RES;!function(t){}(RES||(RES={}));var RES;!function(t){function e(e){var i=t.config.config.fileSystem.getFile(e);return i||(e=t.resourceNameSelector(e),i=t.config.config.fileSystem.getFile(e)),i}function i(t,e){var i;i=t.indexOf(".json")>=0?"legacyResourceConfig":"resourceConfig",r={type:i,root:e,url:t,name:t}}t.resourceNameSelector=function(t){return t},t.getResourceInfo=e;var r;t.setConfigURL=i;var n=function(){function i(){}return i.prototype.init=function(){return this.config||(this.config={alias:{},groups:{},resourceRoot:r.root,typeSelector:function(){return"unknown"},mergeSelector:null,fileSystem:null,loadGroup:[]}),t.queue.pushResItem(r)["catch"](function(e){return e.__resource_manager_error__||(console.error(e.stack),e=new t.ResourceManagerError(1002)),t.host.remove(r),Promise.reject(e)})},i.prototype.getGroupByName=function(e,i){var r=this.config.groups[e],n=[];if(!r){if(i)throw new t.ResourceManagerError(2005,e);return null}for(var o=0,s=r;o<s.length;o++){var a=s[o],h=t.config.getResourceWithSubkey(a,!0),u=h.key,l=(h.subkey,t.config.getResource(u,!0));-1==n.indexOf(l)&&n.push(l)}return n},i.prototype.__temp__get__type__via__url=function(e){var i=this.config.alias[e];if(i||(i=e),t.resourceTypeSelector){var r=t.resourceTypeSelector(i);if(!r)throw new t.ResourceManagerError(2004,i);return r}return console.warn("RES.mapConfig 并未设置 typeSelector"),"unknown"},i.prototype.getResourceWithSubkey=function(e,i){e=this.getKeyByAlias(e);var r=e.indexOf("#"),n="";r>=0&&(n=e.substr(r+1),e=e.substr(0,r));var o=this.getResource(e);if(o)return{r:o,key:e,subkey:n};if(i){var s=n?e+"#"+n:e;throw new t.ResourceManagerError(2006,s)}return null},i.prototype.getKeyByAlias=function(t){return this.config.alias[t]?this.config.alias[t]:t},i.prototype.getResource=function(i,r){var n=this.config.alias[i];n||(n=i);var o=e(n);if(!o){if(r)throw new t.ResourceManagerError(2006,i);return null}return o},i.prototype.getGroup=function(t){return this.getGroupByName(t)},i.prototype.createGroup=function(t,e,i){if(void 0===i&&(i=!1),!i&&this.config.groups[t]||!e||0==e.length)return!1;for(var r=[],n=0,o=e;n<o.length;n++){var s=o[n];if(this.config.groups[s]){var a=this.config.groups[s];r=r.concat(a)}else r.push(s)}return this.config.groups[t]=r,!0},i.prototype.addSubkey=function(t,e){this.addAlias(t,e+"#"+t)},i.prototype.addAlias=function(t,e){this.config.alias[e]&&(e=this.config.alias[e]),this.config.alias[t]=e},i.prototype.getType=function(t){return this.getResource(t,!0).type},i.prototype.addResourceData=function(e){t.hasRes(e.name)||(e.type||(e.type=this.__temp__get__type__via__url(e.url)),t.config.config.fileSystem.addFile(e.url,e.type,e.root,e.extra),e.name&&(this.config.alias[e.name]=e.url))},i.prototype.removeResourceData=function(e){t.hasRes(e.name)&&(t.config.config.fileSystem.removeFile(e.url),this.config.alias[e.name]&&delete this.config.alias[e.name])},i}();t.ResourceConfig=n,__reflect(n.prototype,"RES.ResourceConfig")}(RES||(RES={}));var RES;!function(t){var e=function(){function e(){this.groupTotalDic={},this.numLoadedDic={},this.groupErrorDic={},this.retryTimesDic={},this.maxRetryTimes=3,this.reporterDic={},this.dispatcherDic={},this.failedList=new Array,this.loadItemErrorDic={},this.errorDic={},this.itemListPriorityDic={},this.itemLoadDic={},this.promiseHash={},this.lazyLoadList=new Array,this.loadingCount=0,this.thread=4}return e.prototype.pushResItem=function(t){if(this.promiseHash[t.name])return this.promiseHash[t.name];this.lazyLoadList.push(t),this.itemListPriorityDic[Number.NEGATIVE_INFINITY]=this.lazyLoadList,this.updatelistPriority(this.lazyLoadList,Number.NEGATIVE_INFINITY);var e=new egret.EventDispatcher;this.dispatcherDic[t.name]=e;var i=new Promise(function(t,i){e.addEventListener("complete",function(e){t(e.data)},null),e.addEventListener("error",function(t){i(t.data)},null)});return this.promiseHash[t.name]=i,this.loadNextResource(),i},e.prototype.pushResGroup=function(t,e,i,r){if(this.promiseHash[e])return this.promiseHash[e];for(var n=t.length,o=0;n>o;o++){var s=t[o];s.groupNames||(s.groupNames=[]),s.groupNames.push(e)}this.groupTotalDic[e]=t.length,this.numLoadedDic[e]=0,this.updatelistPriority(t,i),this.reporterDic[e]=r;var a=new egret.EventDispatcher;this.dispatcherDic[e]=a;var h=new Promise(function(t,e){a.addEventListener("complete",t,null),a.addEventListener("error",function(t){e(t.data)},null)});return this.promiseHash[e]=h,this.loadNextResource(),h},e.prototype.updatelistPriority=function(t,e){void 0==this.itemListPriorityDic[e]&&(this.itemListPriorityDic[e]=[]);for(var i=0,r=t;i<r.length;i++){var n=r[i];if(1!=this.itemLoadDic[n.name]){var o=this.findPriorityInDic(n);if(void 0==o)this.itemListPriorityDic[e].push(n);else if(e>o){this.itemListPriorityDic[e].push(n);var s=this.itemListPriorityDic[o].indexOf(n);this.itemListPriorityDic[o].splice(s,1)}}}},e.prototype.findPriorityInDic=function(t){for(var e in this.itemListPriorityDic)if(this.itemListPriorityDic[e].indexOf(t)>-1)return parseInt(e)},e.prototype.loadNextResource=function(){for(;this.loadingCount<this.thread;){var t=this.loadSingleResource();if(!t)break}},e.prototype.loadSingleResource=function(){var e=this,i=this.getOneResourceInfoInGroup();return i?(this.itemLoadDic[i.name]=1,this.loadingCount++,this.loadResource(i).then(function(r){if(e.loadingCount--,delete e.itemLoadDic[i.name],t.host.save(i,r),e.promiseHash[i.name]){var n=e.deleteDispatcher(i.name);n.dispatchEventWith("complete",!1,r)}var o=i.groupNames;if(o){delete i.groupNames;for(var s=0,a=o;s<a.length;s++){var h=a[s];e.setGroupProgress(h,i)&&e.loadGroupEnd(h)}}e.loadNextResource()})["catch"](function(r){if(!r)throw i.name+" load fail";if(!r.__resource_manager_error__)throw r;delete e.itemLoadDic[i.name],e.loadingCount--,delete t.host.state[i.root+i.name];var n=e.retryTimesDic[i.name]||1;if(!(n>e.maxRetryTimes))return e.retryTimesDic[i.name]=n+1,e.failedList.push(i),void e.loadNextResource();if(delete e.retryTimesDic[i.name],e.promiseHash[i.name]){var o=e.deleteDispatcher(i.name);o.dispatchEventWith("error",!1,{r:i,error:r})}var s=i.groupNames;if(s){delete i.groupNames;for(var a=0,h=s;a<h.length;a++){var u=h[a];e.loadItemErrorDic[u]||(e.loadItemErrorDic[u]=[]),-1==e.loadItemErrorDic[u].indexOf(i)&&e.loadItemErrorDic[u].push(i),e.groupErrorDic[u]=!0,e.setGroupProgress(u,i)?e.loadGroupEnd(u,r):e.errorDic[u]=r}}e.loadNextResource()}),!0):!1},e.prototype.getOneResourceInfoInGroup=function(){if(this.failedList.length>0)return this.failedList.shift();var t=Number.NEGATIVE_INFINITY;for(var e in this.itemListPriorityDic)t=Math.max(t,e);var i=this.itemListPriorityDic[t];if(i)return 0==i.length?(delete this.itemListPriorityDic[t],this.getOneResourceInfoInGroup()):i.shift()},e.prototype.setGroupProgress=function(t,e){var i=this.reporterDic[t];this.numLoadedDic[t]++;var r=this.numLoadedDic[t],n=this.groupTotalDic[t];return i&&i.onProgress&&i.onProgress(r,n,e),r==n},e.prototype.loadGroupEnd=function(t,e){delete this.groupTotalDic[t],delete this.numLoadedDic[t],delete this.reporterDic[t];var i=this.deleteDispatcher(t);if(e){delete this.groupErrorDic[t];var r=this.loadItemErrorDic[t];delete this.loadItemErrorDic[t],i.dispatchEventWith("error",!1,{itemList:r,lastError:e})}else{var n=this.groupErrorDic[t];if(delete this.groupErrorDic[t],n){var r=this.loadItemErrorDic[t];delete this.loadItemErrorDic[t];var o=this.errorDic[t];delete this.errorDic[t],i.dispatchEventWith("error",!1,{itemList:r,error:o})}else i.dispatchEventWith("complete")}},e.prototype.deleteDispatcher=function(t){delete this.promiseHash[t];var e=this.dispatcherDic[t];return delete this.dispatcherDic[t],e},e.prototype.loadResource=function(e,i){if(!i){if(1==t.FEATURE_FLAG.FIX_DUPLICATE_LOAD){var r=t.host.state[e.root+e.name];if(2==r)return Promise.resolve(t.host.get(e));if(1==r)return e.promise}i=t.processor.isSupport(e)}if(!i)throw new t.ResourceManagerError(2001,e.name,e.type);t.host.state[e.root+e.name]=1;var n=i.onLoadStart(t.host,e);return e.promise=n,n},e.prototype.unloadResource=function(e){var i=t.host.get(e);if(!i)return console.warn("尝试释放不存在的资源:",e.name),!1;var r=t.processor.isSupport(e);return r?(r.onRemoveStart(t.host,e),t.host.remove(e),1==e.extra&&t.config.removeResourceData(e),!0):!0},e}();t.ResourceLoader=e,__reflect(e.prototype,"RES.ResourceLoader")}(RES||(RES={}));var RES;!function(t){t.checkNull=function(t,e,i){var r=i.value;i.value=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return t[0]?r.apply(this,t):(console.warn("方法"+e+"的参数不能为null"),null)}},t.FEATURE_FLAG={FIX_DUPLICATE_LOAD:1};var e;!function(t){function e(t){i=t}var i="warning";t.setUpgradeGuideLevel=e}(e=t.upgrade||(t.upgrade={}))}(RES||(RES={}));var RES;!function(t){function e(e,i){throw new t.ResourceManagerError(2002)}function i(e,i){if(i.indexOf("://")>=0){var r=i.split("://");i=r[0]+"://"+t.path.normalize(r[1]+"/"),e=e.replace(i,"")}else i=t.path.normalize(i+"/"),e=e.replace(i,"");return t.setConfigURL(e,i),$||($=new b),$.loadConfig()}function r(t,e,i){return void 0===e&&(e=0),$.loadGroup(t,e,i)}function n(t){return $.isGroupLoaded(t)}function o(e){return $.getGroupByName(e).map(function(e){return t.ResourceItem.convertToResItem(e)})}function s(t,e,i){return void 0===i&&(i=!1),$.createGroup(t,e,i)}function a(t){return $.hasRes(t)}function h(t){return $.getRes(t)}function u(t,e,i){return $.getResAsync.apply($,arguments)}function l(t,e,i,r){void 0===r&&(r=""),$.getResByUrl(t,e,i,r)}function c(t,e){return $.destroyRes(t,e)}function p(t){$||($=new b),$.setMaxLoadingThread(t)}function d(t){$.setMaxRetryTimes(t)}function f(t,e,i,r,n){void 0===r&&(r=!1),void 0===n&&(n=0),$||($=new b),$.addEventListener(t,e,i,r,n)}function g(t,e,i,r){void 0===r&&(r=!1),$.removeEventListener(t,e,i,r)}function v(t){$.addResourceData(t)}function y(){return $||($=new b),$.vcs}function m(t){$||($=new b),$.registerVersionController(t)}function _(t){return $.vcs?$.vcs.getVirtualUrl(t):t}t.nameSelector=function(e){return t.path.basename(e).split(".").join("_")},t.registerAnalyzer=e,t.loadConfig=i,t.loadGroup=r,t.isGroupLoaded=n,t.getGroupByName=o,t.createGroup=s,t.hasRes=a,t.getRes=h,t.getResAsync=u,t.getResByUrl=l,t.destroyRes=c,t.setMaxLoadingThread=p,t.setMaxRetryTimes=d,t.addEventListener=f,t.removeEventListener=g,t.$addResourceData=v,t.getVersionController=y,t.registerVersionController=m,t.getVirtualUrl=_;var b=function(e){function i(){var i=e.call(this)||this;return i.isVcsInit=!1,t.VersionController&&(i.vcs=new t.VersionController),i}return __extends(i,e),i.prototype.registerVersionController=function(t){this.vcs=t,this.isVcsInit=!1},i.prototype.loadConfig=function(){var e=this,i=function(){return t.config.init().then(function(i){t.ResourceEvent.dispatchResourceEvent(e,t.ResourceEvent.CONFIG_COMPLETE)},function(i){return t.ResourceEvent.dispatchResourceEvent(e,t.ResourceEvent.CONFIG_LOAD_ERROR),Promise.reject(i)})};return!this.isVcsInit&&this.vcs?(this.isVcsInit=!0,this.vcs.init().then(function(){return i()})):i()},i.prototype.isGroupLoaded=function(e){var i=t.config.getGroupByName(e,!0);return i.every(function(e){return null!=t.host.get(e)})},i.prototype.getGroupByName=function(e){return t.config.getGroupByName(e,!0)},i.prototype.loadGroup=function(e,i,r){var n=this;void 0===i&&(i=0);var o={onProgress:function(i,o,s){r&&r.onProgress&&r.onProgress(i,o,s),t.ResourceEvent.dispatchResourceEvent(n,t.ResourceEvent.GROUP_PROGRESS,e,s,i,o)}};return this._loadGroup(e,i,o).then(function(i){-1==t.config.config.loadGroup.indexOf(e)&&t.config.config.loadGroup.push(e),t.ResourceEvent.dispatchResourceEvent(n,t.ResourceEvent.GROUP_COMPLETE,e)},function(i){if(-1==t.config.config.loadGroup.indexOf(e)&&t.config.config.loadGroup.push(e),i.itemList)for(var r=i.itemList,o=r.length,s=0;o>s;s++){var a=r[s];delete a.promise,t.ResourceEvent.dispatchResourceEvent(n,t.ResourceEvent.ITEM_LOAD_ERROR,e,a)}return t.ResourceEvent.dispatchResourceEvent(n,t.ResourceEvent.GROUP_LOAD_ERROR,e),Promise.reject(i.error)})},i.prototype._loadGroup=function(e,i,r){void 0===i&&(i=0);var n=t.config.getGroupByName(e,!0);return 0==n.length?new Promise(function(i,r){r({error:new t.ResourceManagerError(2006,e)})}):t.queue.pushResGroup(n,e,i,r)},i.prototype.createGroup=function(e,i,r){return void 0===r&&(r=!1),t.config.createGroup(e,i,r)},i.prototype.hasRes=function(e){return null!=t.config.getResourceWithSubkey(e)},i.prototype.getRes=function(e){var i=t.config.getResourceWithSubkey(e);if(i){var r=i.r,n=i.key,o=i.subkey,s=t.processor.isSupport(r);return s&&s.getData&&o?s.getData(t.host,r,n,o):t.host.get(r)}return null},i.prototype.getResAsync=function(e,i,r){var n=this,o=e,s=t.config.getResourceWithSubkey(e,!0),a=s.r,h=s.subkey;return t.queue.pushResItem(a).then(function(n){t.host.save(a,n);var s=t.processor.isSupport(a);return s&&s.getData&&h&&(n=s.getData(t.host,a,e,h)),i&&i.call(r,n,o),n},function(e){return t.host.remove(a),t.ResourceEvent.dispatchResourceEvent(n,t.ResourceEvent.ITEM_LOAD_ERROR,"",a),Promise.reject(e)})},i.prototype.getResByUrl=function(e,i,r,n){var o=this;void 0===n&&(n="");var s=t.config.getResource(e);if(!s&&(n||(n=t.config.__temp__get__type__via__url(e)),s={name:e,url:e,type:n,root:"",extra:1},t.config.addResourceData(s),s=t.config.getResource(e),!s))throw"never";return t.queue.pushResItem(s).then(function(e){return t.host.save(s,e),i&&s&&i.call(r,e,s.url),e},function(e){return t.host.remove(s),t.ResourceEvent.dispatchResourceEvent(o,t.ResourceEvent.ITEM_LOAD_ERROR,"",s),Promise.reject(e)})},i.prototype.destroyRes=function(e,i){void 0===i&&(i=!0);var r=t.config.getGroup(e);if(r&&r.length>0){if(i||1==t.config.config.loadGroup.length&&t.config.config.loadGroup[0]==e){for(var n=0,o=r;n<o.length;n++){var s=o[n];t.queue.unloadResource(s)}var a=t.config.config.loadGroup.indexOf(e);t.config.config.loadGroup.splice(a,1)}else{for(var h={},u=0,l=t.config.config.loadGroup;u<l.length;u++){var c=l[u];for(var p in t.config.config.groups[c]){var d=t.config.config.groups[c][p];h[d]?h[d]++:h[d]=1}}for(var d in h)if(h[d]&&1==h[d]){var s=t.config.getResource(d);s&&t.queue.unloadResource(s)}var a=t.config.config.loadGroup.indexOf(e);t.config.config.loadGroup.splice(a,1)}return!0}var s=t.config.getResource(e);return s?t.queue.unloadResource(s):(console.warn("无法删除指定组:"+e),!1)},i.prototype.setMaxLoadingThread=function(e){1>e&&(e=1),t.queue.thread=e},i.prototype.setMaxRetryTimes=function(e){e=Math.max(e,0),t.queue.maxRetryTimes=e},i.prototype.addResourceData=function(e){t.config.addResourceData(e)},__decorate([t.checkNull],i.prototype,"hasRes",null),__decorate([t.checkNull],i.prototype,"getRes",null),__decorate([t.checkNull],i.prototype,"getResAsync",null),__decorate([t.checkNull],i.prototype,"getResByUrl",null),i}(egret.EventDispatcher);t.Resource=b,__reflect(b.prototype,"RES.Resource");var $}(RES||(RES={}));var RES;!function(t){var e;!function(t){t.normalize=function(t){var e=t.split("/");return e.filter(function(t,i){return!!t||i==e.length-1}).join("/")},t.basename=function(t){return t.substr(t.lastIndexOf("/")+1)},t.dirname=function(t){return t.substr(0,t.lastIndexOf("/"))}}(e=t.path||(t.path={}))}(RES||(RES={}));var RES;!function(t){var e=function(){function t(){}return t.prototype.init=function(){return this.versionInfo=this.getLocalData("all.manifest"),Promise.resolve()},t.prototype.getVirtualUrl=function(t){return t},t.prototype.getLocalData=function(t){if(egret_native.readUpdateFileSync&&egret_native.readResourceFileSync){var e=egret_native.readUpdateFileSync(t);if(null!=e)return JSON.parse(e);if(e=egret_native.readResourceFileSync(t),null!=e)return JSON.parse(e)}return null},t}();t.NativeVersionController=e,__reflect(e.prototype,"RES.NativeVersionController",["RES.IVersionController"]),egret.Capabilities.runtimeType==egret.RuntimeType.NATIVE&&(t.VersionController=e)}(RES||(RES={}));var RES;!function(t){var e;!function(e){function i(t){return e._map[t.type]}function r(t,i){e._map[t]=i}function n(e,i){var r=this;return new Promise(function(n,o){var s=function(){var t=e.data?e.data:e.response;n(t)},a=function(){var e=new t.ResourceManagerError(1001,i.url);o(e)};e.addEventListener(egret.Event.COMPLETE,s,r),e.addEventListener(egret.IOErrorEvent.IO_ERROR,a,r)})}function o(t,e){if(-1!=e.indexOf("://"))return e;t=t.split("\\").join("/");var i=t.match(/#.*|\?.*/),r="";i&&(r=i[0]);var n=t.lastIndexOf("/");return t=-1!=n?t.substring(0,n+1)+e:e,t+r}e.isSupport=i,e.map=r,e.getRelativePath=o,e.ImageProcessor={onLoadStart:function(e,i){var r=new egret.ImageLoader;return r.load(t.getVirtualUrl(i.root+i.url)),n(r,i).then(function(t){var r=new egret.Texture;r._setBitmapData(t);var n=e.resourceConfig.getResource(i.name);if(n&&n.scale9grid){var o=n.scale9grid.split(",");r.scale9Grid=new egret.Rectangle(parseInt(o[0]),parseInt(o[1]),parseInt(o[2]),parseInt(o[3]))}return r})},onRemoveStart:function(t,e){var i=t.get(e);i.dispose()}},e.BinaryProcessor={onLoadStart:function(e,i){var r=new egret.HttpRequest;return r.responseType=egret.HttpResponseType.ARRAY_BUFFER,r.open(t.getVirtualUrl(i.root+i.url),"get"),r.send(),n(r,i)},onRemoveStart:function(t,e){}},e.TextProcessor={onLoadStart:function(e,i){var r=new egret.HttpRequest;return r.responseType=egret.HttpResponseType.TEXT,r.open(t.getVirtualUrl(i.root+i.url),"get"),r.send(),n(r,i)},onRemoveStart:function(t,e){return!0}},e.JsonProcessor={onLoadStart:function(t,e){return t.load(e,"text").then(function(t){var e=JSON.parse(t);return e})},onRemoveStart:function(t,e){}},e.XMLProcessor={onLoadStart:function(t,e){return t.load(e,"text").then(function(t){var e=egret.XML.parse(t);return e})},onRemoveStart:function(t,e){return!0}},e.CommonJSProcessor={onLoadStart:function(e,i){return e.load(i,"text").then(function(e){var r=new Function("require","exports",e),n=function(){},o={};try{r(n,o)}catch(s){throw new t.ResourceManagerError(2003,i.name,s.message)}return o})},onRemoveStart:function(t,e){}},e.SheetProcessor={onLoadStart:function(e,i){return e.load(i,"json").then(function(r){var n=e.resourceConfig.getResource(t.nameSelector(r.file));if(!n){var s=o(i.url,r.file);n={name:s,url:s,type:"image",root:i.root}}return e.load(n).then(function(t){var i=r.frames,o=new egret.SpriteSheet(t);o.$resourceInfo=n;for(var s in i){var a=i[s],h=o.createTexture(s,a.x,a.y,a.w,a.h,a.offX,a.offY,a.sourceW,a.sourceH);if(a.scale9grid){var u=a.scale9grid,l=u.split(",");h.scale9Grid=new egret.Rectangle(parseInt(l[0]),parseInt(l[1]),parseInt(l[2]),parseInt(l[3]))}}return e.save(n,t),o})})},getData:function(t,e,i,r){var n=t.get(e);return n?n.getTexture(r):null},onRemoveStart:function(t,e){var i=t.get(e),r=i.$resourceInfo;i.dispose(),t.unload(r)}};var s=function(t,e){var i="",r=e.split("\n"),n=r[2],o=n.indexOf('file="');-1!=o&&(n=n.substring(o+6),o=n.indexOf('"'),i=n.substring(0,o)),t=t.split("\\").join("/");var o=t.lastIndexOf("/");return t=-1!=o?t.substring(0,o+1)+i:i};e.FontProcessor={onLoadStart:function(e,i){return e.load(i,"text").then(function(r){var n;try{n=JSON.parse(r)}catch(a){n=r}var h;h="string"==typeof n?s(i.url,n):o(i.url,n.file);var u=e.resourceConfig.getResource(t.nameSelector(h));return u||(u={name:h,url:h,type:"image",root:i.root}),e.load(u).then(function(t){var i=new egret.BitmapFont(t,n);return i.$resourceInfo=u,e.save(u,t),i})})},onRemoveStart:function(t,e){var i=t.get(e),r=i.$resourceInfo;t.unload(r)}},e.SoundProcessor={onLoadStart:function(e,i){var r=new egret.Sound;return r.load(t.getVirtualUrl(i.root+i.url)),n(r,i).then(function(){return r})},onRemoveStart:function(t,e){}},e.MovieClipProcessor={onLoadStart:function(e,i){var r,n;return e.load(i,"json").then(function(o){r=o;var s=i.name,a=s.substring(0,s.lastIndexOf("."))+".png";if(n=e.resourceConfig.getResource(a,!0),!n)throw new t.ResourceManagerError(1001,a);return e.load(n)}).then(function(t){e.save(n,t);var i=t,o=new egret.MovieClipDataFactory(r,i);return o})},onRemoveStart:function(t,e){var i=t.get(e);i.clearCache(),i.$spriteSheet.dispose();var r=e.name,n=r.substring(0,r.lastIndexOf("."))+".png",o=t.resourceConfig.getResource(n,!0);t.unload(o)}},e.MergeJSONProcessor={onLoadStart:function(e,i){return e.load(i,"json").then(function(e){for(var r in e)t.config.addSubkey(r,i.name);return e})},getData:function(t,e,i,r){var n=t.get(e);return n?n[r]:(console.error("missing resource :"+e.name),null)},onRemoveStart:function(t,e){}},e.LegacyResourceConfigProcessor={onLoadStart:function(e,i){return e.load(i,"json").then(function(r){var n=t.config.config,o=i.root,s=n.fileSystem;s||(s={fsData:{},getFile:function(t){return p[t]},addFile:function(t,e,i,r){e||(e=""),void 0==i&&(i=""),p[t]={name:t,type:e,url:t,root:i,extra:r}},profile:function(){console.log(p)},removeFile:function(t){delete p[t]}},n.fileSystem=s);for(var a=n.groups,h=0,u=r.groups;h<u.length;h++){var l=u[h];""==l.keys?a[l.name]=[]:a[l.name]=l.keys.split(",")}for(var c=n.alias,p=s.fsData,d=function(t){p[t.name]=t,p[t.name].root=o,t.subkeys&&t.subkeys.split(",").forEach(function(e){c[e]=t.name+"#"+e,c[t.name+"."+e]=t.name+"#"+e})},f=0,g=r.resources;f<g.length;f++){var v=g[f];d(v)}return e.save(i,n),n})},onRemoveStart:function(){}},e._map={image:e.ImageProcessor,json:e.JsonProcessor,text:e.TextProcessor,xml:e.XMLProcessor,sheet:e.SheetProcessor,font:e.FontProcessor,bin:e.BinaryProcessor,commonjs:e.CommonJSProcessor,sound:e.SoundProcessor,movieclip:e.MovieClipProcessor,mergeJson:e.MergeJSONProcessor,legacyResourceConfig:e.LegacyResourceConfigProcessor}}(e=t.processor||(t.processor={}))}(RES||(RES={}));var RES;!function(t){var e=function(e){function i(t,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1);var n=e.call(this,t,i,r)||this;return n.itemsLoaded=0,n.itemsTotal=0,n.groupName="",n}return __extends(i,e),i.dispatchResourceEvent=function(e,r,n,o,s,a){void 0===n&&(n=""),void 0===o&&(o=void 0),void 0===s&&(s=0),void 0===a&&(a=0);var h=egret.Event.create(i,r);h.groupName=n,o&&(h.resItem=t.ResourceItem.convertToResItem(o)),h.itemsLoaded=s,h.itemsTotal=a;var u=e.dispatchEvent(h);return egret.Event.release(h),u},i.ITEM_LOAD_ERROR="itemLoadError",i.CONFIG_COMPLETE="configComplete",i.CONFIG_LOAD_ERROR="configLoadError",i.GROUP_PROGRESS="groupProgress",i.GROUP_COMPLETE="groupComplete",i.GROUP_LOAD_ERROR="groupLoadError",i}(egret.Event);t.ResourceEvent=e,__reflect(e.prototype,"RES.ResourceEvent")}(RES||(RES={}));var RES;!function(t){var e;!function(e){function i(e){var i=e.name;if(t.config.config)for(var r in t.config.config.alias)t.config.config.alias[r]==e.url&&(i=r);else i=e.url;var n={name:i,url:e.url,type:e.type,data:e,root:e.root};return n}e.TYPE_XML="xml",e.TYPE_IMAGE="image",e.TYPE_BIN="bin",e.TYPE_TEXT="text",e.TYPE_JSON="json",e.TYPE_SHEET="sheet",e.TYPE_FONT="font",e.TYPE_SOUND="sound",e.convertToResItem=i}(e=t.ResourceItem||(t.ResourceItem={}))}(RES||(RES={}));var RES;!function(t){var e=function(){function e(t){this.data=t}return e.prototype.profile=function(){console.log(this.data)},e.prototype.addFile=function(e,i){i||(i=""),e=t.path.normalize(e);var r=t.path.basename(e),n=t.path.dirname(e);this.exists(n)||this.mkdir(n);var o=this.resolve(n);o[r]={url:e,type:i}},e.prototype.getFile=function(t){var e=this.resolve(t);return e&&(e.name=t),e},e.prototype.resolve=function(e){if(""==e)return this.data;e=t.path.normalize(e);for(var i=e.split("/"),r=this.data,n=0,o=i;n<o.length;n++){var s=o[n];if(!r)return r;r=r[s]}return r},e.prototype.mkdir=function(e){e=t.path.normalize(e);for(var i=e.split("/"),r=this.data,n=0,o=i;n<o.length;n++){var s=o[n];r[s]||(r[s]={}),r=r[s]}},e.prototype.exists=function(e){if(""==e)return!0;e=t.path.normalize(e);for(var i=e.split("/"),r=this.data,n=0,o=i;n<o.length;n++){var s=o[n];if(!r[s])return!1;r=r[s]}return!0},e}();t.NewFileSystem=e,__reflect(e.prototype,"RES.NewFileSystem")}(RES||(RES={}));var RES;!function(t){function e(){t.config.config.fileSystem.profile(),console.log(i);var e=0;for(var r in i){var n=i[r];n instanceof egret.Texture&&(e+=n.$bitmapWidth*n.$bitmapHeight*4)}console.log("gpu size : "+(e/1024).toFixed(3)+"kb")}var i={};t.profile=e,t.host={state:{},get resourceConfig(){return t.config},load:function(e,i){var r="string"==typeof i?t.processor._map[i]:i;return t.queue.loadResource(e,r)},unload:function(e){return t.queue.unloadResource(e)},save:function(e,r){t.host.state[e.root+e.name]=2,e.promise=void 0,i[e.url]=r},get:function(t){return i[t.url]},remove:function(e){delete t.host.state[e.root+e.name],delete i[e.url]}},t.config=new t.ResourceConfig,t.queue=new t.ResourceLoader;var r=function(t){function e(i,r,n){var o=t.call(this)||this;return o.__resource_manager_error__=!0,o.name=i.toString(),o.message=e.errorMessage[i].replace("{0}",r).replace("{1}",n),o}return __extends(e,t),e.errorMessage={1001:"文件加载失败:{0}",1002:"ResourceManager 初始化失败：配置文件加载失败",2001:"{0}解析失败,不支持指定解析类型:'{1}'，请编写自定义 Processor ，更多内容请参见 https://github.com/egret-labs/resourcemanager/blob/master/docs/README.md#processor",2002:"Analyzer 相关API 在 ResourceManager 中不再支持，请编写自定义 Processor ，更多内容请参见 https://github.com/egret-labs/resourcemanager/blob/master/docs/README.md#processor",2003:"{0}解析失败,错误原因:{1}",2004:"无法找到文件类型:{0}",2005:"资源配置文件中无法找到特定的资源组:{0}",2006:"资源配置文件中无法找到特定的资源:{0}"},e}(Error);t.ResourceManagerError=r,__reflect(r.prototype,"RES.ResourceManagerError")}(RES||(RES={})),window.RES=RES;var egret=window.egret,__reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},egret;!function(t){var e=function(){function e(){t.$error(1014)}return e.get=function(t){return-1>t&&(t=-1),t>1&&(t=1),function(e){return 0==t?e:0>t?e*(e*-t+1+t):e*((2-e)*t+(1-t))}},e.getPowIn=function(t){return function(e){return Math.pow(e,t)}},e.getPowOut=function(t){return function(e){return 1-Math.pow(1-e,t)}},e.getPowInOut=function(t){return function(e){return(e*=2)<1?.5*Math.pow(e,t):1-.5*Math.abs(Math.pow(2-e,t))}},e.sineIn=function(t){return 1-Math.cos(t*Math.PI/2)},e.sineOut=function(t){return Math.sin(t*Math.PI/2)},e.sineInOut=function(t){return-.5*(Math.cos(Math.PI*t)-1)},e.getBackIn=function(t){return function(e){return e*e*((t+1)*e-t)}},e.getBackOut=function(t){return function(e){return--e*e*((t+1)*e+t)+1}},e.getBackInOut=function(t){return t*=1.525,function(e){return(e*=2)<1?.5*(e*e*((t+1)*e-t)):.5*((e-=2)*e*((t+1)*e+t)+2)}},e.circIn=function(t){return-(Math.sqrt(1-t*t)-1)},e.circOut=function(t){return Math.sqrt(1- --t*t)},e.circInOut=function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},e.bounceIn=function(t){return 1-e.bounceOut(1-t)},e.bounceOut=function(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},e.bounceInOut=function(t){return.5>t?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5},e.getElasticIn=function(t,e){var i=2*Math.PI;return function(r){if(0==r||1==r)return r;var n=e/i*Math.asin(1/t);return-(t*Math.pow(2,10*(r-=1))*Math.sin((r-n)*i/e))}},e.getElasticOut=function(t,e){var i=2*Math.PI;return function(r){if(0==r||1==r)return r;var n=e/i*Math.asin(1/t);return t*Math.pow(2,-10*r)*Math.sin((r-n)*i/e)+1}},e.getElasticInOut=function(t,e){var i=2*Math.PI;return function(r){var n=e/i*Math.asin(1/t);return(r*=2)<1?-.5*(t*Math.pow(2,10*(r-=1))*Math.sin((r-n)*i/e)):t*Math.pow(2,-10*(r-=1))*Math.sin((r-n)*i/e)*.5+1}},e.quadIn=e.getPowIn(2),e.quadOut=e.getPowOut(2),e.quadInOut=e.getPowInOut(2),e.cubicIn=e.getPowIn(3),e.cubicOut=e.getPowOut(3),e.cubicInOut=e.getPowInOut(3),e.quartIn=e.getPowIn(4),e.quartOut=e.getPowOut(4),e.quartInOut=e.getPowInOut(4),e.quintIn=e.getPowIn(5),e.quintOut=e.getPowOut(5),e.quintInOut=e.getPowInOut(5),e.backIn=e.getBackIn(1.7),e.backOut=e.getBackOut(1.7),e.backInOut=e.getBackInOut(1.7),e.elasticIn=e.getElasticIn(1,.3),e.elasticOut=e.getElasticOut(1,.3),e.elasticInOut=e.getElasticInOut(1,.3*1.5),e}();t.Ease=e,__reflect(e.prototype,"egret.Ease")}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(t,i,r){var n=e.call(this)||this;return n._target=null,n._useTicks=!1,n.ignoreGlobalPause=!1,n.loop=!1,n.pluginData=null,n._steps=null,n.paused=!1,n.duration=0,n._prevPos=-1,n.position=null,n._prevPosition=0,n._stepPosition=0,n.passive=!1,n.initialize(t,i,r),n}return __extends(i,e),i.get=function(t,e,r,n){return void 0===r&&(r=null),void 0===n&&(n=!1),n&&i.removeTweens(t),new i(t,e,r)},i.removeTweens=function(t){if(t.tween_count){for(var e=i._tweens,r=e.length-1;r>=0;r--)e[r]._target==t&&(e[r].paused=!0,e.splice(r,1));t.tween_count=0}},i.pauseTweens=function(e){if(e.tween_count)for(var i=t.Tween._tweens,r=i.length-1;r>=0;r--)i[r]._target==e&&(i[r].paused=!0)},i.resumeTweens=function(e){if(e.tween_count)for(var i=t.Tween._tweens,r=i.length-1;r>=0;r--)i[r]._target==e&&(i[r].paused=!1)},i.tick=function(t,e){void 0===e&&(e=!1);var r=t-i._lastTime;i._lastTime=t;for(var n=i._tweens.concat(),o=n.length-1;o>=0;o--){var s=n[o];e&&!s.ignoreGlobalPause||s.paused||s.$tick(s._useTicks?1:r)}return!1},i._register=function(e,r){var n=e._target,o=i._tweens;if(r)n&&(n.tween_count=n.tween_count>0?n.tween_count+1:1),o.push(e),i._inited||(i._lastTime=t.getTimer(),t.ticker.$startTick(i.tick,null),i._inited=!0);else{n&&n.tween_count--;for(var s=o.length;s--;)if(o[s]==e)return void o.splice(s,1)}},i.removeAllTweens=function(){for(var t=i._tweens,e=0,r=t.length;r>e;e++){var n=t[e];n.paused=!0,n._target.tween_count=0}t.length=0},i.prototype.initialize=function(t,e,r){this._target=t,e&&(this._useTicks=e.useTicks,this.ignoreGlobalPause=e.ignoreGlobalPause,this.loop=e.loop,e.onChange&&this.addEventListener("change",e.onChange,e.onChangeObj),e.override&&i.removeTweens(t)),this.pluginData=r||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],e&&e.paused?this.paused=!0:i._register(this,!0),e&&null!=e.position&&this.setPosition(e.position,i.NONE)},i.prototype.setPosition=function(t,e){void 0===e&&(e=1),0>t&&(t=0);var i=t,r=!1;if(i>=this.duration)if(this.loop){var n=i%this.duration;i=i>0&&0===n?this.duration:n}else i=this.duration,r=!0;if(i==this._prevPos)return r;r&&this.setPaused(!0);var o=this._prevPos;if(this.position=this._prevPos=i,this._prevPosition=t,this._target&&this._steps.length>0){for(var s=this._steps.length,a=-1,h=0;s>h&&!("step"==this._steps[h].type&&(a=h,this._steps[h].t<=i&&this._steps[h].t+this._steps[h].d>=i));h++);for(var h=0;s>h;h++)if("action"==this._steps[h].type)0!=e&&(this._useTicks?this._runAction(this._steps[h],i,i):1==e&&o>i?(o!=this.duration&&this._runAction(this._steps[h],o,this.duration),this._runAction(this._steps[h],0,i,!0)):this._runAction(this._steps[h],o,i));else if("step"==this._steps[h].type&&a==h){var u=this._steps[a];this._updateTargetProps(u,Math.min((this._stepPosition=i-u.t)/u.d,1))}}return this.dispatchEventWith("change"),r},i.prototype._runAction=function(t,e,i,r){void 0===r&&(r=!1);var n=e,o=i;e>i&&(n=i,o=e);var s=t.t;(s==o||s>n&&o>s||r&&s==e)&&t.f.apply(t.o,t.p)},i.prototype._updateTargetProps=function(t,e){var r,n,o,s,a,h;if(t||1!=e){if(this.passive=!!t.v,this.passive)return;t.e&&(e=t.e(e,0,1,1)),r=t.p0,n=t.p1}else this.passive=!1,r=n=this._curQueueProps;for(var u in this._initQueueProps){null==(s=r[u])&&(r[u]=s=this._initQueueProps[u]),null==(a=n[u])&&(n[u]=a=s),o=s==a||0==e||1==e||"number"!=typeof s?1==e?a:s:s+(a-s)*e;var l=!1;if(h=i._plugins[u])for(var c=0,p=h.length;p>c;c++){var d=h[c].tween(this,u,o,r,n,e,!!t&&r==n,!t);d==i.IGNORE?l=!0:o=d}l||(this._target[u]=o)}},i.prototype.setPaused=function(t){return this.paused==t?this:(this.paused=t,i._register(this,!t),this)},i.prototype._cloneProps=function(t){var e={};for(var i in t)e[i]=t[i];return e},i.prototype._addStep=function(t){return t.d>0&&(t.type="step",this._steps.push(t),t.t=this.duration,this.duration+=t.d),this},i.prototype._appendQueueProps=function(t){var e,r,n,o,s;for(var a in t)if(void 0===this._initQueueProps[a]){if(r=this._target[a],e=i._plugins[a])for(n=0,o=e.length;o>n;n++)r=e[n].init(this,a,r);
this._initQueueProps[a]=this._curQueueProps[a]=void 0===r?null:r}else r=this._curQueueProps[a];for(var a in t){if(r=this._curQueueProps[a],e=i._plugins[a])for(s=s||{},n=0,o=e.length;o>n;n++)e[n].step&&e[n].step(this,a,r,t[a],s);this._curQueueProps[a]=t[a]}return s&&this._appendQueueProps(s),this._curQueueProps},i.prototype._addAction=function(t){return t.t=this.duration,t.type="action",this._steps.push(t),this},i.prototype._set=function(t,e){for(var i in t)e[i]=t[i]},i.prototype.wait=function(t,e){if(null==t||0>=t)return this;var i=this._cloneProps(this._curQueueProps);return this._addStep({d:t,p0:i,p1:i,v:e})},i.prototype.to=function(t,e,i){return void 0===i&&(i=void 0),(isNaN(e)||0>e)&&(e=0),this._addStep({d:e||0,p0:this._cloneProps(this._curQueueProps),e:i,p1:this._cloneProps(this._appendQueueProps(t))}),this.set(t)},i.prototype.call=function(t,e,i){return void 0===e&&(e=void 0),void 0===i&&(i=void 0),this._addAction({f:t,p:i?i:[],o:e?e:this._target})},i.prototype.set=function(t,e){return void 0===e&&(e=null),this._appendQueueProps(t),this._addAction({f:this._set,o:this,p:[t,e?e:this._target]})},i.prototype.play=function(t){return t||(t=this),this.call(t.setPaused,t,[!1])},i.prototype.pause=function(t){return t||(t=this),this.call(t.setPaused,t,[!0])},i.prototype.$tick=function(t){this.paused||this.setPosition(this._prevPosition+t)},i.NONE=0,i.LOOP=1,i.REVERSE=2,i._tweens=[],i.IGNORE={},i._plugins={},i._inited=!1,i._lastTime=0,i}(t.EventDispatcher);t.Tween=e,__reflect(e.prototype,"egret.Tween")}(egret||(egret={}));var egret;!function(t){var e;!function(e){function i(e){if("function"==typeof e)return e;var i=t.Ease[e];return"function"==typeof i?i:null}function r(t,e,i,r){var n=t.prototype;n.__meta__=n.__meta__||{},n.__meta__[e]=i,r&&(n.__defaultProperty__=e)}var n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="",e}return __extends(e,t),e}(t.EventDispatcher);e.BasePath=n,__reflect(n.prototype,"egret.tween.BasePath");var o=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.props=void 0,e.duration=500,e.ease=void 0,e}return __extends(e,t),e}(n);e.To=o,__reflect(o.prototype,"egret.tween.To");var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duration=500,e.passive=void 0,e}return __extends(e,t),e}(n);e.Wait=s,__reflect(s.prototype,"egret.tween.Wait");var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.props=void 0,e}return __extends(e,t),e}(n);e.Set=a,__reflect(a.prototype,"egret.tween.Set");var h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delta=0,e}return __extends(e,t),e}(n);e.Tick=h,__reflect(h.prototype,"egret.tween.Tick");var u=function(e){function r(){var t=e.call(this)||this;return t.isStop=!1,t}return __extends(r,e),Object.defineProperty(r.prototype,"props",{get:function(){return this._props},set:function(t){this._props=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"target",{get:function(){return this._target},set:function(t){this._target=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"paths",{get:function(){return this._paths},set:function(t){this._paths=t||[]},enumerable:!0,configurable:!0}),r.prototype.play=function(t){this.tween?(this.tween.setPaused(!1),this.isStop&&void 0==t&&(t=0,this.isStop=!1),void 0!==t&&null!==t&&this.tween.setPosition(t)):this.createTween(t)},r.prototype.pause=function(){this.tween&&this.tween.setPaused(!0)},r.prototype.stop=function(){this.pause(),this.isStop=!0},r.prototype.createTween=function(e){this.tween=t.Tween.get(this._target,this._props),this._paths&&this.applyPaths(),void 0!==e&&null!==e&&this.tween.setPosition(e)},r.prototype.applyPaths=function(){for(var t=0;t<this._paths.length;t++){var e=this._paths[t];this.applyPath(e)}},r.prototype.applyPath=function(t){var e=this;t instanceof o?this.tween.to(t.props,t.duration,i(t.ease)):t instanceof s?this.tween.wait(t.duration,t.passive):t instanceof a?this.tween.set(t.props):t instanceof h&&this.tween.$tick(t.delta),this.tween.call(function(){return e.pathComplete(t)})},r.prototype.pathComplete=function(t){t.dispatchEventWith("complete"),this.dispatchEventWith("pathComplete",!1,t);var e=this._paths.indexOf(t);e>=0&&e===this._paths.length-1&&this.dispatchEventWith("complete")},r}(t.EventDispatcher);e.TweenItem=u,__reflect(u.prototype,"egret.tween.TweenItem"),r(u,"paths","Array",!0);var l=function(t){function e(){var e=t.call(this)||this;return e.completeCount=0,e}return __extends(e,t),Object.defineProperty(e.prototype,"items",{get:function(){return this._items},set:function(t){this.completeCount=0,this.registerEvent(!1),this._items=t,this.registerEvent(!0)},enumerable:!0,configurable:!0}),e.prototype.registerEvent=function(t){var e=this;this._items&&this._items.forEach(function(i){t?i.addEventListener("complete",e.itemComplete,e):i.removeEventListener("complete",e.itemComplete,e)})},e.prototype.play=function(t){if(this._items)for(var e=0;e<this._items.length;e++){var i=this._items[e];i.play(t)}},e.prototype.pause=function(){if(this._items)for(var t=0;t<this._items.length;t++){var e=this._items[t];e.pause()}},e.prototype.stop=function(){if(this._items)for(var t=0;t<this._items.length;t++){var e=this._items[t];e.stop()}},e.prototype.itemComplete=function(t){var e=t.currentTarget;this.completeCount++,this.dispatchEventWith("itemComplete",!1,e),this.completeCount===this.items.length&&(this.dispatchEventWith("complete"),this.completeCount=0)},e}(t.EventDispatcher);e.TweenGroup=l,__reflect(l.prototype,"egret.tween.TweenGroup"),r(l,"items","Array",!0)}(e=t.tween||(t.tween={}))}(egret||(egret={}));var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);i.prototype=e.prototype,t.prototype=new i},egret;!function(t){}(egret||(egret={}));var egret;!function(t){var e=function(e){function i(r,n){void 0===r&&(r=""),void 0===n&&(n=0);var o=e.call(this)||this;return o._writeMessage="",o._readMessage="",o._connected=!1,o._connecting=!1,o._isReadySend=!1,o._bytesWrite=!1,o._type=i.TYPE_STRING,o._connected=!1,o._writeMessage="",o._readMessage="",o.socket=new t.ISocket,o.socket.addCallBacks(o.onConnect,o.onClose,o.onSocketData,o.onError,o),o}return __extends(i,e),i.prototype.connect=function(t,e){this._connecting||this._connected||(this._connecting=!0,this.socket.connect(t,e))},i.prototype.connectByUrl=function(t){this._connecting||this._connected||(this._connecting=!0,this.socket.connectByUrl(t))},i.prototype.close=function(){this._connected&&this.socket.close()},i.prototype.onConnect=function(){this._connected=!0,this._connecting=!1,this.dispatchEventWith(t.Event.CONNECT)},i.prototype.onClose=function(){this._connected=!1,this.dispatchEventWith(t.Event.CLOSE)},i.prototype.onError=function(){this._connecting&&(this._connecting=!1),this.dispatchEventWith(t.IOErrorEvent.IO_ERROR)},i.prototype.onSocketData=function(e){"string"==typeof e?this._readMessage+=e:this._readByte._writeUint8Array(new Uint8Array(e)),t.ProgressEvent.dispatchProgressEvent(this,t.ProgressEvent.SOCKET_DATA)},i.prototype.flush=function(){return this._connected?(this._writeMessage&&(this.socket.send(this._writeMessage),this._writeMessage=""),this._bytesWrite&&(this.socket.send(this._writeByte.buffer),this._bytesWrite=!1,this._writeByte.clear()),void(this._isReadySend=!1)):void t.$warn(3101)},i.prototype.writeUTF=function(e){return this._connected?(this._type==i.TYPE_BINARY?(this._bytesWrite=!0,this._writeByte.writeUTF(e)):this._writeMessage+=e,void this.flush()):void t.$warn(3101)},i.prototype.readUTF=function(){var t;return this._type==i.TYPE_BINARY?(this._readByte.position=0,t=this._readByte.readUTF(),this._readByte.clear()):(t=this._readMessage,this._readMessage=""),t},i.prototype.writeBytes=function(e,i,r){return void 0===i&&(i=0),void 0===r&&(r=0),this._connected?this._writeByte?(this._bytesWrite=!0,this._writeByte.writeBytes(e,i,r),void this.flush()):void t.$warn(3102):void t.$warn(3101)},i.prototype.readBytes=function(e,i,r){return void 0===i&&(i=0),void 0===r&&(r=0),this._readByte?(this._readByte.position=0,this._readByte.readBytes(e,i,r),void this._readByte.clear()):void t.$warn(3102)},Object.defineProperty(i.prototype,"connected",{get:function(){return this._connected},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"type",{get:function(){return this._type},set:function(e){this._type=e,e!=i.TYPE_BINARY||this._writeByte||(this._readByte=new t.ByteArray,this._writeByte=new t.ByteArray)},enumerable:!0,configurable:!0}),i.TYPE_STRING="webSocketTypeString",i.TYPE_BINARY="webSocketTypeBinary",i}(t.EventDispatcher);t.WebSocket=e,__reflect(e.prototype,"egret.WebSocket")}(egret||(egret={}));var egret;!function(t){var e;!function(e){var i=function(){function e(){this.host="",this.port=0,window.WebSocket||t.$error(3100)}return e.prototype.addCallBacks=function(t,e,i,r,n){this.onConnect=t,this.onClose=e,this.onSocketData=i,this.onError=r,this.thisObject=n},e.prototype.connect=function(t,e){this.host=t,this.port=e;var i="ws://"+this.host+":"+this.port;this.socket=new window.WebSocket(i),this.socket.binaryType="arraybuffer",this._bindEvent()},e.prototype.connectByUrl=function(t){this.socket=new window.WebSocket(t),this.socket.binaryType="arraybuffer",this._bindEvent()},e.prototype._bindEvent=function(){var t=this,e=this.socket;e.onopen=function(){t.onConnect&&t.onConnect.call(t.thisObject)},e.onclose=function(e){t.onClose&&t.onClose.call(t.thisObject)},e.onerror=function(e){t.onError&&t.onError.call(t.thisObject)},e.onmessage=function(e){t.onSocketData&&t.onSocketData.call(t.thisObject,e.data)}},e.prototype.send=function(t){this.socket.send(t)},e.prototype.close=function(){this.socket.close()},e.prototype.disconnect=function(){this.socket.disconnect&&this.socket.disconnect()},e}();e.HTML5WebSocket=i,__reflect(i.prototype,"egret.web.HTML5WebSocket",["egret.ISocket"]),t.ISocket=i}(e=t.web||(t.web={}))}(egret||(egret={})),window.egret=egret;var egret=window.egret;!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.JSZip=t()}}(function(){return function t(e,i,r){function n(s,a){if(!i[s]){if(!e[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=i[s]={exports:{}};e[s][0].call(l.exports,function(t){var i=e[s][1][t];return n(i?i:t)},l,l.exports,t,e,i,r)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}({1:[function(t,e,i){"use strict";var r=t("./utils"),n=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(t){for(var e,i,n,s,a,h,u,l=[],c=0,p=t.length,d=p,f="string"!==r.getTypeOf(t);c<t.length;)d=p-c,f?(e=t[c++],i=p>c?t[c++]:0,n=p>c?t[c++]:0):(e=t.charCodeAt(c++),i=p>c?t.charCodeAt(c++):0,n=p>c?t.charCodeAt(c++):0),s=e>>2,a=(3&e)<<4|i>>4,h=d>1?(15&i)<<2|n>>6:64,u=d>2?63&n:64,l.push(o.charAt(s)+o.charAt(a)+o.charAt(h)+o.charAt(u));return l.join("")},i.decode=function(t){var e,i,r,s,a,h,u,l=0,c=0,p="data:";if(t.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");var d=3*t.length/4;if(t.charAt(t.length-1)===o.charAt(64)&&d--,t.charAt(t.length-2)===o.charAt(64)&&d--,d%1!==0)throw new Error("Invalid base64 input, bad content length.");var f;for(f=n.uint8array?new Uint8Array(0|d):new Array(0|d);l<t.length;)s=o.indexOf(t.charAt(l++)),a=o.indexOf(t.charAt(l++)),h=o.indexOf(t.charAt(l++)),u=o.indexOf(t.charAt(l++)),e=s<<2|a>>4,i=(15&a)<<4|h>>2,r=(3&h)<<6|u,f[c++]=e,64!==h&&(f[c++]=i),64!==u&&(f[c++]=r);return f}},{"./support":30,"./utils":32}],2:[function(t,e,i){"use strict";function r(t,e,i,r,n){this.compressedSize=t,this.uncompressedSize=e,this.crc32=i,this.compression=r,this.compressedContent=n}var n=t("./external"),o=t("./stream/DataWorker"),s=t("./stream/DataLengthProbe"),a=t("./stream/Crc32Probe"),s=t("./stream/DataLengthProbe");r.prototype={getContentWorker:function(){var t=new o(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new o(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},r.createWorkerFrom=function(t,e,i){return t.pipe(new a).pipe(new s("uncompressedSize")).pipe(e.compressWorker(i)).pipe(new s("compressedSize")).withStreamInfo("compression",e)},e.exports=r},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,i){"use strict";var r=t("./stream/GenericWorker");i.STORE={magic:"\x00\x00",compressWorker:function(t){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,i){"use strict";function r(){for(var t,e=[],i=0;256>i;i++){t=i;for(var r=0;8>r;r++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}function n(t,e,i,r){var n=a,o=r+i;t=-1^t;for(var s=r;o>s;s++)t=t>>>8^n[255&(t^e[s])];return-1^t}function o(t,e,i,r){var n=a,o=r+i;t=-1^t;for(var s=r;o>s;s++)t=t>>>8^n[255&(t^e.charCodeAt(s))];return-1^t}var s=t("./utils"),a=r();e.exports=function(t,e){if("undefined"==typeof t||!t.length)return 0;var i="string"!==s.getTypeOf(t);return i?n(0|e,t,t.length,0):o(0|e,t,t.length,0)}},{"./utils":32}],5:[function(t,e,i){"use strict";i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,e,i){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:r}},{lie:58}],7:[function(t,e,i){"use strict";function r(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=t("pako"),s=t("./utils"),a=t("./stream/GenericWorker"),h=n?"uint8array":"array";i.magic="\b\x00",s.inherits(r,a),r.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(h,t.data),!1)},r.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},r.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},r.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},i.compressWorker=function(t){return new r("Deflate",t)},i.uncompressWorker=function(){return new r("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:59}],8:[function(t,e,i){"use strict";function r(t,e,i,r){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=i,this.encodeFileName=r,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var n=t("../utils"),o=t("../stream/GenericWorker"),s=t("../utf8"),a=t("../crc32"),h=t("../signature"),u=function(t,e){var i,r="";for(i=0;e>i;i++)r+=String.fromCharCode(255&t),t>>>=8;return r},l=function(t,e){var i=t;return t||(i=e?16893:33204),(65535&i)<<16},c=function(t,e){return 63&(t||0)},p=function(t,e,i,r,o,p){var d,f,g=t.file,v=t.compression,y=p!==s.utf8encode,m=n.transformTo("string",p(g.name)),_=n.transformTo("string",s.utf8encode(g.name)),b=g.comment,$=n.transformTo("string",p(b)),x=n.transformTo("string",s.utf8encode(b)),E=_.length!==g.name.length,T=x.length!==b.length,w="",S="",C="",P=g.dir,k=g.date,O={crc32:0,compressedSize:0,uncompressedSize:0};(!e||i)&&(O.crc32=t.crc32,O.compressedSize=t.compressedSize,O.uncompressedSize=t.uncompressedSize);var I=0;e&&(I|=8),y||!E&&!T||(I|=2048);var D=0,R=0;P&&(D|=16),"UNIX"===o?(R=798,D|=l(g.unixPermissions,P)):(R=20,D|=c(g.dosPermissions,P)),d=k.getUTCHours(),d<<=6,d|=k.getUTCMinutes(),d<<=5,d|=k.getUTCSeconds()/2,f=k.getUTCFullYear()-1980,f<<=4,f|=k.getUTCMonth()+1,f<<=5,f|=k.getUTCDate(),E&&(S=u(1,1)+u(a(m),4)+_,w+="up"+u(S.length,2)+S),T&&(C=u(1,1)+u(a($),4)+x,w+="uc"+u(C.length,2)+C);var L="";L+="\n\x00",L+=u(I,2),L+=v.magic,L+=u(d,2),L+=u(f,2),L+=u(O.crc32,4),L+=u(O.compressedSize,4),L+=u(O.uncompressedSize,4),L+=u(m.length,2),L+=u(w.length,2);var A=h.LOCAL_FILE_HEADER+L+m+w,N=h.CENTRAL_FILE_HEADER+u(R,2)+L+u($.length,2)+"\x00\x00\x00\x00"+u(D,4)+u(r,4)+m+w+$;return{fileRecord:A,dirRecord:N}},d=function(t,e,i,r,o){var s="",a=n.transformTo("string",o(r));return s=h.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+u(t,2)+u(t,2)+u(e,4)+u(i,4)+u(a.length,2)+a},f=function(t){var e="";return e=h.DATA_DESCRIPTOR+u(t.crc32,4)+u(t.compressedSize,4)+u(t.uncompressedSize,4)};n.inherits(r,o),r.prototype.push=function(t){var e=t.meta.percent||0,i=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,o.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:i?(e+100*(i-r-1))/i:100}}))},r.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var i=p(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},r.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,i=p(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),e)this.push({data:f(t),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},r.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var i=this.bytesWritten-t,r=d(this.dirRecords.length,i,t,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},r.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},r.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},r.prototype.resume=function(){return o.prototype.resume.call(this)?!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0):!1},r.prototype.error=function(t){var e=this._sources;if(!o.prototype.error.call(this,t))return!1;for(var i=0;i<e.length;i++)try{e[i].error(t)}catch(t){}return!0},r.prototype.lock=function(){o.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=r},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,i){"use strict";var r=t("../compressions"),n=t("./ZipFileWorker"),o=function(t,e){var i=t||e,n=r[i];if(!n)throw new Error(i+" is not a valid compression method !");return n};i.generateWorker=function(t,e,i){var r=new n(e.streamFiles,i,e.platform,e.encodeFileName),s=0;try{t.forEach(function(t,i){s++;var n=o(i.options.compression,e.compression),a=i.options.compressionOptions||e.compressionOptions||{},h=i.dir,u=i.date;i._compressWorker(n,a).withStreamInfo("file",{name:t,dir:h,date:u,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(r)}),r.entriesCount=s}catch(a){r.error(a)}return r}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,i){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new r;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}r.prototype=t("./object"),r.prototype.loadAsync=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.version="3.1.5",r.loadAsync=function(t,e){return(new r).loadAsync(t,e)},r.external=t("./external"),e.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,i){"use strict";function r(t){return new o.Promise(function(e,i){var r=t.decompressed.getContentWorker().pipe(new h);r.on("error",function(t){i(t)}).on("end",function(){r.streamInfo.crc32!==t.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}var n=t("./utils"),o=t("./external"),s=t("./utf8"),n=t("./utils"),a=t("./zipEntries"),h=t("./stream/Crc32Probe"),u=t("./nodejsUtils");e.exports=function(t,e){var i=this;return e=n.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),u.isNode&&u.isStream(t)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var i=new a(e);return i.load(t),i}).then(function(t){var i=[o.Promise.resolve(t)],n=t.files;if(e.checkCRC32)for(var s=0;s<n.length;s++)i.push(r(n[s]));return o.Promise.all(i)}).then(function(t){for(var r=t.shift(),n=r.files,o=0;o<n.length;o++){var s=n[o];i.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders})}return r.zipComment.length&&(i.comment=r.zipComment),i})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,i){"use strict";function r(t,e){o.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}var n=t("../utils"),o=t("../stream/GenericWorker");n.inherits(r,o),r.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},r.prototype.pause=function(){return o.prototype.pause.call(this)?(this._stream.pause(),!0):!1},r.prototype.resume=function(){return o.prototype.resume.call(this)?(this._upstreamEnded?this.end():this._stream.resume(),!0):!1},e.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,i){"use strict";function r(t,e,i){n.call(this,e),this._helper=t;var r=this;t.on("data",function(t,e){r.push(t)||r._helper.pause(),i&&i(e)}).on("error",function(t){r.emit("error",t)}).on("end",function(){r.push(null)})}var n=t("readable-stream").Readable,o=t("../utils");o.inherits(r,n),r.prototype._read=function(){this._helper.resume()},e.exports=r},{"../utils":32,"readable-stream":16}],14:[function(t,e,i){"use strict";e.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(t,e){return new Buffer(t,e)},allocBuffer:function(t){return Buffer.alloc?Buffer.alloc(t):new Buffer(t)},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,i){"use strict";function r(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var n=t("./utf8"),o=t("./utils"),s=t("./stream/GenericWorker"),a=t("./stream/StreamHelper"),h=t("./defaults"),u=t("./compressedObject"),l=t("./zipObject"),c=t("./generate"),p=t("./nodejsUtils"),d=t("./nodejs/NodejsStreamInputAdapter"),f=function(t,e,i){var r,n=o.getTypeOf(e),a=o.extend(i||{},h);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(t=v(t)),a.createFolders&&(r=g(t))&&y.call(this,r,!0);var c="string"===n&&a.binary===!1&&a.base64===!1;i&&"undefined"!=typeof i.binary||(a.binary=!c);var f=e instanceof u&&0===e.uncompressedSize;(f||a.dir||!e||0===e.length)&&(a.base64=!1,a.binary=!0,e="",a.compression="STORE",n="string");var m=null;m=e instanceof u||e instanceof s?e:p.isNode&&p.isStream(e)?new d(t,e):o.prepareContent(t,e,a.binary,a.optimizedBinaryString,a.base64);var _=new l(t,m,a);this.files[t]=_},g=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},v=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},y=function(t,e){return e="undefined"!=typeof e?e:h.createFolders,t=v(t),this.files[t]||f.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},m={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,i,r;for(e in this.files)this.files.hasOwnProperty(e)&&(r=this.files[e],i=e.slice(this.root.length,e.length),i&&e.slice(0,this.root.length)===this.root&&t(i,r))},filter:function(t){var e=[];return this.forEach(function(i,r){t(i,r)&&e.push(r)}),e},file:function(t,e,i){if(1===arguments.length){if(r(t)){var n=t;return this.filter(function(t,e){return!e.dir&&n.test(t)})}var o=this.files[this.root+t];return o&&!o.dir?o:null}return t=this.root+t,f.call(this,t,e,i),this},folder:function(t){if(!t)return this;if(r(t))return this.filter(function(e,i){return i.dir&&t.test(e)});var e=this.root+t,i=y.call(this,e),n=this.clone();return n.root=i.name,n},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var i=this.filter(function(e,i){return i.name.slice(0,t.length)===t}),r=0;r<i.length;r++)delete this.files[i[r].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,i={};try{if(i=o.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode}),i.type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");o.checkSupport(i.type),("darwin"===i.platform||"freebsd"===i.platform||"linux"===i.platform||"sunos"===i.platform)&&(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS");var r=i.comment||this.comment||"";e=c.generateWorker(this,i,r)}catch(h){e=new s("error"),e.error(h)}return new a(e,i.type||"string",i.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return t=t||{},t.type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=m},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,i){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,i){"use strict";function r(t){n.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}var n=t("./DataReader"),o=t("../utils");o.inherits(r,n),r.prototype.byteAt=function(t){return this.data[this.zero+t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),i=t.charCodeAt(1),r=t.charCodeAt(2),n=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===i&&this.data[o+2]===r&&this.data[o+3]===n)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),i=t.charCodeAt(1),r=t.charCodeAt(2),n=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&i===o[1]&&r===o[2]&&n===o[3]},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./DataReader":18}],18:[function(t,e,i){"use strict";function r(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}var n=t("../utils");r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||0>t)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,i=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)i=(i<<8)+this.byteAt(e);return this.index+=t,i},readString:function(t){return n.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=r},{"../utils":32}],19:[function(t,e,i){"use strict";function r(t){n.call(this,t)}var n=t("./Uint8ArrayReader"),o=t("../utils");o.inherits(r,n),r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,i){"use strict";function r(t){n.call(this,t)}var n=t("./DataReader"),o=t("../utils");o.inherits(r,n),r.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},r.prototype.readAndCheckSignature=function(t){var e=this.readData(4);return t===e},r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./DataReader":18}],21:[function(t,e,i){"use strict";function r(t){n.call(this,t)}var n=t("./ArrayReader"),o=t("../utils");o.inherits(r,n),r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,i){"use strict";var r=t("../utils"),n=t("../support"),o=t("./ArrayReader"),s=t("./StringReader"),a=t("./NodeBufferReader"),h=t("./Uint8ArrayReader");e.exports=function(t){var e=r.getTypeOf(t);return r.checkSupport(e),"string"!==e||n.uint8array?"nodebuffer"===e?new a(t):n.uint8array?new h(r.transformTo("uint8array",t)):new o(r.transformTo("array",t)):new s(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,i){"use strict";i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,i){"use strict";function r(t){n.call(this,"ConvertWorker to "+t),this.destType=t}var n=t("./GenericWorker"),o=t("../utils");
o.inherits(r,n),r.prototype.processChunk=function(t){this.push({data:o.transformTo(this.destType,t.data),meta:t.meta})},e.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,i){"use strict";function r(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var n=t("./GenericWorker"),o=t("../crc32"),s=t("../utils");s.inherits(r,n),r.prototype.processChunk=function(t){this.streamInfo.crc32=o(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,i){"use strict";function r(t){o.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}var n=t("../utils"),o=t("./GenericWorker");n.inherits(r,o),r.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}o.prototype.processChunk.call(this,t)},e.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,i){"use strict";function r(t){o.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=n.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}var n=t("../utils"),o=t("./GenericWorker"),s=16384;n.inherits(r,o),r.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return o.prototype.resume.call(this)?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0):!1},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=s,e=null,i=Math.min(this.max,this.index+t);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,i);break;case"uint8array":e=this.data.subarray(this.index,i);break;case"array":case"nodebuffer":e=this.data.slice(this.index,i)}return this.index=i,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,i){"use strict";function r(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return this.isFinished?!1:(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var i=0;i<this._listeners[t].length;i++)this._listeners[t][i].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=r},{}],29:[function(t,e,i){"use strict";function r(t,e,i){switch(t){case"blob":return a.newBlob(a.transformTo("arraybuffer",e),i);case"base64":return l.encode(e);default:return a.transformTo(t,e)}}function n(t,e){var i,r=0,n=null,o=0;for(i=0;i<e.length;i++)o+=e[i].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(n=new Uint8Array(o),i=0;i<e.length;i++)n.set(e[i],r),r+=e[i].length;return n;case"nodebuffer":return Buffer.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}function o(t,e){return new p.Promise(function(i,o){var s=[],a=t._internalType,h=t._outputType,u=t._mimeType;t.on("data",function(t,i){s.push(t),e&&e(i)}).on("error",function(t){s=[],o(t)}).on("end",function(){try{var t=r(h,n(a,s),u);i(t)}catch(e){o(e)}s=[]}).resume()})}function s(t,e,i){var r=e;switch(e){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=e,this._mimeType=i,a.checkSupport(r),this._worker=t.pipe(new h(r)),t.lock()}catch(n){this._worker=new u("error"),this._worker.error(n)}}var a=t("../utils"),h=t("./ConvertWorker"),u=t("./GenericWorker"),l=t("../base64"),c=t("../support"),p=t("../external"),d=null;if(c.nodestream)try{d=t("../nodejs/NodejsStreamOutputAdapter")}catch(f){}s.prototype={accumulate:function(t){return o(this,t)},on:function(t,e){var i=this;return"data"===t?this._worker.on(t,function(t){e.call(i,t.data,t.meta)}):this._worker.on(t,function(){a.delay(e,arguments,i)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(a.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=s},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,i){"use strict";if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer="undefined"!=typeof Buffer,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var r=new ArrayBuffer(0);try{i.blob=0===new Blob([r],{type:"application/zip"}).size}catch(n){try{var o=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,s=new o;s.append(r),i.blob=0===s.getBlob("application/zip").size}catch(n){i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch(n){i.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,i){"use strict";function r(){h.call(this,"utf-8 decode"),this.leftOver=null}function n(){h.call(this,"utf-8 encode")}for(var o=t("./utils"),s=t("./support"),a=t("./nodejsUtils"),h=t("./stream/GenericWorker"),u=new Array(256),l=0;256>l;l++)u[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;u[254]=u[254]=1;var c=function(t){var e,i,r,n,o,a=t.length,h=0;for(n=0;a>n;n++)i=t.charCodeAt(n),55296===(64512&i)&&a>n+1&&(r=t.charCodeAt(n+1),56320===(64512&r)&&(i=65536+(i-55296<<10)+(r-56320),n++)),h+=128>i?1:2048>i?2:65536>i?3:4;for(e=s.uint8array?new Uint8Array(h):new Array(h),o=0,n=0;h>o;n++)i=t.charCodeAt(n),55296===(64512&i)&&a>n+1&&(r=t.charCodeAt(n+1),56320===(64512&r)&&(i=65536+(i-55296<<10)+(r-56320),n++)),128>i?e[o++]=i:2048>i?(e[o++]=192|i>>>6,e[o++]=128|63&i):65536>i?(e[o++]=224|i>>>12,e[o++]=128|i>>>6&63,e[o++]=128|63&i):(e[o++]=240|i>>>18,e[o++]=128|i>>>12&63,e[o++]=128|i>>>6&63,e[o++]=128|63&i);return e},p=function(t,e){var i;for(e=e||t.length,e>t.length&&(e=t.length),i=e-1;i>=0&&128===(192&t[i]);)i--;return 0>i?e:0===i?e:i+u[t[i]]>e?i:e},d=function(t){var e,i,r,n,s=t.length,a=new Array(2*s);for(i=0,e=0;s>e;)if(r=t[e++],128>r)a[i++]=r;else if(n=u[r],n>4)a[i++]=65533,e+=n-1;else{for(r&=2===n?31:3===n?15:7;n>1&&s>e;)r=r<<6|63&t[e++],n--;n>1?a[i++]=65533:65536>r?a[i++]=r:(r-=65536,a[i++]=55296|r>>10&1023,a[i++]=56320|1023&r)}return a.length!==i&&(a.subarray?a=a.subarray(0,i):a.length=i),o.applyFromCharCode(a)};i.utf8encode=function(t){return s.nodebuffer?a.newBufferFrom(t,"utf-8"):c(t)},i.utf8decode=function(t){return s.nodebuffer?o.transformTo("nodebuffer",t).toString("utf-8"):(t=o.transformTo(s.uint8array?"uint8array":"array",t),d(t))},o.inherits(r,h),r.prototype.processChunk=function(t){var e=o.transformTo(s.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var r=e;e=new Uint8Array(r.length+this.leftOver.length),e.set(this.leftOver,0),e.set(r,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var n=p(e),a=e;n!==e.length&&(s.uint8array?(a=e.subarray(0,n),this.leftOver=e.subarray(n,e.length)):(a=e.slice(0,n),this.leftOver=e.slice(n,e.length))),this.push({data:i.utf8decode(a),meta:t.meta})},r.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=r,o.inherits(n,h),n.prototype.processChunk=function(t){this.push({data:i.utf8encode(t.data),meta:t.meta})},i.Utf8EncodeWorker=n},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,i){"use strict";function r(t){var e=null;return e=h.uint8array?new Uint8Array(t.length):new Array(t.length),o(t,e)}function n(t){return t}function o(t,e){for(var i=0;i<t.length;++i)e[i]=255&t.charCodeAt(i);return e}function s(t){var e=65536,r=i.getTypeOf(t),n=!0;if("uint8array"===r?n=d.applyCanBeUsed.uint8array:"nodebuffer"===r&&(n=d.applyCanBeUsed.nodebuffer),n)for(;e>1;)try{return d.stringifyByChunk(t,r,e)}catch(o){e=Math.floor(e/2)}return d.stringifyByChar(t)}function a(t,e){for(var i=0;i<t.length;i++)e[i]=t[i];return e}var h=t("./support"),u=t("./base64"),l=t("./nodejsUtils"),c=t("core-js/library/fn/set-immediate"),p=t("./external");i.newBlob=function(t,e){i.checkSupport("blob");try{return new Blob([t],{type:e})}catch(r){try{var n=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,o=new n;return o.append(t),o.getBlob(e)}catch(r){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(t,e,i){var r=[],n=0,o=t.length;if(i>=o)return String.fromCharCode.apply(null,t);for(;o>n;)"array"===e||"nodebuffer"===e?r.push(String.fromCharCode.apply(null,t.slice(n,Math.min(n+i,o)))):r.push(String.fromCharCode.apply(null,t.subarray(n,Math.min(n+i,o)))),n+=i;return r.join("")},stringifyByChar:function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return e},applyCanBeUsed:{uint8array:function(){try{return h.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return h.nodebuffer&&1===String.fromCharCode.apply(null,l.allocBuffer(1)).length}catch(t){return!1}}()}};i.applyFromCharCode=s;var f={};f.string={string:n,array:function(t){return o(t,new Array(t.length))},arraybuffer:function(t){return f.string.uint8array(t).buffer},uint8array:function(t){return o(t,new Uint8Array(t.length))},nodebuffer:function(t){return o(t,l.allocBuffer(t.length))}},f.array={string:s,array:n,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l.newBufferFrom(t)}},f.arraybuffer={string:function(t){return s(new Uint8Array(t))},array:function(t){return a(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:n,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l.newBufferFrom(new Uint8Array(t))}},f.uint8array={string:s,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:n,nodebuffer:function(t){return l.newBufferFrom(t)}},f.nodebuffer={string:s,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return f.nodebuffer.uint8array(t).buffer},uint8array:function(t){return a(t,new Uint8Array(t.length))},nodebuffer:n},i.transformTo=function(t,e){if(e||(e=""),!t)return e;i.checkSupport(t);var r=i.getTypeOf(e),n=f[r][t](e);return n},i.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":h.nodebuffer&&l.isBuffer(t)?"nodebuffer":h.uint8array&&t instanceof Uint8Array?"uint8array":h.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(t){var e=h[t.toLowerCase()];if(!e)throw new Error(t+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(t){var e,i,r="";for(i=0;i<(t||"").length;i++)e=t.charCodeAt(i),r+="\\x"+(16>e?"0":"")+e.toString(16).toUpperCase();return r},i.delay=function(t,e,i){c(function(){t.apply(i||null,e||[])})},i.inherits=function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i},i.extend=function(){var t,e,i={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&"undefined"==typeof i[e]&&(i[e]=arguments[t][e]);return i},i.prepareContent=function(t,e,n,o,s){var a=p.Promise.resolve(e).then(function(t){var e=h.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)));return e&&"undefined"!=typeof FileReader?new p.Promise(function(e,i){var r=new FileReader;r.onload=function(t){e(t.target.result)},r.onerror=function(t){i(t.target.error)},r.readAsArrayBuffer(t)}):t});return a.then(function(e){var a=i.getTypeOf(e);return a?("arraybuffer"===a?e=i.transformTo("uint8array",e):"string"===a&&(s?e=u.decode(e):n&&o!==!0&&(e=r(e))),e):p.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"core-js/library/fn/set-immediate":36}],33:[function(t,e,i){"use strict";function r(t){this.files=[],this.loadOptions=t}var n=t("./reader/readerFor"),o=t("./utils"),s=t("./signature"),a=t("./zipEntry"),h=(t("./utf8"),t("./support"));r.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(e)+", expected "+o.pretty(t)+")")}},isSignature:function(t,e){var i=this.reader.index;this.reader.setIndex(t);var r=this.reader.readString(4),n=r===e;return this.reader.setIndex(i),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=h.uint8array?"uint8array":"array",i=o.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,i,r=this.zip64EndOfCentralSize-44,n=0;r>n;)t=this.reader.readInt(2),e=this.reader.readInt(4),i=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)t=new a({zip64:this.zip64},this.loadOptions),t.readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(0>t){var e=!this.isSignature(0,s.LOCAL_FILE_HEADER);throw e?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(t);var i=t;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,t=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),0>t)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=i-r;if(n>0)this.isSignature(i,s.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(0>n)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(t){this.reader=n(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=r},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,i){"use strict";function r(t,e){this.options=t,this.loadOptions=e}var n=t("./reader/readerFor"),o=t("./utils"),s=t("./compressedObject"),a=t("./crc32"),h=t("./utf8"),u=t("./compressions"),l=t("./support"),c=0,p=3,d=function(t){for(var e in u)if(u.hasOwnProperty(e)&&u[e].magic===t)return u[e];return null};r.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},readLocalPart:function(t){var e,i;if(t.skip(22),this.fileNameLength=t.readInt(2),i=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(e=d(this.compressionMethod),null===e)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=16&this.externalFileAttributes?!0:!1,t===c&&(this.dosPermissions=63&this.externalFileAttributes),t===p&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=n(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,i,r,n=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<n;)e=t.readInt(2),i=t.readInt(2),r=t.readData(i),this.extraFields[e]={id:e,length:i,value:r}},handleUTF8:function(){var t=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var i=o.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var n=o.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(n)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=n(t.value);return 1!==e.readInt(1)?null:a(this.fileName)!==e.readInt(4)?null:h.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=n(t.value);return 1!==e.readInt(1)?null:a(this.fileComment)!==e.readInt(4)?null:h.utf8decode(e.readData(t.length-5))}return null}},e.exports=r},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,i){"use strict";var r=t("./stream/StreamHelper"),n=t("./stream/DataWorker"),o=t("./utf8"),s=t("./compressedObject"),a=t("./stream/GenericWorker"),h=function(t,e,i){this.name=t,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=e,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}};h.prototype={internalStream:function(t){var e=null,i="string";try{if(!t)throw new Error("No output type specified.");i=t.toLowerCase();var n="string"===i||"text"===i;("binarystring"===i||"text"===i)&&(i="string"),e=this._decompressWorker();var s=!this._dataBinary;s&&!n&&(e=e.pipe(new o.Utf8EncodeWorker)),!s&&n&&(e=e.pipe(new o.Utf8DecodeWorker))}catch(h){e=new a("error"),e.error(h)}return new r(e,i,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(i,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof a?this._data:new n(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<u.length;c++)h.prototype[u[c]]=l;e.exports=h},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,i){t("../modules/web.immediate"),e.exports=t("../modules/_core").setImmediate},{"../modules/_core":40,"../modules/web.immediate":56}],37:[function(t,e,i){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],38:[function(t,e,i){var r=t("./_is-object");e.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":51}],39:[function(t,e,i){var r={}.toString;e.exports=function(t){return r.call(t).slice(8,-1)}},{}],40:[function(t,e,i){var r=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=r)},{}],41:[function(t,e,i){var r=t("./_a-function");e.exports=function(t,e,i){if(r(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,r){return t.call(e,i,r)};case 3:return function(i,r,n){return t.call(e,i,r,n)}}return function(){return t.apply(e,arguments)}}},{"./_a-function":37}],42:[function(t,e,i){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":45}],43:[function(t,e,i){var r=t("./_is-object"),n=t("./_global").document,o=r(n)&&r(n.createElement);e.exports=function(t){return o?n.createElement(t):{}}},{"./_global":46,"./_is-object":51}],44:[function(t,e,i){var r=t("./_global"),n=t("./_core"),o=t("./_ctx"),s=t("./_hide"),a="prototype",h=function(t,e,i){var u,l,c,p=t&h.F,d=t&h.G,f=t&h.S,g=t&h.P,v=t&h.B,y=t&h.W,m=d?n:n[e]||(n[e]={}),_=m[a],b=d?r:f?r[e]:(r[e]||{})[a];d&&(i=e);for(u in i)l=!p&&b&&void 0!==b[u],l&&u in m||(c=l?b[u]:i[u],m[u]=d&&"function"!=typeof b[u]?i[u]:v&&l?o(c,r):y&&b[u]==c?function(t){var e=function(e,i,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,r)}return t.apply(this,arguments)};return e[a]=t[a],e}(c):g&&"function"==typeof c?o(Function.call,c):c,g&&((m.virtual||(m.virtual={}))[u]=c,t&h.R&&_&&!_[u]&&s(_,u,c)))};h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,e.exports=h},{"./_core":40,"./_ctx":41,"./_global":46,"./_hide":47}],45:[function(t,e,i){e.exports=function(t){try{return!!t()}catch(e){return!0}}},{}],46:[function(t,e,i){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],47:[function(t,e,i){var r=t("./_object-dp"),n=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,i){return r.f(t,e,n(1,i))}:function(t,e,i){return t[e]=i,t}},{"./_descriptors":42,"./_object-dp":52,"./_property-desc":53}],48:[function(t,e,i){e.exports=t("./_global").document&&document.documentElement},{"./_global":46}],49:[function(t,e,i){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":42,"./_dom-create":43,"./_fails":45}],50:[function(t,e,i){e.exports=function(t,e,i){var r=void 0===i;switch(e.length){case 0:return r?t():t.call(i);case 1:return r?t(e[0]):t.call(i,e[0]);case 2:return r?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},{}],51:[function(t,e,i){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],52:[function(t,e,i){var r=t("./_an-object"),n=t("./_ie8-dom-define"),o=t("./_to-primitive"),s=Object.defineProperty;i.f=t("./_descriptors")?Object.defineProperty:function(t,e,i){if(r(t),e=o(e,!0),r(i),n)try{return s(t,e,i)}catch(a){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},{"./_an-object":38,"./_descriptors":42,"./_ie8-dom-define":49,"./_to-primitive":55}],53:[function(t,e,i){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],54:[function(t,e,i){var r,n,o,s=t("./_ctx"),a=t("./_invoke"),h=t("./_html"),u=t("./_dom-create"),l=t("./_global"),c=l.process,p=l.setImmediate,d=l.clearImmediate,f=l.MessageChannel,g=0,v={},y="onreadystatechange",m=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},_=function(t){m.call(t.data)};p&&d||(p=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return v[++g]=function(){a("function"==typeof t?t:Function(t),e)},r(g),g},d=function(t){delete v[t]},"process"==t("./_cof")(c)?r=function(t){c.nextTick(s(m,t,1))}:f?(n=new f,o=n.port2,n.port1.onmessage=_,r=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",_,!1)):r=y in u("script")?function(t){h.appendChild(u("script"))[y]=function(){h.removeChild(this),m.call(t)}}:function(t){setTimeout(s(m,t,1),0)}),e.exports={set:p,clear:d}},{"./_cof":39,"./_ctx":41,"./_dom-create":43,"./_global":46,"./_html":48,"./_invoke":50}],55:[function(t,e,i){var r=t("./_is-object");e.exports=function(t,e){if(!r(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!r(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":51}],56:[function(t,e,i){var r=t("./_export"),n=t("./_task");r(r.G+r.B,{setImmediate:n.set,clearImmediate:n.clear})},{"./_export":44,"./_task":54}],57:[function(t,e,i){(function(t){"use strict";function i(){l=!0;for(var t,e,i=c.length;i;){for(e=c,c=[],t=-1;++t<i;)e[t]();i=c.length}l=!1}function r(t){1!==c.push(t)||l||n()}var n,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var s=0,a=new o(i),h=t.document.createTextNode("");a.observe(h,{characterData:!0}),n=function(){h.data=s=++s%2}}else if(t.setImmediate||"undefined"==typeof t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){i(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(i,0)};else{var u=new t.MessageChannel;u.port1.onmessage=i,n=function(){u.port2.postMessage(0)}}var l,c=[];e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(t,e,i){"use strict";function r(){}function n(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,t!==r&&h(this,t)}function o(t,e,i){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function s(t,e,i){f(function(){var r;try{r=e(i)}catch(n){return g.reject(t,n)}r===t?g.reject(t,new TypeError("Cannot resolve promise with itself")):g.resolve(t,r)})}function a(t){var e=t&&t.then;return!t||"object"!=typeof t&&"function"!=typeof t||"function"!=typeof e?void 0:function(){e.apply(t,arguments)}}function h(t,e){function i(e){o||(o=!0,g.reject(t,e))}function r(e){o||(o=!0,g.resolve(t,e))}function n(){e(r,i)}var o=!1,s=u(n);"error"===s.status&&i(s.value)}function u(t,e){var i={};try{i.value=t(e),i.status="success"}catch(r){i.status="error",i.value=r}return i}function l(t){return t instanceof this?t:g.resolve(new this(r),t)
}function c(t){var e=new this(r);return g.reject(e,t)}function p(t){function e(t,e){function r(t){s[e]=t,++a!==n||o||(o=!0,g.resolve(u,s))}i.resolve(t).then(r,function(t){o||(o=!0,g.reject(u,t))})}var i=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,o=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,h=-1,u=new this(r);++h<n;)e(t[h],h);return u}function d(t){function e(t){i.resolve(t).then(function(t){o||(o=!0,g.resolve(a,t))},function(t){o||(o=!0,g.reject(a,t))})}var i=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,o=!1;if(!n)return this.resolve([]);for(var s=-1,a=new this(r);++s<n;)e(t[s]);return a}var f=t("immediate"),g={},v=["REJECTED"],y=["FULFILLED"],m=["PENDING"];e.exports=n,n.prototype["catch"]=function(t){return this.then(null,t)},n.prototype.then=function(t,e){if("function"!=typeof t&&this.state===y||"function"!=typeof e&&this.state===v)return this;var i=new this.constructor(r);if(this.state!==m){var n=this.state===y?t:e;s(i,n,this.outcome)}else this.queue.push(new o(i,t,e));return i},o.prototype.callFulfilled=function(t){g.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){s(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){g.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){s(this.promise,this.onRejected,t)},g.resolve=function(t,e){var i=u(a,e);if("error"===i.status)return g.reject(t,i.value);var r=i.value;if(r)h(t,r);else{t.state=y,t.outcome=e;for(var n=-1,o=t.queue.length;++n<o;)t.queue[n].callFulfilled(e)}return t},g.reject=function(t,e){t.state=v,t.outcome=e;for(var i=-1,r=t.queue.length;++i<r;)t.queue[i].callRejected(e);return t},n.resolve=l,n.reject=c,n.all=p,n.race=d},{immediate:57}],59:[function(t,e,i){"use strict";var r=t("./lib/utils/common").assign,n=t("./lib/deflate"),o=t("./lib/inflate"),s=t("./lib/zlib/constants"),a={};r(a,n,o,s),e.exports=a},{"./lib/deflate":60,"./lib/inflate":61,"./lib/utils/common":62,"./lib/zlib/constants":65}],60:[function(t,e,i){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=h.assign({level:m,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var i=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==g)throw new Error(l[i]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(n="string"==typeof e.dictionary?u.string2buf(e.dictionary):"[object ArrayBuffer]"===p.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,i=a.deflateSetDictionary(this.strm,n),i!==g)throw new Error(l[i]);this._dict_set=!0}}function n(t,e){var i=new r(e);if(i.push(t,!0),i.err)throw i.msg||l[i.err];return i.result}function o(t,e){return e=e||{},e.raw=!0,n(t,e)}function s(t,e){return e=e||{},e.gzip=!0,n(t,e)}var a=t("./zlib/deflate"),h=t("./utils/common"),u=t("./utils/strings"),l=t("./zlib/messages"),c=t("./zlib/zstream"),p=Object.prototype.toString,d=0,f=4,g=0,v=1,y=2,m=-1,_=0,b=8;r.prototype.push=function(t,e){var i,r,n=this.strm,o=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:e===!0?f:d,"string"==typeof t?n.input=u.string2buf(t):"[object ArrayBuffer]"===p.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new h.Buf8(o),n.next_out=0,n.avail_out=o),i=a.deflate(n,r),i!==v&&i!==g)return this.onEnd(i),this.ended=!0,!1;(0===n.avail_out||0===n.avail_in&&(r===f||r===y))&&("string"===this.options.to?this.onData(u.buf2binstring(h.shrinkBuf(n.output,n.next_out))):this.onData(h.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||0===n.avail_out)&&i!==v);return r===f?(i=a.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===g):r===y?(this.onEnd(g),n.avail_out=0,!0):!0},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===g&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Deflate=r,i.deflate=n,i.deflateRaw=o,i.gzip=s},{"./utils/common":62,"./utils/strings":63,"./zlib/deflate":67,"./zlib/messages":72,"./zlib/zstream":74}],61:[function(t,e,i){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var i=s.inflateInit2(this.strm,e.windowBits);if(i!==u.Z_OK)throw new Error(l[i]);this.header=new p,s.inflateGetHeader(this.strm,this.header)}function n(t,e){var i=new r(e);if(i.push(t,!0),i.err)throw i.msg||l[i.err];return i.result}function o(t,e){return e=e||{},e.raw=!0,n(t,e)}var s=t("./zlib/inflate"),a=t("./utils/common"),h=t("./utils/strings"),u=t("./zlib/constants"),l=t("./zlib/messages"),c=t("./zlib/zstream"),p=t("./zlib/gzheader"),d=Object.prototype.toString;r.prototype.push=function(t,e){var i,r,n,o,l,c,p=this.strm,f=this.options.chunkSize,g=this.options.dictionary,v=!1;if(this.ended)return!1;r=e===~~e?e:e===!0?u.Z_FINISH:u.Z_NO_FLUSH,"string"==typeof t?p.input=h.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?p.input=new Uint8Array(t):p.input=t,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new a.Buf8(f),p.next_out=0,p.avail_out=f),i=s.inflate(p,u.Z_NO_FLUSH),i===u.Z_NEED_DICT&&g&&(c="string"==typeof g?h.string2buf(g):"[object ArrayBuffer]"===d.call(g)?new Uint8Array(g):g,i=s.inflateSetDictionary(this.strm,c)),i===u.Z_BUF_ERROR&&v===!0&&(i=u.Z_OK,v=!1),i!==u.Z_STREAM_END&&i!==u.Z_OK)return this.onEnd(i),this.ended=!0,!1;p.next_out&&(0===p.avail_out||i===u.Z_STREAM_END||0===p.avail_in&&(r===u.Z_FINISH||r===u.Z_SYNC_FLUSH))&&("string"===this.options.to?(n=h.utf8border(p.output,p.next_out),o=p.next_out-n,l=h.buf2string(p.output,n),p.next_out=o,p.avail_out=f-o,o&&a.arraySet(p.output,p.output,n,o,0),this.onData(l)):this.onData(a.shrinkBuf(p.output,p.next_out))),0===p.avail_in&&0===p.avail_out&&(v=!0)}while((p.avail_in>0||0===p.avail_out)&&i!==u.Z_STREAM_END);return i===u.Z_STREAM_END&&(r=u.Z_FINISH),r===u.Z_FINISH?(i=s.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===u.Z_OK):r===u.Z_SYNC_FLUSH?(this.onEnd(u.Z_OK),p.avail_out=0,!0):!0},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===u.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Inflate=r,i.inflate=n,i.inflateRaw=o,i.ungzip=n},{"./utils/common":62,"./utils/strings":63,"./zlib/constants":65,"./zlib/gzheader":68,"./zlib/inflate":70,"./zlib/messages":72,"./zlib/zstream":74}],62:[function(t,e,i){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}}return t},i.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,i,r,n){if(e.subarray&&t.subarray)return void t.set(e.subarray(i,i+r),n);for(var o=0;r>o;o++)t[n+o]=e[i+o]},flattenChunks:function(t){var e,i,r,n,o,s;for(r=0,e=0,i=t.length;i>e;e++)r+=t[e].length;for(s=new Uint8Array(r),n=0,e=0,i=t.length;i>e;e++)o=t[e],s.set(o,n),n+=o.length;return s}},o={arraySet:function(t,e,i,r,n){for(var o=0;r>o;o++)t[n+o]=e[i+o]},flattenChunks:function(t){return[].concat.apply([],t)}};i.setTyped=function(t){t?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,n)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(r)},{}],63:[function(t,e,i){"use strict";function r(t,e){if(65537>e&&(t.subarray&&s||!t.subarray&&o))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var i="",r=0;e>r;r++)i+=String.fromCharCode(t[r]);return i}var n=t("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(a){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){s=!1}for(var h=new n.Buf8(256),u=0;256>u;u++)h[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;h[254]=h[254]=1,i.string2buf=function(t){var e,i,r,o,s,a=t.length,h=0;for(o=0;a>o;o++)i=t.charCodeAt(o),55296===(64512&i)&&a>o+1&&(r=t.charCodeAt(o+1),56320===(64512&r)&&(i=65536+(i-55296<<10)+(r-56320),o++)),h+=128>i?1:2048>i?2:65536>i?3:4;for(e=new n.Buf8(h),s=0,o=0;h>s;o++)i=t.charCodeAt(o),55296===(64512&i)&&a>o+1&&(r=t.charCodeAt(o+1),56320===(64512&r)&&(i=65536+(i-55296<<10)+(r-56320),o++)),128>i?e[s++]=i:2048>i?(e[s++]=192|i>>>6,e[s++]=128|63&i):65536>i?(e[s++]=224|i>>>12,e[s++]=128|i>>>6&63,e[s++]=128|63&i):(e[s++]=240|i>>>18,e[s++]=128|i>>>12&63,e[s++]=128|i>>>6&63,e[s++]=128|63&i);return e},i.buf2binstring=function(t){return r(t,t.length)},i.binstring2buf=function(t){for(var e=new n.Buf8(t.length),i=0,r=e.length;r>i;i++)e[i]=t.charCodeAt(i);return e},i.buf2string=function(t,e){var i,n,o,s,a=e||t.length,u=new Array(2*a);for(n=0,i=0;a>i;)if(o=t[i++],128>o)u[n++]=o;else if(s=h[o],s>4)u[n++]=65533,i+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&a>i;)o=o<<6|63&t[i++],s--;s>1?u[n++]=65533:65536>o?u[n++]=o:(o-=65536,u[n++]=55296|o>>10&1023,u[n++]=56320|1023&o)}return r(u,n)},i.utf8border=function(t,e){var i;for(e=e||t.length,e>t.length&&(e=t.length),i=e-1;i>=0&&128===(192&t[i]);)i--;return 0>i?e:0===i?e:i+h[t[i]]>e?i:e}},{"./common":62}],64:[function(t,e,i){"use strict";function r(t,e,i,r){for(var n=65535&t|0,o=t>>>16&65535|0,s=0;0!==i;){s=i>2e3?2e3:i,i-=s;do n=n+e[r++]|0,o=o+n|0;while(--s);n%=65521,o%=65521}return n|o<<16|0}e.exports=r},{}],65:[function(t,e,i){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],66:[function(t,e,i){"use strict";function r(){for(var t,e=[],i=0;256>i;i++){t=i;for(var r=0;8>r;r++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}function n(t,e,i,r){var n=o,s=r+i;t^=-1;for(var a=r;s>a;a++)t=t>>>8^n[255&(t^e[a])];return-1^t}var o=r();e.exports=n},{}],67:[function(t,e,i){"use strict";function r(t,e){return t.msg=L[e],e}function n(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function s(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(O.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function a(t,e){I._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,s(t.strm)}function h(t,e){t.pending_buf[t.pending++]=e}function u(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function l(t,e,i,r){var n=t.avail_in;return n>r&&(n=r),0===n?0:(t.avail_in-=n,O.arraySet(e,t.input,t.next_in,n,i),1===t.state.wrap?t.adler=D(t.adler,e,n,i):2===t.state.wrap&&(t.adler=R(t.adler,e,n,i)),t.next_in+=n,t.total_in+=n,n)}function c(t,e){var i,r,n=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,h=t.strstart>t.w_size-ce?t.strstart-(t.w_size-ce):0,u=t.window,l=t.w_mask,c=t.prev,p=t.strstart+le,d=u[o+s-1],f=u[o+s];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,u[i+s]===f&&u[i+s-1]===d&&u[i]===u[o]&&u[++i]===u[o+1]){o+=2,i++;do;while(u[++o]===u[++i]&&u[++o]===u[++i]&&u[++o]===u[++i]&&u[++o]===u[++i]&&u[++o]===u[++i]&&u[++o]===u[++i]&&u[++o]===u[++i]&&u[++o]===u[++i]&&p>o);if(r=le-(p-o),o=p-le,r>s){if(t.match_start=e,s=r,r>=a)break;d=u[o+s-1],f=u[o+s]}}while((e=c[e&l])>h&&0!==--n);return s<=t.lookahead?s:t.lookahead}function p(t){var e,i,r,n,o,s=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-ce)){O.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,i=t.hash_size,e=i;do r=t.head[--e],t.head[e]=r>=s?r-s:0;while(--i);i=s,e=i;do r=t.prev[--e],t.prev[e]=r>=s?r-s:0;while(--i);n+=s}if(0===t.strm.avail_in)break;if(i=l(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=i,t.lookahead+t.insert>=ue)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+ue-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<ue)););}while(t.lookahead<ce&&0!==t.strm.avail_in)}function d(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(p(t),0===t.lookahead&&e===A)return be;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+i;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,a(t,!1),0===t.strm.avail_out))return be;if(t.strstart-t.block_start>=t.w_size-ce&&(a(t,!1),0===t.strm.avail_out))return be}return t.insert=0,e===M?(a(t,!0),0===t.strm.avail_out?xe:Ee):t.strstart>t.block_start&&(a(t,!1),0===t.strm.avail_out)?be:be}function f(t,e){for(var i,r;;){if(t.lookahead<ce){if(p(t),t.lookahead<ce&&e===A)return be;if(0===t.lookahead)break}if(i=0,t.lookahead>=ue&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ue-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-ce&&(t.match_length=c(t,i)),t.match_length>=ue)if(r=I._tr_tally(t,t.strstart-t.match_start,t.match_length-ue),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ue){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ue-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=I._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(a(t,!1),0===t.strm.avail_out))return be}return t.insert=t.strstart<ue-1?t.strstart:ue-1,e===M?(a(t,!0),0===t.strm.avail_out?xe:Ee):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?be:$e}function g(t,e){for(var i,r,n;;){if(t.lookahead<ce){if(p(t),t.lookahead<ce&&e===A)return be;if(0===t.lookahead)break}if(i=0,t.lookahead>=ue&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ue-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ue-1,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-ce&&(t.match_length=c(t,i),t.match_length<=5&&(t.strategy===G||t.match_length===ue&&t.strstart-t.match_start>4096)&&(t.match_length=ue-1)),t.prev_length>=ue&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-ue,r=I._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ue),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ue-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=ue-1,t.strstart++,r&&(a(t,!1),0===t.strm.avail_out))return be}else if(t.match_available){if(r=I._tr_tally(t,0,t.window[t.strstart-1]),r&&a(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return be}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=I._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ue-1?t.strstart:ue-1,e===M?(a(t,!0),0===t.strm.avail_out?xe:Ee):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?be:$e}function v(t,e){for(var i,r,n,o,s=t.window;;){if(t.lookahead<=le){if(p(t),t.lookahead<=le&&e===A)return be;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ue&&t.strstart>0&&(n=t.strstart-1,r=s[n],r===s[++n]&&r===s[++n]&&r===s[++n])){o=t.strstart+le;do;while(r===s[++n]&&r===s[++n]&&r===s[++n]&&r===s[++n]&&r===s[++n]&&r===s[++n]&&r===s[++n]&&r===s[++n]&&o>n);t.match_length=le-(o-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ue?(i=I._tr_tally(t,1,t.match_length-ue),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=I._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(a(t,!1),0===t.strm.avail_out))return be}return t.insert=0,e===M?(a(t,!0),0===t.strm.avail_out?xe:Ee):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?be:$e}function y(t,e){for(var i;;){if(0===t.lookahead&&(p(t),0===t.lookahead)){if(e===A)return be;break}if(t.match_length=0,i=I._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(a(t,!1),0===t.strm.avail_out))return be}return t.insert=0,e===M?(a(t,!0),0===t.strm.avail_out?xe:Ee):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?be:$e}function m(t,e,i,r,n){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=r,this.func=n}function _(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=k[t.level].max_lazy,t.good_match=k[t.level].good_length,t.nice_match=k[t.level].nice_length,t.max_chain_length=k[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ue-1,t.match_available=0,t.ins_h=0}function b(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=K,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new O.Buf16(2*ae),this.dyn_dtree=new O.Buf16(2*(2*oe+1)),this.bl_tree=new O.Buf16(2*(2*se+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new O.Buf16(he+1),this.heap=new O.Buf16(2*ne+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new O.Buf16(2*ne+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function $(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=J,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?de:me,t.adler=2===e.wrap?0:1,e.last_flush=A,I._tr_init(e),z):r(t,U)}function x(t){var e=$(t);return e===z&&_(t.state),e}function E(t,e){return t&&t.state?2!==t.state.wrap?U:(t.state.gzhead=e,z):U}function T(t,e,i,n,o,s){if(!t)return U;var a=1;if(e===V&&(e=6),0>n?(a=0,n=-n):n>15&&(a=2,n-=16),1>o||o>Q||i!==K||8>n||n>15||0>e||e>9||0>s||s>Z)return r(t,U);8===n&&(n=9);var h=new b;return t.state=h,h.strm=t,h.wrap=a,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=o+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+ue-1)/ue),h.window=new O.Buf8(2*h.w_size),h.head=new O.Buf16(h.hash_size),h.prev=new O.Buf16(h.w_size),h.lit_bufsize=1<<o+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new O.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=s,h.method=i,x(t)}function w(t,e){return T(t,e,K,te,ee,q)}function S(t,e){var i,a,l,c;if(!t||!t.state||e>F||0>e)return t?r(t,U):U;if(a=t.state,!t.output||!t.input&&0!==t.avail_in||a.status===_e&&e!==M)return r(t,0===t.avail_out?W:U);if(a.strm=t,i=a.last_flush,a.last_flush=e,a.status===de)if(2===a.wrap)t.adler=0,h(a,31),h(a,139),h(a,8),a.gzhead?(h(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),h(a,255&a.gzhead.time),h(a,a.gzhead.time>>8&255),h(a,a.gzhead.time>>16&255),h(a,a.gzhead.time>>24&255),h(a,9===a.level?2:a.strategy>=X||a.level<2?4:0),h(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(h(a,255&a.gzhead.extra.length),h(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=R(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=fe):(h(a,0),h(a,0),h(a,0),h(a,0),h(a,0),h(a,9===a.level?2:a.strategy>=X||a.level<2?4:0),h(a,Te),a.status=me);else{var p=K+(a.w_bits-8<<4)<<8,d=-1;d=a.strategy>=X||a.level<2?0:a.level<6?1:6===a.level?2:3,p|=d<<6,0!==a.strstart&&(p|=pe),p+=31-p%31,a.status=me,u(a,p),0!==a.strstart&&(u(a,t.adler>>>16),u(a,65535&t.adler)),t.adler=1}if(a.status===fe)if(a.gzhead.extra){for(l=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>l&&(t.adler=R(t.adler,a.pending_buf,a.pending-l,l)),s(t),l=a.pending,a.pending!==a.pending_buf_size));)h(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>l&&(t.adler=R(t.adler,a.pending_buf,a.pending-l,l)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=ge)}else a.status=ge;if(a.status===ge)if(a.gzhead.name){l=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>l&&(t.adler=R(t.adler,a.pending_buf,a.pending-l,l)),s(t),l=a.pending,a.pending===a.pending_buf_size)){c=1;break}c=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,h(a,c)}while(0!==c);a.gzhead.hcrc&&a.pending>l&&(t.adler=R(t.adler,a.pending_buf,a.pending-l,l)),0===c&&(a.gzindex=0,a.status=ve)}else a.status=ve;if(a.status===ve)if(a.gzhead.comment){l=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>l&&(t.adler=R(t.adler,a.pending_buf,a.pending-l,l)),s(t),l=a.pending,a.pending===a.pending_buf_size)){c=1;break}c=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,h(a,c)}while(0!==c);a.gzhead.hcrc&&a.pending>l&&(t.adler=R(t.adler,a.pending_buf,a.pending-l,l)),0===c&&(a.status=ye)}else a.status=ye;if(a.status===ye&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&s(t),a.pending+2<=a.pending_buf_size&&(h(a,255&t.adler),h(a,t.adler>>8&255),t.adler=0,a.status=me)):a.status=me),0!==a.pending){if(s(t),0===t.avail_out)return a.last_flush=-1,z}else if(0===t.avail_in&&n(e)<=n(i)&&e!==M)return r(t,W);if(a.status===_e&&0!==t.avail_in)return r(t,W);if(0!==t.avail_in||0!==a.lookahead||e!==A&&a.status!==_e){var f=a.strategy===X?y(a,e):a.strategy===Y?v(a,e):k[a.level].func(a,e);if((f===xe||f===Ee)&&(a.status=_e),f===be||f===xe)return 0===t.avail_out&&(a.last_flush=-1),z;if(f===$e&&(e===N?I._tr_align(a):e!==F&&(I._tr_stored_block(a,0,0,!1),e===B&&(o(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),s(t),0===t.avail_out))return a.last_flush=-1,z}return e!==M?z:a.wrap<=0?j:(2===a.wrap?(h(a,255&t.adler),h(a,t.adler>>8&255),h(a,t.adler>>16&255),h(a,t.adler>>24&255),h(a,255&t.total_in),h(a,t.total_in>>8&255),h(a,t.total_in>>16&255),h(a,t.total_in>>24&255)):(u(a,t.adler>>>16),u(a,65535&t.adler)),s(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?z:j)}function C(t){var e;return t&&t.state?(e=t.state.status,e!==de&&e!==fe&&e!==ge&&e!==ve&&e!==ye&&e!==me&&e!==_e?r(t,U):(t.state=null,e===me?r(t,H):z)):U}function P(t,e){var i,r,n,s,a,h,u,l,c=e.length;if(!t||!t.state)return U;if(i=t.state,s=i.wrap,2===s||1===s&&i.status!==de||i.lookahead)return U;for(1===s&&(t.adler=D(t.adler,e,c,0)),i.wrap=0,c>=i.w_size&&(0===s&&(o(i.head),i.strstart=0,i.block_start=0,i.insert=0),l=new O.Buf8(i.w_size),O.arraySet(l,e,c-i.w_size,i.w_size,0),e=l,c=i.w_size),a=t.avail_in,h=t.next_in,u=t.input,t.avail_in=c,t.next_in=0,t.input=e,p(i);i.lookahead>=ue;){r=i.strstart,n=i.lookahead-(ue-1);do i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+ue-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++;while(--n);i.strstart=r,i.lookahead=ue-1,p(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=ue-1,i.match_available=0,t.next_in=h,t.input=u,t.avail_in=a,i.wrap=s,z}var k,O=t("../utils/common"),I=t("./trees"),D=t("./adler32"),R=t("./crc32"),L=t("./messages"),A=0,N=1,B=3,M=4,F=5,z=0,j=1,U=-2,H=-3,W=-5,V=-1,G=1,X=2,Y=3,Z=4,q=0,J=2,K=8,Q=9,te=15,ee=8,ie=29,re=256,ne=re+1+ie,oe=30,se=19,ae=2*ne+1,he=15,ue=3,le=258,ce=le+ue+1,pe=32,de=42,fe=69,ge=73,ve=91,ye=103,me=113,_e=666,be=1,$e=2,xe=3,Ee=4,Te=3;k=[new m(0,0,0,0,d),new m(4,4,8,4,f),new m(4,5,16,8,f),new m(4,6,32,32,f),new m(4,4,16,16,g),new m(8,16,32,32,g),new m(8,16,128,128,g),new m(8,32,128,256,g),new m(32,128,258,1024,g),new m(32,258,258,4096,g)],i.deflateInit=w,i.deflateInit2=T,i.deflateReset=x,i.deflateResetKeep=$,i.deflateSetHeader=E,i.deflate=S,i.deflateEnd=C,i.deflateSetDictionary=P,i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./messages":72,"./trees":73}],68:[function(t,e,i){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=r},{}],69:[function(t,e,i){"use strict";var r=30,n=12;e.exports=function(t,e){var i,o,s,a,h,u,l,c,p,d,f,g,v,y,m,_,b,$,x,E,T,w,S,C,P;i=t.state,o=t.next_in,C=t.input,s=o+(t.avail_in-5),a=t.next_out,P=t.output,h=a-(e-t.avail_out),u=a+(t.avail_out-257),l=i.dmax,c=i.wsize,p=i.whave,d=i.wnext,f=i.window,g=i.hold,v=i.bits,y=i.lencode,m=i.distcode,_=(1<<i.lenbits)-1,b=(1<<i.distbits)-1;t:do{15>v&&(g+=C[o++]<<v,v+=8,g+=C[o++]<<v,v+=8),$=y[g&_];e:for(;;){if(x=$>>>24,g>>>=x,v-=x,x=$>>>16&255,0===x)P[a++]=65535&$;else{if(!(16&x)){if(0===(64&x)){$=y[(65535&$)+(g&(1<<x)-1)];continue e}if(32&x){i.mode=n;break t}t.msg="invalid literal/length code",i.mode=r;break t}E=65535&$,x&=15,x&&(x>v&&(g+=C[o++]<<v,v+=8),E+=g&(1<<x)-1,g>>>=x,v-=x),15>v&&(g+=C[o++]<<v,v+=8,g+=C[o++]<<v,v+=8),$=m[g&b];i:for(;;){if(x=$>>>24,g>>>=x,v-=x,x=$>>>16&255,!(16&x)){if(0===(64&x)){$=m[(65535&$)+(g&(1<<x)-1)];continue i}t.msg="invalid distance code",i.mode=r;break t}if(T=65535&$,x&=15,x>v&&(g+=C[o++]<<v,v+=8,x>v&&(g+=C[o++]<<v,v+=8)),T+=g&(1<<x)-1,T>l){t.msg="invalid distance too far back",i.mode=r;break t}if(g>>>=x,v-=x,x=a-h,T>x){if(x=T-x,x>p&&i.sane){t.msg="invalid distance too far back",i.mode=r;break t}if(w=0,S=f,0===d){if(w+=c-x,E>x){E-=x;do P[a++]=f[w++];while(--x);w=a-T,S=P}}else if(x>d){if(w+=c+d-x,x-=d,E>x){E-=x;do P[a++]=f[w++];while(--x);if(w=0,E>d){x=d,E-=x;do P[a++]=f[w++];while(--x);w=a-T,S=P}}}else if(w+=d-x,E>x){E-=x;do P[a++]=f[w++];while(--x);w=a-T,S=P}for(;E>2;)P[a++]=S[w++],P[a++]=S[w++],P[a++]=S[w++],E-=3;E&&(P[a++]=S[w++],E>1&&(P[a++]=S[w++]))}else{w=a-T;do P[a++]=P[w++],P[a++]=P[w++],P[a++]=P[w++],E-=3;while(E>2);E&&(P[a++]=P[w++],E>1&&(P[a++]=P[w++]))}break}}break}}while(s>o&&u>a);E=v>>3,o-=E,v-=E<<3,g&=(1<<v)-1,t.next_in=o,t.next_out=a,t.avail_in=s>o?5+(s-o):5-(o-s),t.avail_out=u>a?257+(u-a):257-(a-u),i.hold=g,i.bits=v}},{}],70:[function(t,e,i){"use strict";function r(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function n(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=B,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new m.Buf32(ge),e.distcode=e.distdyn=new m.Buf32(ve),e.sane=1,e.back=-1,k):D}function s(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,o(t)):D}function a(t,e){var i,r;return t&&t.state?(r=t.state,0>e?(i=0,e=-e):(i=(e>>4)+1,48>e&&(e&=15)),e&&(8>e||e>15)?D:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=i,r.wbits=e,s(t))):D}function h(t,e){var i,r;return t?(r=new n,t.state=r,r.window=null,i=a(t,e),i!==k&&(t.state=null),i):D}function u(t){return h(t,me)}function l(t){if(_e){var e;for(v=new m.Buf32(512),y=new m.Buf32(32),e=0;144>e;)t.lens[e++]=8;for(;256>e;)t.lens[e++]=9;for(;280>e;)t.lens[e++]=7;for(;288>e;)t.lens[e++]=8;for(x(T,t.lens,0,288,v,0,t.work,{bits:9}),e=0;32>e;)t.lens[e++]=5;x(w,t.lens,0,32,y,0,t.work,{bits:5}),_e=!1}t.lencode=v,t.lenbits=9,t.distcode=y,t.distbits=5}function c(t,e,i,r){var n,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new m.Buf8(o.wsize)),r>=o.wsize?(m.arraySet(o.window,e,i-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(n=o.wsize-o.wnext,n>r&&(n=r),m.arraySet(o.window,e,i-r,n,o.wnext),r-=n,r?(m.arraySet(o.window,e,i-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=n,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=n))),0}function p(t,e){var i,n,o,s,a,h,u,p,d,f,g,v,y,ge,ve,ye,me,_e,be,$e,xe,Ee,Te,we,Se=0,Ce=new m.Buf8(4),Pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return D;i=t.state,i.mode===Y&&(i.mode=Z),a=t.next_out,o=t.output,u=t.avail_out,s=t.next_in,n=t.input,h=t.avail_in,p=i.hold,d=i.bits,f=h,g=u,Ee=k;t:for(;;)switch(i.mode){case B:if(0===i.wrap){i.mode=Z;break}for(;16>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}if(2&i.wrap&&35615===p){i.check=0,Ce[0]=255&p,Ce[1]=p>>>8&255,i.check=b(i.check,Ce,2,0),p=0,d=0,i.mode=M;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&p)<<8)+(p>>8))%31){t.msg="incorrect header check",i.mode=pe;break}if((15&p)!==N){t.msg="unknown compression method",i.mode=pe;break}if(p>>>=4,d-=4,xe=(15&p)+8,0===i.wbits)i.wbits=xe;else if(xe>i.wbits){t.msg="invalid window size",i.mode=pe;break}i.dmax=1<<xe,t.adler=i.check=1,i.mode=512&p?G:Y,p=0,d=0;break;case M:for(;16>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}if(i.flags=p,(255&i.flags)!==N){t.msg="unknown compression method",i.mode=pe;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=pe;break}i.head&&(i.head.text=p>>8&1),512&i.flags&&(Ce[0]=255&p,Ce[1]=p>>>8&255,i.check=b(i.check,Ce,2,0)),p=0,d=0,i.mode=F;case F:for(;32>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}i.head&&(i.head.time=p),512&i.flags&&(Ce[0]=255&p,Ce[1]=p>>>8&255,Ce[2]=p>>>16&255,Ce[3]=p>>>24&255,i.check=b(i.check,Ce,4,0)),p=0,d=0,i.mode=z;case z:for(;16>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}i.head&&(i.head.xflags=255&p,i.head.os=p>>8),512&i.flags&&(Ce[0]=255&p,Ce[1]=p>>>8&255,i.check=b(i.check,Ce,2,0)),p=0,d=0,i.mode=j;case j:if(1024&i.flags){for(;16>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}i.length=p,i.head&&(i.head.extra_len=p),512&i.flags&&(Ce[0]=255&p,Ce[1]=p>>>8&255,i.check=b(i.check,Ce,2,0)),p=0,d=0}else i.head&&(i.head.extra=null);i.mode=U;case U:if(1024&i.flags&&(v=i.length,v>h&&(v=h),v&&(i.head&&(xe=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),m.arraySet(i.head.extra,n,s,v,xe)),512&i.flags&&(i.check=b(i.check,n,v,s)),h-=v,s+=v,i.length-=v),i.length))break t;i.length=0,i.mode=H;case H:if(2048&i.flags){if(0===h)break t;v=0;do xe=n[s+v++],i.head&&xe&&i.length<65536&&(i.head.name+=String.fromCharCode(xe));while(xe&&h>v);if(512&i.flags&&(i.check=b(i.check,n,v,s)),h-=v,s+=v,xe)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=W;
case W:if(4096&i.flags){if(0===h)break t;v=0;do xe=n[s+v++],i.head&&xe&&i.length<65536&&(i.head.comment+=String.fromCharCode(xe));while(xe&&h>v);if(512&i.flags&&(i.check=b(i.check,n,v,s)),h-=v,s+=v,xe)break t}else i.head&&(i.head.comment=null);i.mode=V;case V:if(512&i.flags){for(;16>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}if(p!==(65535&i.check)){t.msg="header crc mismatch",i.mode=pe;break}p=0,d=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=Y;break;case G:for(;32>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}t.adler=i.check=r(p),p=0,d=0,i.mode=X;case X:if(0===i.havedict)return t.next_out=a,t.avail_out=u,t.next_in=s,t.avail_in=h,i.hold=p,i.bits=d,I;t.adler=i.check=1,i.mode=Y;case Y:if(e===C||e===P)break t;case Z:if(i.last){p>>>=7&d,d-=7&d,i.mode=ue;break}for(;3>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}switch(i.last=1&p,p>>>=1,d-=1,3&p){case 0:i.mode=q;break;case 1:if(l(i),i.mode=ie,e===P){p>>>=2,d-=2;break t}break;case 2:i.mode=Q;break;case 3:t.msg="invalid block type",i.mode=pe}p>>>=2,d-=2;break;case q:for(p>>>=7&d,d-=7&d;32>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}if((65535&p)!==(p>>>16^65535)){t.msg="invalid stored block lengths",i.mode=pe;break}if(i.length=65535&p,p=0,d=0,i.mode=J,e===P)break t;case J:i.mode=K;case K:if(v=i.length){if(v>h&&(v=h),v>u&&(v=u),0===v)break t;m.arraySet(o,n,s,v,a),h-=v,s+=v,u-=v,a+=v,i.length-=v;break}i.mode=Y;break;case Q:for(;14>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}if(i.nlen=(31&p)+257,p>>>=5,d-=5,i.ndist=(31&p)+1,p>>>=5,d-=5,i.ncode=(15&p)+4,p>>>=4,d-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=pe;break}i.have=0,i.mode=te;case te:for(;i.have<i.ncode;){for(;3>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}i.lens[Pe[i.have++]]=7&p,p>>>=3,d-=3}for(;i.have<19;)i.lens[Pe[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Te={bits:i.lenbits},Ee=x(E,i.lens,0,19,i.lencode,0,i.work,Te),i.lenbits=Te.bits,Ee){t.msg="invalid code lengths set",i.mode=pe;break}i.have=0,i.mode=ee;case ee:for(;i.have<i.nlen+i.ndist;){for(;Se=i.lencode[p&(1<<i.lenbits)-1],ve=Se>>>24,ye=Se>>>16&255,me=65535&Se,!(d>=ve);){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}if(16>me)p>>>=ve,d-=ve,i.lens[i.have++]=me;else{if(16===me){for(we=ve+2;we>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}if(p>>>=ve,d-=ve,0===i.have){t.msg="invalid bit length repeat",i.mode=pe;break}xe=i.lens[i.have-1],v=3+(3&p),p>>>=2,d-=2}else if(17===me){for(we=ve+3;we>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}p>>>=ve,d-=ve,xe=0,v=3+(7&p),p>>>=3,d-=3}else{for(we=ve+7;we>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}p>>>=ve,d-=ve,xe=0,v=11+(127&p),p>>>=7,d-=7}if(i.have+v>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=pe;break}for(;v--;)i.lens[i.have++]=xe}}if(i.mode===pe)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=pe;break}if(i.lenbits=9,Te={bits:i.lenbits},Ee=x(T,i.lens,0,i.nlen,i.lencode,0,i.work,Te),i.lenbits=Te.bits,Ee){t.msg="invalid literal/lengths set",i.mode=pe;break}if(i.distbits=6,i.distcode=i.distdyn,Te={bits:i.distbits},Ee=x(w,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Te),i.distbits=Te.bits,Ee){t.msg="invalid distances set",i.mode=pe;break}if(i.mode=ie,e===P)break t;case ie:i.mode=re;case re:if(h>=6&&u>=258){t.next_out=a,t.avail_out=u,t.next_in=s,t.avail_in=h,i.hold=p,i.bits=d,$(t,g),a=t.next_out,o=t.output,u=t.avail_out,s=t.next_in,n=t.input,h=t.avail_in,p=i.hold,d=i.bits,i.mode===Y&&(i.back=-1);break}for(i.back=0;Se=i.lencode[p&(1<<i.lenbits)-1],ve=Se>>>24,ye=Se>>>16&255,me=65535&Se,!(d>=ve);){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}if(ye&&0===(240&ye)){for(_e=ve,be=ye,$e=me;Se=i.lencode[$e+((p&(1<<_e+be)-1)>>_e)],ve=Se>>>24,ye=Se>>>16&255,me=65535&Se,!(d>=_e+ve);){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}p>>>=_e,d-=_e,i.back+=_e}if(p>>>=ve,d-=ve,i.back+=ve,i.length=me,0===ye){i.mode=he;break}if(32&ye){i.back=-1,i.mode=Y;break}if(64&ye){t.msg="invalid literal/length code",i.mode=pe;break}i.extra=15&ye,i.mode=ne;case ne:if(i.extra){for(we=i.extra;we>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}i.length+=p&(1<<i.extra)-1,p>>>=i.extra,d-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=oe;case oe:for(;Se=i.distcode[p&(1<<i.distbits)-1],ve=Se>>>24,ye=Se>>>16&255,me=65535&Se,!(d>=ve);){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}if(0===(240&ye)){for(_e=ve,be=ye,$e=me;Se=i.distcode[$e+((p&(1<<_e+be)-1)>>_e)],ve=Se>>>24,ye=Se>>>16&255,me=65535&Se,!(d>=_e+ve);){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}p>>>=_e,d-=_e,i.back+=_e}if(p>>>=ve,d-=ve,i.back+=ve,64&ye){t.msg="invalid distance code",i.mode=pe;break}i.offset=me,i.extra=15&ye,i.mode=se;case se:if(i.extra){for(we=i.extra;we>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}i.offset+=p&(1<<i.extra)-1,p>>>=i.extra,d-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=pe;break}i.mode=ae;case ae:if(0===u)break t;if(v=g-u,i.offset>v){if(v=i.offset-v,v>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=pe;break}v>i.wnext?(v-=i.wnext,y=i.wsize-v):y=i.wnext-v,v>i.length&&(v=i.length),ge=i.window}else ge=o,y=a-i.offset,v=i.length;v>u&&(v=u),u-=v,i.length-=v;do o[a++]=ge[y++];while(--v);0===i.length&&(i.mode=re);break;case he:if(0===u)break t;o[a++]=i.length,u--,i.mode=re;break;case ue:if(i.wrap){for(;32>d;){if(0===h)break t;h--,p|=n[s++]<<d,d+=8}if(g-=u,t.total_out+=g,i.total+=g,g&&(t.adler=i.check=i.flags?b(i.check,o,g,a-g):_(i.check,o,g,a-g)),g=u,(i.flags?p:r(p))!==i.check){t.msg="incorrect data check",i.mode=pe;break}p=0,d=0}i.mode=le;case le:if(i.wrap&&i.flags){for(;32>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}if(p!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=pe;break}p=0,d=0}i.mode=ce;case ce:Ee=O;break t;case pe:Ee=R;break t;case de:return L;case fe:default:return D}return t.next_out=a,t.avail_out=u,t.next_in=s,t.avail_in=h,i.hold=p,i.bits=d,(i.wsize||g!==t.avail_out&&i.mode<pe&&(i.mode<ue||e!==S))&&c(t,t.output,t.next_out,g-t.avail_out)?(i.mode=de,L):(f-=t.avail_in,g-=t.avail_out,t.total_in+=f,t.total_out+=g,i.total+=g,i.wrap&&g&&(t.adler=i.check=i.flags?b(i.check,o,g,t.next_out-g):_(i.check,o,g,t.next_out-g)),t.data_type=i.bits+(i.last?64:0)+(i.mode===Y?128:0)+(i.mode===ie||i.mode===J?256:0),(0===f&&0===g||e===S)&&Ee===k&&(Ee=A),Ee)}function d(t){if(!t||!t.state)return D;var e=t.state;return e.window&&(e.window=null),t.state=null,k}function f(t,e){var i;return t&&t.state?(i=t.state,0===(2&i.wrap)?D:(i.head=e,e.done=!1,k)):D}function g(t,e){var i,r,n,o=e.length;return t&&t.state?(i=t.state,0!==i.wrap&&i.mode!==X?D:i.mode===X&&(r=1,r=_(r,e,o,0),r!==i.check)?R:(n=c(t,e,o,o))?(i.mode=de,L):(i.havedict=1,k)):D}var v,y,m=t("../utils/common"),_=t("./adler32"),b=t("./crc32"),$=t("./inffast"),x=t("./inftrees"),E=0,T=1,w=2,S=4,C=5,P=6,k=0,O=1,I=2,D=-2,R=-3,L=-4,A=-5,N=8,B=1,M=2,F=3,z=4,j=5,U=6,H=7,W=8,V=9,G=10,X=11,Y=12,Z=13,q=14,J=15,K=16,Q=17,te=18,ee=19,ie=20,re=21,ne=22,oe=23,se=24,ae=25,he=26,ue=27,le=28,ce=29,pe=30,de=31,fe=32,ge=852,ve=592,ye=15,me=ye,_e=!0;i.inflateReset=s,i.inflateReset2=a,i.inflateResetKeep=o,i.inflateInit=u,i.inflateInit2=h,i.inflate=p,i.inflateEnd=d,i.inflateGetHeader=f,i.inflateSetDictionary=g,i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./inffast":69,"./inftrees":71}],71:[function(t,e,i){"use strict";var r=t("../utils/common"),n=15,o=852,s=592,a=0,h=1,u=2,l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,i,f,g,v,y,m){var _,b,$,x,E,T,w,S,C,P=m.bits,k=0,O=0,I=0,D=0,R=0,L=0,A=0,N=0,B=0,M=0,F=null,z=0,j=new r.Buf16(n+1),U=new r.Buf16(n+1),H=null,W=0;for(k=0;n>=k;k++)j[k]=0;for(O=0;f>O;O++)j[e[i+O]]++;for(R=P,D=n;D>=1&&0===j[D];D--);if(R>D&&(R=D),0===D)return g[v++]=20971520,g[v++]=20971520,m.bits=1,0;for(I=1;D>I&&0===j[I];I++);for(I>R&&(R=I),N=1,k=1;n>=k;k++)if(N<<=1,N-=j[k],0>N)return-1;if(N>0&&(t===a||1!==D))return-1;for(U[1]=0,k=1;n>k;k++)U[k+1]=U[k]+j[k];for(O=0;f>O;O++)0!==e[i+O]&&(y[U[e[i+O]]++]=O);if(t===a?(F=H=y,T=19):t===h?(F=l,z-=257,H=c,W-=257,T=256):(F=p,H=d,T=-1),M=0,O=0,k=I,E=v,L=R,A=0,$=-1,B=1<<R,x=B-1,t===h&&B>o||t===u&&B>s)return 1;for(;;){w=k-A,y[O]<T?(S=0,C=y[O]):y[O]>T?(S=H[W+y[O]],C=F[z+y[O]]):(S=96,C=0),_=1<<k-A,b=1<<L,I=b;do b-=_,g[E+(M>>A)+b]=w<<24|S<<16|C|0;while(0!==b);for(_=1<<k-1;M&_;)_>>=1;if(0!==_?(M&=_-1,M+=_):M=0,O++,0===--j[k]){if(k===D)break;k=e[i+y[O]]}if(k>R&&(M&x)!==$){for(0===A&&(A=R),E+=I,L=k-A,N=1<<L;D>L+A&&(N-=j[L+A],!(0>=N));)L++,N<<=1;if(B+=1<<L,t===h&&B>o||t===u&&B>s)return 1;$=M&x,g[$]=R<<24|L<<16|E-v|0}}return 0!==M&&(g[E+M]=k-A<<24|64<<16|0),m.bits=R,0}},{"../utils/common":62}],72:[function(t,e,i){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],73:[function(t,e,i){"use strict";function r(t){for(var e=t.length;--e>=0;)t[e]=0}function n(t,e,i,r,n){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=r,this.max_length=n,this.has_stree=t&&t.length}function o(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function s(t){return 256>t?he[t]:he[256+(t>>>7)]}function a(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function h(t,e,i){t.bi_valid>Z-i?(t.bi_buf|=e<<t.bi_valid&65535,a(t,t.bi_buf),t.bi_buf=e>>Z-t.bi_valid,t.bi_valid+=i-Z):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function u(t,e,i){h(t,i[2*e],i[2*e+1])}function l(t,e){var i=0;do i|=1&t,t>>>=1,i<<=1;while(--e>0);return i>>>1}function c(t){16===t.bi_valid?(a(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function p(t,e){var i,r,n,o,s,a,h=e.dyn_tree,u=e.max_code,l=e.stat_desc.static_tree,c=e.stat_desc.has_stree,p=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,f=e.stat_desc.max_length,g=0;for(o=0;Y>=o;o++)t.bl_count[o]=0;for(h[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;X>i;i++)r=t.heap[i],o=h[2*h[2*r+1]+1]+1,o>f&&(o=f,g++),h[2*r+1]=o,r>u||(t.bl_count[o]++,s=0,r>=d&&(s=p[r-d]),a=h[2*r],t.opt_len+=a*(o+s),c&&(t.static_len+=a*(l[2*r+1]+s)));if(0!==g){do{for(o=f-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[f]--,g-=2}while(g>0);for(o=f;0!==o;o--)for(r=t.bl_count[o];0!==r;)n=t.heap[--i],n>u||(h[2*n+1]!==o&&(t.opt_len+=(o-h[2*n+1])*h[2*n],h[2*n+1]=o),r--)}}function d(t,e,i){var r,n,o=new Array(Y+1),s=0;for(r=1;Y>=r;r++)o[r]=s=s+i[r-1]<<1;for(n=0;e>=n;n++){var a=t[2*n+1];0!==a&&(t[2*n]=l(o[a]++,a))}}function f(){var t,e,i,r,o,s=new Array(Y+1);for(i=0,r=0;U-1>r;r++)for(le[r]=i,t=0;t<1<<ee[r];t++)ue[i++]=r;for(ue[i-1]=r,o=0,r=0;16>r;r++)for(ce[r]=o,t=0;t<1<<ie[r];t++)he[o++]=r;for(o>>=7;V>r;r++)for(ce[r]=o<<7,t=0;t<1<<ie[r]-7;t++)he[256+o++]=r;for(e=0;Y>=e;e++)s[e]=0;for(t=0;143>=t;)se[2*t+1]=8,t++,s[8]++;for(;255>=t;)se[2*t+1]=9,t++,s[9]++;for(;279>=t;)se[2*t+1]=7,t++,s[7]++;for(;287>=t;)se[2*t+1]=8,t++,s[8]++;for(d(se,W+1,s),t=0;V>t;t++)ae[2*t+1]=5,ae[2*t]=l(t,5);pe=new n(se,ee,H+1,W,Y),de=new n(ae,ie,0,V,Y),fe=new n(new Array(0),re,0,G,q)}function g(t){var e;for(e=0;W>e;e++)t.dyn_ltree[2*e]=0;for(e=0;V>e;e++)t.dyn_dtree[2*e]=0;for(e=0;G>e;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*J]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function v(t){t.bi_valid>8?a(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function y(t,e,i,r){v(t),r&&(a(t,i),a(t,~i)),D.arraySet(t.pending_buf,t.window,e,i,t.pending),t.pending+=i}function m(t,e,i,r){var n=2*e,o=2*i;return t[n]<t[o]||t[n]===t[o]&&r[e]<=r[i]}function _(t,e,i){for(var r=t.heap[i],n=i<<1;n<=t.heap_len&&(n<t.heap_len&&m(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!m(e,r,t.heap[n],t.depth));)t.heap[i]=t.heap[n],i=n,n<<=1;t.heap[i]=r}function b(t,e,i){var r,n,o,a,l=0;if(0!==t.last_lit)do r=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],n=t.pending_buf[t.l_buf+l],l++,0===r?u(t,n,e):(o=ue[n],u(t,o+H+1,e),a=ee[o],0!==a&&(n-=le[o],h(t,n,a)),r--,o=s(r),u(t,o,i),a=ie[o],0!==a&&(r-=ce[o],h(t,r,a)));while(l<t.last_lit);u(t,J,e)}function $(t,e){var i,r,n,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,h=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=X,i=0;h>i;i++)0!==o[2*i]?(t.heap[++t.heap_len]=u=i,t.depth[i]=0):o[2*i+1]=0;for(;t.heap_len<2;)n=t.heap[++t.heap_len]=2>u?++u:0,o[2*n]=1,t.depth[n]=0,t.opt_len--,a&&(t.static_len-=s[2*n+1]);for(e.max_code=u,i=t.heap_len>>1;i>=1;i--)_(t,o,i);n=h;do i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],_(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=r,o[2*n]=o[2*i]+o[2*r],t.depth[n]=(t.depth[i]>=t.depth[r]?t.depth[i]:t.depth[r])+1,o[2*i+1]=o[2*r+1]=n,t.heap[1]=n++,_(t,o,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],p(t,e),d(o,u,t.bl_count)}function x(t,e,i){var r,n,o=-1,s=e[1],a=0,h=7,u=4;for(0===s&&(h=138,u=3),e[2*(i+1)+1]=65535,r=0;i>=r;r++)n=s,s=e[2*(r+1)+1],++a<h&&n===s||(u>a?t.bl_tree[2*n]+=a:0!==n?(n!==o&&t.bl_tree[2*n]++,t.bl_tree[2*K]++):10>=a?t.bl_tree[2*Q]++:t.bl_tree[2*te]++,a=0,o=n,0===s?(h=138,u=3):n===s?(h=6,u=3):(h=7,u=4))}function E(t,e,i){var r,n,o=-1,s=e[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),r=0;i>=r;r++)if(n=s,s=e[2*(r+1)+1],!(++a<l&&n===s)){if(c>a){do u(t,n,t.bl_tree);while(0!==--a)}else 0!==n?(n!==o&&(u(t,n,t.bl_tree),a--),u(t,K,t.bl_tree),h(t,a-3,2)):10>=a?(u(t,Q,t.bl_tree),h(t,a-3,3)):(u(t,te,t.bl_tree),h(t,a-11,7));a=0,o=n,0===s?(l=138,c=3):n===s?(l=6,c=3):(l=7,c=4)}}function T(t){var e;for(x(t,t.dyn_ltree,t.l_desc.max_code),x(t,t.dyn_dtree,t.d_desc.max_code),$(t,t.bl_desc),e=G-1;e>=3&&0===t.bl_tree[2*ne[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function w(t,e,i,r){var n;for(h(t,e-257,5),h(t,i-1,5),h(t,r-4,4),n=0;r>n;n++)h(t,t.bl_tree[2*ne[n]+1],3);E(t,t.dyn_ltree,e-1),E(t,t.dyn_dtree,i-1)}function S(t){var e,i=4093624447;for(e=0;31>=e;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return L;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return A;for(e=32;H>e;e++)if(0!==t.dyn_ltree[2*e])return A;return L}function C(t){ge||(f(),ge=!0),t.l_desc=new o(t.dyn_ltree,pe),t.d_desc=new o(t.dyn_dtree,de),t.bl_desc=new o(t.bl_tree,fe),t.bi_buf=0,t.bi_valid=0,g(t)}function P(t,e,i,r){h(t,(B<<1)+(r?1:0),3),y(t,e,i,!0)}function k(t){h(t,M<<1,3),u(t,J,se),c(t)}function O(t,e,i,r){var n,o,s=0;t.level>0?(t.strm.data_type===N&&(t.strm.data_type=S(t)),$(t,t.l_desc),$(t,t.d_desc),s=T(t),n=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,n>=o&&(n=o)):n=o=i+5,n>=i+4&&-1!==e?P(t,e,i,r):t.strategy===R||o===n?(h(t,(M<<1)+(r?1:0),3),b(t,se,ae)):(h(t,(F<<1)+(r?1:0),3),w(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),b(t,t.dyn_ltree,t.dyn_dtree)),g(t),r&&v(t)}function I(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(ue[i]+H+1)]++,t.dyn_dtree[2*s(e)]++),t.last_lit===t.lit_bufsize-1}var D=t("../utils/common"),R=4,L=0,A=1,N=2,B=0,M=1,F=2,z=3,j=258,U=29,H=256,W=H+1+U,V=30,G=19,X=2*W+1,Y=15,Z=16,q=7,J=256,K=16,Q=17,te=18,ee=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ie=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=512,se=new Array(2*(W+2));r(se);var ae=new Array(2*V);r(ae);var he=new Array(oe);r(he);var ue=new Array(j-z+1);r(ue);var le=new Array(U);r(le);var ce=new Array(V);r(ce);var pe,de,fe,ge=!1;i._tr_init=C,i._tr_stored_block=P,i._tr_flush_block=O,i._tr_tally=I,i._tr_align=k},{"../utils/common":62}],74:[function(t,e,i){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=r},{}]},{},[10])(10)}),!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.JSZip=t()}}(function(){return function t(e,i,r){function n(s,a){if(!i[s]){if(!e[s]){var h="function"==typeof require&&require;if(!a&&h)return h(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=i[s]={exports:{}};e[s][0].call(l.exports,function(t){var i=e[s][1][t];return n(i?i:t)},l,l.exports,t,e,i,r)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)n(r[s]);return n}({1:[function(t,e,i){"use strict";var r=t("./utils"),n=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(t){for(var e,i,n,s,a,h,u,l=[],c=0,p=t.length,d=p,f="string"!==r.getTypeOf(t);c<t.length;)d=p-c,f?(e=t[c++],i=p>c?t[c++]:0,n=p>c?t[c++]:0):(e=t.charCodeAt(c++),i=p>c?t.charCodeAt(c++):0,n=p>c?t.charCodeAt(c++):0),s=e>>2,a=(3&e)<<4|i>>4,h=d>1?(15&i)<<2|n>>6:64,u=d>2?63&n:64,l.push(o.charAt(s)+o.charAt(a)+o.charAt(h)+o.charAt(u));return l.join("")},i.decode=function(t){var e,i,r,s,a,h,u,l=0,c=0,p="data:";if(t.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");var d=3*t.length/4;if(t.charAt(t.length-1)===o.charAt(64)&&d--,t.charAt(t.length-2)===o.charAt(64)&&d--,d%1!==0)throw new Error("Invalid base64 input, bad content length.");var f;for(f=n.uint8array?new Uint8Array(0|d):new Array(0|d);l<t.length;)s=o.indexOf(t.charAt(l++)),a=o.indexOf(t.charAt(l++)),h=o.indexOf(t.charAt(l++)),u=o.indexOf(t.charAt(l++)),e=s<<2|a>>4,i=(15&a)<<4|h>>2,r=(3&h)<<6|u,f[c++]=e,64!==h&&(f[c++]=i),64!==u&&(f[c++]=r);return f}},{"./support":30,"./utils":32}],2:[function(t,e,i){"use strict";function r(t,e,i,r,n){this.compressedSize=t,this.uncompressedSize=e,this.crc32=i,this.compression=r,this.compressedContent=n}var n=t("./external"),o=t("./stream/DataWorker"),s=t("./stream/DataLengthProbe"),a=t("./stream/Crc32Probe"),s=t("./stream/DataLengthProbe");r.prototype={getContentWorker:function(){var t=new o(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),e=this;return t.on("end",function(){if(this.streamInfo.data_length!==e.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),t},getCompressedWorker:function(){return new o(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},r.createWorkerFrom=function(t,e,i){return t.pipe(new a).pipe(new s("uncompressedSize")).pipe(e.compressWorker(i)).pipe(new s("compressedSize")).withStreamInfo("compression",e)},e.exports=r},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,e,i){"use strict";var r=t("./stream/GenericWorker");i.STORE={magic:"\x00\x00",compressWorker:function(t){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,e,i){"use strict";function r(){for(var t,e=[],i=0;256>i;i++){t=i;for(var r=0;8>r;r++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}function n(t,e,i,r){var n=a,o=r+i;t^=-1;for(var s=r;o>s;s++)t=t>>>8^n[255&(t^e[s])];return-1^t}function o(t,e,i,r){var n=a,o=r+i;t^=-1;for(var s=r;o>s;s++)t=t>>>8^n[255&(t^e.charCodeAt(s))];return-1^t}var s=t("./utils"),a=r();e.exports=function(t,e){if("undefined"==typeof t||!t.length)return 0;var i="string"!==s.getTypeOf(t);return i?n(0|e,t,t.length,0):o(0|e,t,t.length,0)}},{"./utils":32}],5:[function(t,e,i){"use strict";i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,e,i){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:t("lie"),e.exports={Promise:r}},{lie:58}],7:[function(t,e,i){"use strict";function r(t,e){a.call(this,"FlateWorker/"+t),this._pako=null,this._pakoAction=t,this._pakoOptions=e,this.meta={}}var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,o=t("pako"),s=t("./utils"),a=t("./stream/GenericWorker"),h=n?"uint8array":"array";i.magic="\b\x00",s.inherits(r,a),r.prototype.processChunk=function(t){this.meta=t.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(h,t.data),!1)},r.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},r.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},r.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var t=this;this._pako.onData=function(e){t.push({data:e,meta:t.meta})}},i.compressWorker=function(t){return new r("Deflate",t)},i.uncompressWorker=function(){return new r("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:59}],8:[function(t,e,i){"use strict";function r(t,e,i,r){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=i,this.encodeFileName=r,this.streamFiles=t,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var n=t("../utils"),o=t("../stream/GenericWorker"),s=t("../utf8"),a=t("../crc32"),h=t("../signature"),u=function(t,e){var i,r="";for(i=0;e>i;i++)r+=String.fromCharCode(255&t),t>>>=8;return r},l=function(t,e){var i=t;return t||(i=e?16893:33204),(65535&i)<<16},c=function(t,e){return 63&(t||0)},p=function(t,e,i,r,o,p){var d,f,g=t.file,v=t.compression,y=p!==s.utf8encode,m=n.transformTo("string",p(g.name)),_=n.transformTo("string",s.utf8encode(g.name)),b=g.comment,$=n.transformTo("string",p(b)),x=n.transformTo("string",s.utf8encode(b)),E=_.length!==g.name.length,T=x.length!==b.length,w="",S="",C="",P=g.dir,k=g.date,O={crc32:0,compressedSize:0,uncompressedSize:0};e&&!i||(O.crc32=t.crc32,O.compressedSize=t.compressedSize,O.uncompressedSize=t.uncompressedSize);var I=0;e&&(I|=8),y||!E&&!T||(I|=2048);var D=0,R=0;P&&(D|=16),"UNIX"===o?(R=798,D|=l(g.unixPermissions,P)):(R=20,D|=c(g.dosPermissions,P)),d=k.getUTCHours(),d<<=6,d|=k.getUTCMinutes(),d<<=5,d|=k.getUTCSeconds()/2,f=k.getUTCFullYear()-1980,f<<=4,f|=k.getUTCMonth()+1,f<<=5,f|=k.getUTCDate(),E&&(S=u(1,1)+u(a(m),4)+_,w+="up"+u(S.length,2)+S),T&&(C=u(1,1)+u(a($),4)+x,w+="uc"+u(C.length,2)+C);var L="";L+="\n\x00",L+=u(I,2),L+=v.magic,L+=u(d,2),L+=u(f,2),L+=u(O.crc32,4),L+=u(O.compressedSize,4),L+=u(O.uncompressedSize,4),L+=u(m.length,2),L+=u(w.length,2);var A=h.LOCAL_FILE_HEADER+L+m+w,N=h.CENTRAL_FILE_HEADER+u(R,2)+L+u($.length,2)+"\x00\x00\x00\x00"+u(D,4)+u(r,4)+m+w+$;return{fileRecord:A,dirRecord:N}},d=function(t,e,i,r,o){var s="",a=n.transformTo("string",o(r));return s=h.CENTRAL_DIRECTORY_END+"\x00\x00\x00\x00"+u(t,2)+u(t,2)+u(e,4)+u(i,4)+u(a.length,2)+a},f=function(t){var e="";return e=h.DATA_DESCRIPTOR+u(t.crc32,4)+u(t.compressedSize,4)+u(t.uncompressedSize,4)};n.inherits(r,o),r.prototype.push=function(t){var e=t.meta.percent||0,i=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(t):(this.bytesWritten+=t.data.length,o.prototype.push.call(this,{data:t.data,meta:{currentFile:this.currentFile,percent:i?(e+100*(i-r-1))/i:100}}))},r.prototype.openedSource=function(t){this.currentSourceOffset=this.bytesWritten,this.currentFile=t.file.name;var e=this.streamFiles&&!t.file.dir;if(e){var i=p(t,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},r.prototype.closedSource=function(t){this.accumulate=!1;var e=this.streamFiles&&!t.file.dir,i=p(t,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),e)this.push({data:f(t),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},r.prototype.flush=function(){for(var t=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var i=this.bytesWritten-t,r=d(this.dirRecords.length,i,t,this.zipComment,this.encodeFileName);this.push({data:r,meta:{percent:100}})},r.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},r.prototype.registerPrevious=function(t){this._sources.push(t);var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),t.on("error",function(t){e.error(t)}),this},r.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},r.prototype.error=function(t){var e=this._sources;if(!o.prototype.error.call(this,t))return!1;for(var i=0;i<e.length;i++)try{e[i].error(t)}catch(t){}return!0},r.prototype.lock=function(){o.prototype.lock.call(this);for(var t=this._sources,e=0;e<t.length;e++)t[e].lock()},e.exports=r},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,e,i){"use strict";var r=t("../compressions"),n=t("./ZipFileWorker"),o=function(t,e){var i=t||e,n=r[i];if(!n)throw new Error(i+" is not a valid compression method !");return n};i.generateWorker=function(t,e,i){var r=new n(e.streamFiles,i,e.platform,e.encodeFileName),s=0;try{t.forEach(function(t,i){s++;var n=o(i.options.compression,e.compression),a=i.options.compressionOptions||e.compressionOptions||{},h=i.dir,u=i.date;i._compressWorker(n,a).withStreamInfo("file",{name:t,dir:h,date:u,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(r)}),r.entriesCount=s}catch(a){r.error(a)}return r}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,e,i){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var t=new r;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}r.prototype=t("./object"),r.prototype.loadAsync=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.version="3.1.5",r.loadAsync=function(t,e){return(new r).loadAsync(t,e)},r.external=t("./external"),e.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,e,i){"use strict";function r(t){return new o.Promise(function(e,i){var r=t.decompressed.getContentWorker().pipe(new h);r.on("error",function(t){i(t)}).on("end",function(){r.streamInfo.crc32!==t.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):e()}).resume()})}var n=t("./utils"),o=t("./external"),s=t("./utf8"),n=t("./utils"),a=t("./zipEntries"),h=t("./stream/Crc32Probe"),u=t("./nodejsUtils");e.exports=function(t,e){var i=this;return e=n.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),u.isNode&&u.isStream(t)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",t,!0,e.optimizedBinaryString,e.base64).then(function(t){var i=new a(e);return i.load(t),i}).then(function(t){var i=[o.Promise.resolve(t)],n=t.files;if(e.checkCRC32)for(var s=0;s<n.length;s++)i.push(r(n[s]));return o.Promise.all(i)}).then(function(t){for(var r=t.shift(),n=r.files,o=0;o<n.length;o++){var s=n[o];i.file(s.fileNameStr,s.decompressed,{binary:!0,optimizedBinaryString:!0,date:s.date,dir:s.dir,comment:s.fileCommentStr.length?s.fileCommentStr:null,unixPermissions:s.unixPermissions,dosPermissions:s.dosPermissions,createFolders:e.createFolders})}return r.zipComment.length&&(i.comment=r.zipComment),i})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,e,i){"use strict";function r(t,e){o.call(this,"Nodejs stream input adapter for "+t),this._upstreamEnded=!1,this._bindStream(e)}var n=t("../utils"),o=t("../stream/GenericWorker");n.inherits(r,o),r.prototype._bindStream=function(t){var e=this;this._stream=t,t.pause(),t.on("data",function(t){e.push({data:t,meta:{percent:0}})}).on("error",function(t){e.isPaused?this.generatedError=t:e.error(t)}).on("end",function(){e.isPaused?e._upstreamEnded=!0:e.end()})},r.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},r.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},e.exports=r},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,e,i){"use strict";function r(t,e,i){n.call(this,e),this._helper=t;var r=this;t.on("data",function(t,e){r.push(t)||r._helper.pause(),i&&i(e)}).on("error",function(t){r.emit("error",t)}).on("end",function(){r.push(null)})}var n=t("readable-stream").Readable,o=t("../utils");o.inherits(r,n),r.prototype._read=function(){this._helper.resume()},e.exports=r},{"../utils":32,"readable-stream":16}],14:[function(t,e,i){"use strict";e.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(t,e){return new Buffer(t,e)},allocBuffer:function(t){return Buffer.alloc?Buffer.alloc(t):new Buffer(t)},isBuffer:function(t){return Buffer.isBuffer(t)},isStream:function(t){return t&&"function"==typeof t.on&&"function"==typeof t.pause&&"function"==typeof t.resume}}},{}],15:[function(t,e,i){"use strict";function r(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var n=t("./utf8"),o=t("./utils"),s=t("./stream/GenericWorker"),a=t("./stream/StreamHelper"),h=t("./defaults"),u=t("./compressedObject"),l=t("./zipObject"),c=t("./generate"),p=t("./nodejsUtils"),d=t("./nodejs/NodejsStreamInputAdapter"),f=function(t,e,i){var r,n=o.getTypeOf(e),a=o.extend(i||{},h);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(t=v(t)),a.createFolders&&(r=g(t))&&y.call(this,r,!0);var c="string"===n&&a.binary===!1&&a.base64===!1;i&&"undefined"!=typeof i.binary||(a.binary=!c);var f=e instanceof u&&0===e.uncompressedSize;(f||a.dir||!e||0===e.length)&&(a.base64=!1,a.binary=!0,e="",a.compression="STORE",n="string");var m=null;m=e instanceof u||e instanceof s?e:p.isNode&&p.isStream(e)?new d(t,e):o.prepareContent(t,e,a.binary,a.optimizedBinaryString,a.base64);var _=new l(t,m,a);this.files[t]=_},g=function(t){"/"===t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},v=function(t){return"/"!==t.slice(-1)&&(t+="/"),t},y=function(t,e){return e="undefined"!=typeof e?e:h.createFolders,t=v(t),this.files[t]||f.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},m={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(t){var e,i,r;for(e in this.files)this.files.hasOwnProperty(e)&&(r=this.files[e],i=e.slice(this.root.length,e.length),i&&e.slice(0,this.root.length)===this.root&&t(i,r))},filter:function(t){var e=[];return this.forEach(function(i,r){t(i,r)&&e.push(r)
}),e},file:function(t,e,i){if(1===arguments.length){if(r(t)){var n=t;return this.filter(function(t,e){return!e.dir&&n.test(t)})}var o=this.files[this.root+t];return o&&!o.dir?o:null}return t=this.root+t,f.call(this,t,e,i),this},folder:function(t){if(!t)return this;if(r(t))return this.filter(function(e,i){return i.dir&&t.test(e)});var e=this.root+t,i=y.call(this,e),n=this.clone();return n.root=i.name,n},remove:function(t){t=this.root+t;var e=this.files[t];if(e||("/"!==t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var i=this.filter(function(e,i){return i.name.slice(0,t.length)===t}),r=0;r<i.length;r++)delete this.files[i[r].name];return this},generate:function(t){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(t){var e,i={};try{if(i=o.extend(t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:n.utf8encode}),i.type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");o.checkSupport(i.type),"darwin"!==i.platform&&"freebsd"!==i.platform&&"linux"!==i.platform&&"sunos"!==i.platform||(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS");var r=i.comment||this.comment||"";e=c.generateWorker(this,i,r)}catch(h){e=new s("error"),e.error(h)}return new a(e,i.type||"string",i.mimeType)},generateAsync:function(t,e){return this.generateInternalStream(t).accumulate(e)},generateNodeStream:function(t,e){return t=t||{},t.type||(t.type="nodebuffer"),this.generateInternalStream(t).toNodejsStream(e)}};e.exports=m},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,e,i){e.exports=t("stream")},{stream:void 0}],17:[function(t,e,i){"use strict";function r(t){n.call(this,t);for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}var n=t("./DataReader"),o=t("../utils");o.inherits(r,n),r.prototype.byteAt=function(t){return this.data[this.zero+t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),i=t.charCodeAt(1),r=t.charCodeAt(2),n=t.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===e&&this.data[o+1]===i&&this.data[o+2]===r&&this.data[o+3]===n)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(t){var e=t.charCodeAt(0),i=t.charCodeAt(1),r=t.charCodeAt(2),n=t.charCodeAt(3),o=this.readData(4);return e===o[0]&&i===o[1]&&r===o[2]&&n===o[3]},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./DataReader":18}],18:[function(t,e,i){"use strict";function r(t){this.data=t,this.length=t.length,this.index=0,this.zero=0}var n=t("../utils");r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||0>t)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,i=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)i=(i<<8)+this.byteAt(e);return this.index+=t,i},readString:function(t){return n.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readAndCheckSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(Date.UTC((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1))}},e.exports=r},{"../utils":32}],19:[function(t,e,i){"use strict";function r(t){n.call(this,t)}var n=t("./Uint8ArrayReader"),o=t("../utils");o.inherits(r,n),r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,e,i){"use strict";function r(t){n.call(this,t)}var n=t("./DataReader"),o=t("../utils");o.inherits(r,n),r.prototype.byteAt=function(t){return this.data.charCodeAt(this.zero+t)},r.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},r.prototype.readAndCheckSignature=function(t){var e=this.readData(4);return t===e},r.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./DataReader":18}],21:[function(t,e,i){"use strict";function r(t){n.call(this,t)}var n=t("./ArrayReader"),o=t("../utils");o.inherits(r,n),r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},e.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(t,e,i){"use strict";var r=t("../utils"),n=t("../support"),o=t("./ArrayReader"),s=t("./StringReader"),a=t("./NodeBufferReader"),h=t("./Uint8ArrayReader");e.exports=function(t){var e=r.getTypeOf(t);return r.checkSupport(e),"string"!==e||n.uint8array?"nodebuffer"===e?new a(t):n.uint8array?new h(r.transformTo("uint8array",t)):new o(r.transformTo("array",t)):new s(t)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,e,i){"use strict";i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\b"},{}],24:[function(t,e,i){"use strict";function r(t){n.call(this,"ConvertWorker to "+t),this.destType=t}var n=t("./GenericWorker"),o=t("../utils");o.inherits(r,n),r.prototype.processChunk=function(t){this.push({data:o.transformTo(this.destType,t.data),meta:t.meta})},e.exports=r},{"../utils":32,"./GenericWorker":28}],25:[function(t,e,i){"use strict";function r(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var n=t("./GenericWorker"),o=t("../crc32"),s=t("../utils");s.inherits(r,n),r.prototype.processChunk=function(t){this.streamInfo.crc32=o(t.data,this.streamInfo.crc32||0),this.push(t)},e.exports=r},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,e,i){"use strict";function r(t){o.call(this,"DataLengthProbe for "+t),this.propName=t,this.withStreamInfo(t,0)}var n=t("../utils"),o=t("./GenericWorker");n.inherits(r,o),r.prototype.processChunk=function(t){if(t){var e=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=e+t.data.length}o.prototype.processChunk.call(this,t)},e.exports=r},{"../utils":32,"./GenericWorker":28}],27:[function(t,e,i){"use strict";function r(t){o.call(this,"DataWorker");var e=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,t.then(function(t){e.dataIsReady=!0,e.data=t,e.max=t&&t.length||0,e.type=n.getTypeOf(t),e.isPaused||e._tickAndRepeat()},function(t){e.error(t)})}var n=t("../utils"),o=t("./GenericWorker"),s=16384;n.inherits(r,o),r.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},r.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},r.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},r.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var t=s,e=null,i=Math.min(this.max,this.index+t);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,i);break;case"uint8array":e=this.data.subarray(this.index,i);break;case"array":case"nodebuffer":e=this.data.slice(this.index,i)}return this.index=i,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},e.exports=r},{"../utils":32,"./GenericWorker":28}],28:[function(t,e,i){"use strict";function r(t){this.name=t||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(t){this.emit("data",t)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(t){this.emit("error",t)}return!0},error:function(t){return!this.isFinished&&(this.isPaused?this.generatedError=t:(this.isFinished=!0,this.emit("error",t),this.previous&&this.previous.error(t),this.cleanUp()),!0)},on:function(t,e){return this._listeners[t].push(e),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(t,e){if(this._listeners[t])for(var i=0;i<this._listeners[t].length;i++)this._listeners[t][i].call(this,e)},pipe:function(t){return t.registerPrevious(this)},registerPrevious:function(t){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=t.streamInfo,this.mergeStreamInfo(),this.previous=t;var e=this;return t.on("data",function(t){e.processChunk(t)}),t.on("end",function(){e.end()}),t.on("error",function(t){e.error(t)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var t=!1;return this.generatedError&&(this.error(this.generatedError),t=!0),this.previous&&this.previous.resume(),!t},flush:function(){},processChunk:function(t){this.push(t)},withStreamInfo:function(t,e){return this.extraStreamInfo[t]=e,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var t in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(t)&&(this.streamInfo[t]=this.extraStreamInfo[t])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var t="Worker "+this.name;return this.previous?this.previous+" -> "+t:t}},e.exports=r},{}],29:[function(t,e,i){"use strict";function r(t,e,i){switch(t){case"blob":return a.newBlob(a.transformTo("arraybuffer",e),i);case"base64":return l.encode(e);default:return a.transformTo(t,e)}}function n(t,e){var i,r=0,n=null,o=0;for(i=0;i<e.length;i++)o+=e[i].length;switch(t){case"string":return e.join("");case"array":return Array.prototype.concat.apply([],e);case"uint8array":for(n=new Uint8Array(o),i=0;i<e.length;i++)n.set(e[i],r),r+=e[i].length;return n;case"nodebuffer":return Buffer.concat(e);default:throw new Error("concat : unsupported type '"+t+"'")}}function o(t,e){return new p.Promise(function(i,o){var s=[],a=t._internalType,h=t._outputType,u=t._mimeType;t.on("data",function(t,i){s.push(t),e&&e(i)}).on("error",function(t){s=[],o(t)}).on("end",function(){try{var t=r(h,n(a,s),u);i(t)}catch(e){o(e)}s=[]}).resume()})}function s(t,e,i){var r=e;switch(e){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=e,this._mimeType=i,a.checkSupport(r),this._worker=t.pipe(new h(r)),t.lock()}catch(n){this._worker=new u("error"),this._worker.error(n)}}var a=t("../utils"),h=t("./ConvertWorker"),u=t("./GenericWorker"),l=t("../base64"),c=t("../support"),p=t("../external"),d=null;if(c.nodestream)try{d=t("../nodejs/NodejsStreamOutputAdapter")}catch(f){}s.prototype={accumulate:function(t){return o(this,t)},on:function(t,e){var i=this;return"data"===t?this._worker.on(t,function(t){e.call(i,t.data,t.meta)}):this._worker.on(t,function(){a.delay(e,arguments,i)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(t){if(a.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:"nodebuffer"!==this._outputType},t)}},e.exports=s},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,e,i){"use strict";if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer="undefined"!=typeof Buffer,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var r=new ArrayBuffer(0);try{i.blob=0===new Blob([r],{type:"application/zip"}).size}catch(n){try{var o=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,s=new o;s.append(r),i.blob=0===s.getBlob("application/zip").size}catch(n){i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch(n){i.nodestream=!1}},{"readable-stream":16}],31:[function(t,e,i){"use strict";function r(){h.call(this,"utf-8 decode"),this.leftOver=null}function n(){h.call(this,"utf-8 encode")}for(var o=t("./utils"),s=t("./support"),a=t("./nodejsUtils"),h=t("./stream/GenericWorker"),u=new Array(256),l=0;256>l;l++)u[l]=l>=252?6:l>=248?5:l>=240?4:l>=224?3:l>=192?2:1;u[254]=u[254]=1;var c=function(t){var e,i,r,n,o,a=t.length,h=0;for(n=0;a>n;n++)i=t.charCodeAt(n),55296===(64512&i)&&a>n+1&&(r=t.charCodeAt(n+1),56320===(64512&r)&&(i=65536+(i-55296<<10)+(r-56320),n++)),h+=128>i?1:2048>i?2:65536>i?3:4;for(e=s.uint8array?new Uint8Array(h):new Array(h),o=0,n=0;h>o;n++)i=t.charCodeAt(n),55296===(64512&i)&&a>n+1&&(r=t.charCodeAt(n+1),56320===(64512&r)&&(i=65536+(i-55296<<10)+(r-56320),n++)),128>i?e[o++]=i:2048>i?(e[o++]=192|i>>>6,e[o++]=128|63&i):65536>i?(e[o++]=224|i>>>12,e[o++]=128|i>>>6&63,e[o++]=128|63&i):(e[o++]=240|i>>>18,e[o++]=128|i>>>12&63,e[o++]=128|i>>>6&63,e[o++]=128|63&i);return e},p=function(t,e){var i;for(e=e||t.length,e>t.length&&(e=t.length),i=e-1;i>=0&&128===(192&t[i]);)i--;return 0>i?e:0===i?e:i+u[t[i]]>e?i:e},d=function(t){var e,i,r,n,s=t.length,a=new Array(2*s);for(i=0,e=0;s>e;)if(r=t[e++],128>r)a[i++]=r;else if(n=u[r],n>4)a[i++]=65533,e+=n-1;else{for(r&=2===n?31:3===n?15:7;n>1&&s>e;)r=r<<6|63&t[e++],n--;n>1?a[i++]=65533:65536>r?a[i++]=r:(r-=65536,a[i++]=55296|r>>10&1023,a[i++]=56320|1023&r)}return a.length!==i&&(a.subarray?a=a.subarray(0,i):a.length=i),o.applyFromCharCode(a)};i.utf8encode=function(t){return s.nodebuffer?a.newBufferFrom(t,"utf-8"):c(t)},i.utf8decode=function(t){return s.nodebuffer?o.transformTo("nodebuffer",t).toString("utf-8"):(t=o.transformTo(s.uint8array?"uint8array":"array",t),d(t))},o.inherits(r,h),r.prototype.processChunk=function(t){var e=o.transformTo(s.uint8array?"uint8array":"array",t.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var r=e;e=new Uint8Array(r.length+this.leftOver.length),e.set(this.leftOver,0),e.set(r,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var n=p(e),a=e;n!==e.length&&(s.uint8array?(a=e.subarray(0,n),this.leftOver=e.subarray(n,e.length)):(a=e.slice(0,n),this.leftOver=e.slice(n,e.length))),this.push({data:i.utf8decode(a),meta:t.meta})},r.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=r,o.inherits(n,h),n.prototype.processChunk=function(t){this.push({data:i.utf8encode(t.data),meta:t.meta})},i.Utf8EncodeWorker=n},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,e,i){"use strict";function r(t){var e=null;return e=h.uint8array?new Uint8Array(t.length):new Array(t.length),o(t,e)}function n(t){return t}function o(t,e){for(var i=0;i<t.length;++i)e[i]=255&t.charCodeAt(i);return e}function s(t){var e=65536,r=i.getTypeOf(t),n=!0;if("uint8array"===r?n=d.applyCanBeUsed.uint8array:"nodebuffer"===r&&(n=d.applyCanBeUsed.nodebuffer),n)for(;e>1;)try{return d.stringifyByChunk(t,r,e)}catch(o){e=Math.floor(e/2)}return d.stringifyByChar(t)}function a(t,e){for(var i=0;i<t.length;i++)e[i]=t[i];return e}var h=t("./support"),u=t("./base64"),l=t("./nodejsUtils"),c=t("core-js/library/fn/set-immediate"),p=t("./external");i.newBlob=function(t,e){i.checkSupport("blob");try{return new Blob([t],{type:e})}catch(r){try{var n=self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder,o=new n;return o.append(t),o.getBlob(e)}catch(r){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(t,e,i){var r=[],n=0,o=t.length;if(i>=o)return String.fromCharCode.apply(null,t);for(;o>n;)"array"===e||"nodebuffer"===e?r.push(String.fromCharCode.apply(null,t.slice(n,Math.min(n+i,o)))):r.push(String.fromCharCode.apply(null,t.subarray(n,Math.min(n+i,o)))),n+=i;return r.join("")},stringifyByChar:function(t){for(var e="",i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return e},applyCanBeUsed:{uint8array:function(){try{return h.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(t){return!1}}(),nodebuffer:function(){try{return h.nodebuffer&&1===String.fromCharCode.apply(null,l.allocBuffer(1)).length}catch(t){return!1}}()}};i.applyFromCharCode=s;var f={};f.string={string:n,array:function(t){return o(t,new Array(t.length))},arraybuffer:function(t){return f.string.uint8array(t).buffer},uint8array:function(t){return o(t,new Uint8Array(t.length))},nodebuffer:function(t){return o(t,l.allocBuffer(t.length))}},f.array={string:s,array:n,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l.newBufferFrom(t)}},f.arraybuffer={string:function(t){return s(new Uint8Array(t))},array:function(t){return a(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:n,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return l.newBufferFrom(new Uint8Array(t))}},f.uint8array={string:s,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:n,nodebuffer:function(t){return l.newBufferFrom(t)}},f.nodebuffer={string:s,array:function(t){return a(t,new Array(t.length))},arraybuffer:function(t){return f.nodebuffer.uint8array(t).buffer},uint8array:function(t){return a(t,new Uint8Array(t.length))},nodebuffer:n},i.transformTo=function(t,e){if(e||(e=""),!t)return e;i.checkSupport(t);var r=i.getTypeOf(e),n=f[r][t](e);return n},i.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":h.nodebuffer&&l.isBuffer(t)?"nodebuffer":h.uint8array&&t instanceof Uint8Array?"uint8array":h.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(t){var e=h[t.toLowerCase()];if(!e)throw new Error(t+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(t){var e,i,r="";for(i=0;i<(t||"").length;i++)e=t.charCodeAt(i),r+="\\x"+(16>e?"0":"")+e.toString(16).toUpperCase();return r},i.delay=function(t,e,i){c(function(){t.apply(i||null,e||[])})},i.inherits=function(t,e){var i=function(){};i.prototype=e.prototype,t.prototype=new i},i.extend=function(){var t,e,i={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&"undefined"==typeof i[e]&&(i[e]=arguments[t][e]);return i},i.prepareContent=function(t,e,n,o,s){var a=p.Promise.resolve(e).then(function(t){var e=h.blob&&(t instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(t)));return e&&"undefined"!=typeof FileReader?new p.Promise(function(e,i){var r=new FileReader;r.onload=function(t){e(t.target.result)},r.onerror=function(t){i(t.target.error)},r.readAsArrayBuffer(t)}):t});return a.then(function(e){var a=i.getTypeOf(e);return a?("arraybuffer"===a?e=i.transformTo("uint8array",e):"string"===a&&(s?e=u.decode(e):n&&o!==!0&&(e=r(e))),e):p.Promise.reject(new Error("Can't read the data of '"+t+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"core-js/library/fn/set-immediate":36}],33:[function(t,e,i){"use strict";function r(t){this.files=[],this.loadOptions=t}var n=t("./reader/readerFor"),o=t("./utils"),s=t("./signature"),a=t("./zipEntry"),h=(t("./utf8"),t("./support"));r.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var e=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(e)+", expected "+o.pretty(t)+")")}},isSignature:function(t,e){var i=this.reader.index;this.reader.setIndex(t);var r=this.reader.readString(4),n=r===e;return this.reader.setIndex(i),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=h.uint8array?"uint8array":"array",i=o.transformTo(e,t);this.zipComment=this.loadOptions.decodeFileName(i)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,i,r=this.zip64EndOfCentralSize-44,n=0;r>n;)t=this.reader.readInt(2),e=this.reader.readInt(4),i=this.reader.readData(e),this.zip64ExtensibleData[t]={id:t,length:e,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)e=this.files[t],this.reader.setIndex(e.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)t=new a({zip64:this.zip64},this.loadOptions),t.readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(0>t){var e=!this.isSignature(0,s.LOCAL_FILE_HEADER);throw e?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(t);var i=t;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,t=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),0>t)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=i-r;if(n>0)this.isSignature(i,s.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(0>n)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(t){this.reader=n(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},e.exports=r},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(t,e,i){"use strict";function r(t,e){this.options=t,this.loadOptions=e}var n=t("./reader/readerFor"),o=t("./utils"),s=t("./compressedObject"),a=t("./crc32"),h=t("./utf8"),u=t("./compressions"),l=t("./support"),c=0,p=3,d=function(t){for(var e in u)if(u.hasOwnProperty(e)&&u[e].magic===t)return u[e];return null};r.prototype={isEncrypted:function(){return 1===(1&this.bitFlag)},useUTF8:function(){return 2048===(2048&this.bitFlag)},readLocalPart:function(t){var e,i;if(t.skip(22),this.fileNameLength=t.readInt(2),i=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(e=d(this.compressionMethod),null===e)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,e,t.readData(this.compressedSize))},readCentralPart:function(t){this.versionMadeBy=t.readInt(2),t.skip(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4);var e=t.readInt(2);if(this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");t.skip(e),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),t===c&&(this.dosPermissions=63&this.externalFileAttributes),t===p&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=n(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,i,r,n=t.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});t.index<n;)e=t.readInt(2),i=t.readInt(2),r=t.readData(i),this.extraFields[e]={id:e,length:i,value:r}},handleUTF8:function(){var t=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var i=o.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var n=o.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(n)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=n(t.value);return 1!==e.readInt(1)?null:a(this.fileName)!==e.readInt(4)?null:h.utf8decode(e.readData(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=n(t.value);return 1!==e.readInt(1)?null:a(this.fileComment)!==e.readInt(4)?null:h.utf8decode(e.readData(t.length-5))}return null}},e.exports=r},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,e,i){"use strict";var r=t("./stream/StreamHelper"),n=t("./stream/DataWorker"),o=t("./utf8"),s=t("./compressedObject"),a=t("./stream/GenericWorker"),h=function(t,e,i){this.name=t,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=e,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}};h.prototype={internalStream:function(t){var e=null,i="string";try{if(!t)throw new Error("No output type specified.");i=t.toLowerCase();var n="string"===i||"text"===i;"binarystring"!==i&&"text"!==i||(i="string"),e=this._decompressWorker();var s=!this._dataBinary;s&&!n&&(e=e.pipe(new o.Utf8EncodeWorker)),!s&&n&&(e=e.pipe(new o.Utf8DecodeWorker))}catch(h){e=new a("error"),e.error(h)}return new r(e,i,"")},async:function(t,e){return this.internalStream(t).accumulate(e)},nodeStream:function(t,e){return this.internalStream(t||"nodebuffer").toNodejsStream(e)},_compressWorker:function(t,e){if(this._data instanceof s&&this._data.compression.magic===t.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new o.Utf8EncodeWorker)),s.createWorkerFrom(i,t,e)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof a?this._data:new n(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},c=0;c<u.length;c++)h.prototype[u[c]]=l;e.exports=h},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,e,i){t("../modules/web.immediate"),e.exports=t("../modules/_core").setImmediate},{"../modules/_core":40,"../modules/web.immediate":56}],37:[function(t,e,i){e.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},{}],38:[function(t,e,i){var r=t("./_is-object");e.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},{"./_is-object":51}],39:[function(t,e,i){var r={}.toString;e.exports=function(t){return r.call(t).slice(8,-1)}},{}],40:[function(t,e,i){var r=e.exports={version:"2.3.0"};"number"==typeof __e&&(__e=r)},{}],41:[function(t,e,i){var r=t("./_a-function");e.exports=function(t,e,i){if(r(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,r){return t.call(e,i,r)};case 3:return function(i,r,n){return t.call(e,i,r,n)}}return function(){return t.apply(e,arguments)}}},{"./_a-function":37}],42:[function(t,e,i){e.exports=!t("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":45}],43:[function(t,e,i){var r=t("./_is-object"),n=t("./_global").document,o=r(n)&&r(n.createElement);e.exports=function(t){return o?n.createElement(t):{}}},{"./_global":46,"./_is-object":51}],44:[function(t,e,i){var r=t("./_global"),n=t("./_core"),o=t("./_ctx"),s=t("./_hide"),a="prototype",h=function(t,e,i){var u,l,c,p=t&h.F,d=t&h.G,f=t&h.S,g=t&h.P,v=t&h.B,y=t&h.W,m=d?n:n[e]||(n[e]={}),_=m[a],b=d?r:f?r[e]:(r[e]||{})[a];
d&&(i=e);for(u in i)l=!p&&b&&void 0!==b[u],l&&u in m||(c=l?b[u]:i[u],m[u]=d&&"function"!=typeof b[u]?i[u]:v&&l?o(c,r):y&&b[u]==c?function(t){var e=function(e,i,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,i)}return new t(e,i,r)}return t.apply(this,arguments)};return e[a]=t[a],e}(c):g&&"function"==typeof c?o(Function.call,c):c,g&&((m.virtual||(m.virtual={}))[u]=c,t&h.R&&_&&!_[u]&&s(_,u,c)))};h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,e.exports=h},{"./_core":40,"./_ctx":41,"./_global":46,"./_hide":47}],45:[function(t,e,i){e.exports=function(t){try{return!!t()}catch(e){return!0}}},{}],46:[function(t,e,i){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},{}],47:[function(t,e,i){var r=t("./_object-dp"),n=t("./_property-desc");e.exports=t("./_descriptors")?function(t,e,i){return r.f(t,e,n(1,i))}:function(t,e,i){return t[e]=i,t}},{"./_descriptors":42,"./_object-dp":52,"./_property-desc":53}],48:[function(t,e,i){e.exports=t("./_global").document&&document.documentElement},{"./_global":46}],49:[function(t,e,i){e.exports=!t("./_descriptors")&&!t("./_fails")(function(){return 7!=Object.defineProperty(t("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":42,"./_dom-create":43,"./_fails":45}],50:[function(t,e,i){e.exports=function(t,e,i){var r=void 0===i;switch(e.length){case 0:return r?t():t.call(i);case 1:return r?t(e[0]):t.call(i,e[0]);case 2:return r?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},{}],51:[function(t,e,i){e.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},{}],52:[function(t,e,i){var r=t("./_an-object"),n=t("./_ie8-dom-define"),o=t("./_to-primitive"),s=Object.defineProperty;i.f=t("./_descriptors")?Object.defineProperty:function(t,e,i){if(r(t),e=o(e,!0),r(i),n)try{return s(t,e,i)}catch(a){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},{"./_an-object":38,"./_descriptors":42,"./_ie8-dom-define":49,"./_to-primitive":55}],53:[function(t,e,i){e.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},{}],54:[function(t,e,i){var r,n,o,s=t("./_ctx"),a=t("./_invoke"),h=t("./_html"),u=t("./_dom-create"),l=t("./_global"),c=l.process,p=l.setImmediate,d=l.clearImmediate,f=l.MessageChannel,g=0,v={},y="onreadystatechange",m=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},_=function(t){m.call(t.data)};p&&d||(p=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return v[++g]=function(){a("function"==typeof t?t:Function(t),e)},r(g),g},d=function(t){delete v[t]},"process"==t("./_cof")(c)?r=function(t){c.nextTick(s(m,t,1))}:f?(n=new f,o=n.port2,n.port1.onmessage=_,r=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(t){l.postMessage(t+"","*")},l.addEventListener("message",_,!1)):r=y in u("script")?function(t){h.appendChild(u("script"))[y]=function(){h.removeChild(this),m.call(t)}}:function(t){setTimeout(s(m,t,1),0)}),e.exports={set:p,clear:d}},{"./_cof":39,"./_ctx":41,"./_dom-create":43,"./_global":46,"./_html":48,"./_invoke":50}],55:[function(t,e,i){var r=t("./_is-object");e.exports=function(t,e){if(!r(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!r(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":51}],56:[function(t,e,i){var r=t("./_export"),n=t("./_task");r(r.G+r.B,{setImmediate:n.set,clearImmediate:n.clear})},{"./_export":44,"./_task":54}],57:[function(t,e,i){(function(t){"use strict";function i(){l=!0;for(var t,e,i=c.length;i;){for(e=c,c=[],t=-1;++t<i;)e[t]();i=c.length}l=!1}function r(t){1!==c.push(t)||l||n()}var n,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var s=0,a=new o(i),h=t.document.createTextNode("");a.observe(h,{characterData:!0}),n=function(){h.data=s=++s%2}}else if(t.setImmediate||"undefined"==typeof t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){i(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(i,0)};else{var u=new t.MessageChannel;u.port1.onmessage=i,n=function(){u.port2.postMessage(0)}}var l,c=[];e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(t,e,i){"use strict";function r(){}function n(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,t!==r&&h(this,t)}function o(t,e,i){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function s(t,e,i){f(function(){var r;try{r=e(i)}catch(n){return g.reject(t,n)}r===t?g.reject(t,new TypeError("Cannot resolve promise with itself")):g.resolve(t,r)})}function a(t){var e=t&&t.then;return!t||"object"!=typeof t&&"function"!=typeof t||"function"!=typeof e?void 0:function(){e.apply(t,arguments)}}function h(t,e){function i(e){o||(o=!0,g.reject(t,e))}function r(e){o||(o=!0,g.resolve(t,e))}function n(){e(r,i)}var o=!1,s=u(n);"error"===s.status&&i(s.value)}function u(t,e){var i={};try{i.value=t(e),i.status="success"}catch(r){i.status="error",i.value=r}return i}function l(t){return t instanceof this?t:g.resolve(new this(r),t)}function c(t){var e=new this(r);return g.reject(e,t)}function p(t){function e(t,e){function r(t){s[e]=t,++a!==n||o||(o=!0,g.resolve(u,s))}i.resolve(t).then(r,function(t){o||(o=!0,g.reject(u,t))})}var i=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,o=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,h=-1,u=new this(r);++h<n;)e(t[h],h);return u}function d(t){function e(t){i.resolve(t).then(function(t){o||(o=!0,g.resolve(a,t))},function(t){o||(o=!0,g.reject(a,t))})}var i=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var n=t.length,o=!1;if(!n)return this.resolve([]);for(var s=-1,a=new this(r);++s<n;)e(t[s]);return a}var f=t("immediate"),g={},v=["REJECTED"],y=["FULFILLED"],m=["PENDING"];e.exports=n,n.prototype["catch"]=function(t){return this.then(null,t)},n.prototype.then=function(t,e){if("function"!=typeof t&&this.state===y||"function"!=typeof e&&this.state===v)return this;var i=new this.constructor(r);if(this.state!==m){var n=this.state===y?t:e;s(i,n,this.outcome)}else this.queue.push(new o(i,t,e));return i},o.prototype.callFulfilled=function(t){g.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){s(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){g.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){s(this.promise,this.onRejected,t)},g.resolve=function(t,e){var i=u(a,e);if("error"===i.status)return g.reject(t,i.value);var r=i.value;if(r)h(t,r);else{t.state=y,t.outcome=e;for(var n=-1,o=t.queue.length;++n<o;)t.queue[n].callFulfilled(e)}return t},g.reject=function(t,e){t.state=v,t.outcome=e;for(var i=-1,r=t.queue.length;++i<r;)t.queue[i].callRejected(e);return t},n.resolve=l,n.reject=c,n.all=p,n.race=d},{immediate:57}],59:[function(t,e,i){"use strict";var r=t("./lib/utils/common").assign,n=t("./lib/deflate"),o=t("./lib/inflate"),s=t("./lib/zlib/constants"),a={};r(a,n,o,s),e.exports=a},{"./lib/deflate":60,"./lib/inflate":61,"./lib/utils/common":62,"./lib/zlib/constants":65}],60:[function(t,e,i){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=h.assign({level:m,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:_,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var i=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(i!==g)throw new Error(l[i]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var n;if(n="string"==typeof e.dictionary?u.string2buf(e.dictionary):"[object ArrayBuffer]"===p.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,i=a.deflateSetDictionary(this.strm,n),i!==g)throw new Error(l[i]);this._dict_set=!0}}function n(t,e){var i=new r(e);if(i.push(t,!0),i.err)throw i.msg||l[i.err];return i.result}function o(t,e){return e=e||{},e.raw=!0,n(t,e)}function s(t,e){return e=e||{},e.gzip=!0,n(t,e)}var a=t("./zlib/deflate"),h=t("./utils/common"),u=t("./utils/strings"),l=t("./zlib/messages"),c=t("./zlib/zstream"),p=Object.prototype.toString,d=0,f=4,g=0,v=1,y=2,m=-1,_=0,b=8;r.prototype.push=function(t,e){var i,r,n=this.strm,o=this.options.chunkSize;if(this.ended)return!1;r=e===~~e?e:e===!0?f:d,"string"==typeof t?n.input=u.string2buf(t):"[object ArrayBuffer]"===p.call(t)?n.input=new Uint8Array(t):n.input=t,n.next_in=0,n.avail_in=n.input.length;do{if(0===n.avail_out&&(n.output=new h.Buf8(o),n.next_out=0,n.avail_out=o),i=a.deflate(n,r),i!==v&&i!==g)return this.onEnd(i),this.ended=!0,!1;0!==n.avail_out&&(0!==n.avail_in||r!==f&&r!==y)||("string"===this.options.to?this.onData(u.buf2binstring(h.shrinkBuf(n.output,n.next_out))):this.onData(h.shrinkBuf(n.output,n.next_out)))}while((n.avail_in>0||0===n.avail_out)&&i!==v);return r===f?(i=a.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===g):r!==y||(this.onEnd(g),n.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===g&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Deflate=r,i.deflate=n,i.deflateRaw=o,i.gzip=s},{"./utils/common":62,"./utils/strings":63,"./zlib/deflate":67,"./zlib/messages":72,"./zlib/zstream":74}],61:[function(t,e,i){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var i=s.inflateInit2(this.strm,e.windowBits);if(i!==u.Z_OK)throw new Error(l[i]);this.header=new p,s.inflateGetHeader(this.strm,this.header)}function n(t,e){var i=new r(e);if(i.push(t,!0),i.err)throw i.msg||l[i.err];return i.result}function o(t,e){return e=e||{},e.raw=!0,n(t,e)}var s=t("./zlib/inflate"),a=t("./utils/common"),h=t("./utils/strings"),u=t("./zlib/constants"),l=t("./zlib/messages"),c=t("./zlib/zstream"),p=t("./zlib/gzheader"),d=Object.prototype.toString;r.prototype.push=function(t,e){var i,r,n,o,l,c,p=this.strm,f=this.options.chunkSize,g=this.options.dictionary,v=!1;if(this.ended)return!1;r=e===~~e?e:e===!0?u.Z_FINISH:u.Z_NO_FLUSH,"string"==typeof t?p.input=h.binstring2buf(t):"[object ArrayBuffer]"===d.call(t)?p.input=new Uint8Array(t):p.input=t,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new a.Buf8(f),p.next_out=0,p.avail_out=f),i=s.inflate(p,u.Z_NO_FLUSH),i===u.Z_NEED_DICT&&g&&(c="string"==typeof g?h.string2buf(g):"[object ArrayBuffer]"===d.call(g)?new Uint8Array(g):g,i=s.inflateSetDictionary(this.strm,c)),i===u.Z_BUF_ERROR&&v===!0&&(i=u.Z_OK,v=!1),i!==u.Z_STREAM_END&&i!==u.Z_OK)return this.onEnd(i),this.ended=!0,!1;p.next_out&&(0!==p.avail_out&&i!==u.Z_STREAM_END&&(0!==p.avail_in||r!==u.Z_FINISH&&r!==u.Z_SYNC_FLUSH)||("string"===this.options.to?(n=h.utf8border(p.output,p.next_out),o=p.next_out-n,l=h.buf2string(p.output,n),p.next_out=o,p.avail_out=f-o,o&&a.arraySet(p.output,p.output,n,o,0),this.onData(l)):this.onData(a.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(v=!0)}while((p.avail_in>0||0===p.avail_out)&&i!==u.Z_STREAM_END);return i===u.Z_STREAM_END&&(r=u.Z_FINISH),r===u.Z_FINISH?(i=s.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===u.Z_OK):r!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),p.avail_out=0,!0)},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===u.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},i.Inflate=r,i.inflate=n,i.inflateRaw=o,i.ungzip=n},{"./utils/common":62,"./utils/strings":63,"./zlib/constants":65,"./zlib/gzheader":68,"./zlib/inflate":70,"./zlib/messages":72,"./zlib/zstream":74}],62:[function(t,e,i){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var r in i)i.hasOwnProperty(r)&&(t[r]=i[r])}}return t},i.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var n={arraySet:function(t,e,i,r,n){if(e.subarray&&t.subarray)return void t.set(e.subarray(i,i+r),n);for(var o=0;r>o;o++)t[n+o]=e[i+o]},flattenChunks:function(t){var e,i,r,n,o,s;for(r=0,e=0,i=t.length;i>e;e++)r+=t[e].length;for(s=new Uint8Array(r),n=0,e=0,i=t.length;i>e;e++)o=t[e],s.set(o,n),n+=o.length;return s}},o={arraySet:function(t,e,i,r,n){for(var o=0;r>o;o++)t[n+o]=e[i+o]},flattenChunks:function(t){return[].concat.apply([],t)}};i.setTyped=function(t){t?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,n)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(r)},{}],63:[function(t,e,i){"use strict";function r(t,e){if(65537>e&&(t.subarray&&s||!t.subarray&&o))return String.fromCharCode.apply(null,n.shrinkBuf(t,e));for(var i="",r=0;e>r;r++)i+=String.fromCharCode(t[r]);return i}var n=t("./common"),o=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(a){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){s=!1}for(var h=new n.Buf8(256),u=0;256>u;u++)h[u]=u>=252?6:u>=248?5:u>=240?4:u>=224?3:u>=192?2:1;h[254]=h[254]=1,i.string2buf=function(t){var e,i,r,o,s,a=t.length,h=0;for(o=0;a>o;o++)i=t.charCodeAt(o),55296===(64512&i)&&a>o+1&&(r=t.charCodeAt(o+1),56320===(64512&r)&&(i=65536+(i-55296<<10)+(r-56320),o++)),h+=128>i?1:2048>i?2:65536>i?3:4;for(e=new n.Buf8(h),s=0,o=0;h>s;o++)i=t.charCodeAt(o),55296===(64512&i)&&a>o+1&&(r=t.charCodeAt(o+1),56320===(64512&r)&&(i=65536+(i-55296<<10)+(r-56320),o++)),128>i?e[s++]=i:2048>i?(e[s++]=192|i>>>6,e[s++]=128|63&i):65536>i?(e[s++]=224|i>>>12,e[s++]=128|i>>>6&63,e[s++]=128|63&i):(e[s++]=240|i>>>18,e[s++]=128|i>>>12&63,e[s++]=128|i>>>6&63,e[s++]=128|63&i);return e},i.buf2binstring=function(t){return r(t,t.length)},i.binstring2buf=function(t){for(var e=new n.Buf8(t.length),i=0,r=e.length;r>i;i++)e[i]=t.charCodeAt(i);return e},i.buf2string=function(t,e){var i,n,o,s,a=e||t.length,u=new Array(2*a);for(n=0,i=0;a>i;)if(o=t[i++],128>o)u[n++]=o;else if(s=h[o],s>4)u[n++]=65533,i+=s-1;else{for(o&=2===s?31:3===s?15:7;s>1&&a>i;)o=o<<6|63&t[i++],s--;s>1?u[n++]=65533:65536>o?u[n++]=o:(o-=65536,u[n++]=55296|o>>10&1023,u[n++]=56320|1023&o)}return r(u,n)},i.utf8border=function(t,e){var i;for(e=e||t.length,e>t.length&&(e=t.length),i=e-1;i>=0&&128===(192&t[i]);)i--;return 0>i?e:0===i?e:i+h[t[i]]>e?i:e}},{"./common":62}],64:[function(t,e,i){"use strict";function r(t,e,i,r){for(var n=65535&t|0,o=t>>>16&65535|0,s=0;0!==i;){s=i>2e3?2e3:i,i-=s;do n=n+e[r++]|0,o=o+n|0;while(--s);n%=65521,o%=65521}return n|o<<16|0}e.exports=r},{}],65:[function(t,e,i){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],66:[function(t,e,i){"use strict";function r(){for(var t,e=[],i=0;256>i;i++){t=i;for(var r=0;8>r;r++)t=1&t?3988292384^t>>>1:t>>>1;e[i]=t}return e}function n(t,e,i,r){var n=o,s=r+i;t^=-1;for(var a=r;s>a;a++)t=t>>>8^n[255&(t^e[a])];return-1^t}var o=r();e.exports=n},{}],67:[function(t,e,i){"use strict";function r(t,e){return t.msg=L[e],e}function n(t){return(t<<1)-(t>4?9:0)}function o(t){for(var e=t.length;--e>=0;)t[e]=0}function s(t){var e=t.state,i=e.pending;i>t.avail_out&&(i=t.avail_out),0!==i&&(O.arraySet(t.output,e.pending_buf,e.pending_out,i,t.next_out),t.next_out+=i,e.pending_out+=i,t.total_out+=i,t.avail_out-=i,e.pending-=i,0===e.pending&&(e.pending_out=0))}function a(t,e){I._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,s(t.strm)}function h(t,e){t.pending_buf[t.pending++]=e}function u(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function l(t,e,i,r){var n=t.avail_in;return n>r&&(n=r),0===n?0:(t.avail_in-=n,O.arraySet(e,t.input,t.next_in,n,i),1===t.state.wrap?t.adler=D(t.adler,e,n,i):2===t.state.wrap&&(t.adler=R(t.adler,e,n,i)),t.next_in+=n,t.total_in+=n,n)}function c(t,e){var i,r,n=t.max_chain_length,o=t.strstart,s=t.prev_length,a=t.nice_match,h=t.strstart>t.w_size-ce?t.strstart-(t.w_size-ce):0,u=t.window,l=t.w_mask,c=t.prev,p=t.strstart+le,d=u[o+s-1],f=u[o+s];t.prev_length>=t.good_match&&(n>>=2),a>t.lookahead&&(a=t.lookahead);do if(i=e,u[i+s]===f&&u[i+s-1]===d&&u[i]===u[o]&&u[++i]===u[o+1]){o+=2,i++;do;while(u[++o]===u[++i]&&u[++o]===u[++i]&&u[++o]===u[++i]&&u[++o]===u[++i]&&u[++o]===u[++i]&&u[++o]===u[++i]&&u[++o]===u[++i]&&u[++o]===u[++i]&&p>o);if(r=le-(p-o),o=p-le,r>s){if(t.match_start=e,s=r,r>=a)break;d=u[o+s-1],f=u[o+s]}}while((e=c[e&l])>h&&0!==--n);return s<=t.lookahead?s:t.lookahead}function p(t){var e,i,r,n,o,s=t.w_size;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-ce)){O.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,i=t.hash_size,e=i;do r=t.head[--e],t.head[e]=r>=s?r-s:0;while(--i);i=s,e=i;do r=t.prev[--e],t.prev[e]=r>=s?r-s:0;while(--i);n+=s}if(0===t.strm.avail_in)break;if(i=l(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=i,t.lookahead+t.insert>=ue)for(o=t.strstart-t.insert,t.ins_h=t.window[o],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+ue-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<ue)););}while(t.lookahead<ce&&0!==t.strm.avail_in)}function d(t,e){var i=65535;for(i>t.pending_buf_size-5&&(i=t.pending_buf_size-5);;){if(t.lookahead<=1){if(p(t),0===t.lookahead&&e===A)return be;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+i;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,a(t,!1),0===t.strm.avail_out))return be;if(t.strstart-t.block_start>=t.w_size-ce&&(a(t,!1),0===t.strm.avail_out))return be}return t.insert=0,e===M?(a(t,!0),0===t.strm.avail_out?xe:Ee):t.strstart>t.block_start&&(a(t,!1),0===t.strm.avail_out)?be:be}function f(t,e){for(var i,r;;){if(t.lookahead<ce){if(p(t),t.lookahead<ce&&e===A)return be;if(0===t.lookahead)break}if(i=0,t.lookahead>=ue&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ue-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==i&&t.strstart-i<=t.w_size-ce&&(t.match_length=c(t,i)),t.match_length>=ue)if(r=I._tr_tally(t,t.strstart-t.match_start,t.match_length-ue),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ue){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ue-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=I._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(a(t,!1),0===t.strm.avail_out))return be}return t.insert=t.strstart<ue-1?t.strstart:ue-1,e===M?(a(t,!0),0===t.strm.avail_out?xe:Ee):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?be:$e}function g(t,e){for(var i,r,n;;){if(t.lookahead<ce){if(p(t),t.lookahead<ce&&e===A)return be;if(0===t.lookahead)break}if(i=0,t.lookahead>=ue&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ue-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ue-1,0!==i&&t.prev_length<t.max_lazy_match&&t.strstart-i<=t.w_size-ce&&(t.match_length=c(t,i),t.match_length<=5&&(t.strategy===G||t.match_length===ue&&t.strstart-t.match_start>4096)&&(t.match_length=ue-1)),t.prev_length>=ue&&t.match_length<=t.prev_length){n=t.strstart+t.lookahead-ue,r=I._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ue),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=n&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ue-1])&t.hash_mask,i=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=ue-1,t.strstart++,r&&(a(t,!1),0===t.strm.avail_out))return be}else if(t.match_available){if(r=I._tr_tally(t,0,t.window[t.strstart-1]),r&&a(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return be}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=I._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ue-1?t.strstart:ue-1,e===M?(a(t,!0),0===t.strm.avail_out?xe:Ee):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?be:$e}function v(t,e){for(var i,r,n,o,s=t.window;;){if(t.lookahead<=le){if(p(t),t.lookahead<=le&&e===A)return be;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ue&&t.strstart>0&&(n=t.strstart-1,r=s[n],r===s[++n]&&r===s[++n]&&r===s[++n])){o=t.strstart+le;do;while(r===s[++n]&&r===s[++n]&&r===s[++n]&&r===s[++n]&&r===s[++n]&&r===s[++n]&&r===s[++n]&&r===s[++n]&&o>n);t.match_length=le-(o-n),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ue?(i=I._tr_tally(t,1,t.match_length-ue),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(i=I._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),i&&(a(t,!1),0===t.strm.avail_out))return be}return t.insert=0,e===M?(a(t,!0),0===t.strm.avail_out?xe:Ee):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?be:$e}function y(t,e){for(var i;;){if(0===t.lookahead&&(p(t),0===t.lookahead)){if(e===A)return be;break}if(t.match_length=0,i=I._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,i&&(a(t,!1),0===t.strm.avail_out))return be}return t.insert=0,e===M?(a(t,!0),0===t.strm.avail_out?xe:Ee):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?be:$e}function m(t,e,i,r,n){this.good_length=t,this.max_lazy=e,this.nice_length=i,this.max_chain=r,this.func=n}function _(t){t.window_size=2*t.w_size,o(t.head),t.max_lazy_match=k[t.level].max_lazy,t.good_match=k[t.level].good_length,t.nice_match=k[t.level].nice_length,t.max_chain_length=k[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ue-1,t.match_available=0,t.ins_h=0}function b(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=K,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new O.Buf16(2*ae),this.dyn_dtree=new O.Buf16(2*(2*oe+1)),this.bl_tree=new O.Buf16(2*(2*se+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new O.Buf16(he+1),this.heap=new O.Buf16(2*ne+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new O.Buf16(2*ne+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function $(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=J,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?de:me,t.adler=2===e.wrap?0:1,e.last_flush=A,I._tr_init(e),z):r(t,U)}function x(t){var e=$(t);return e===z&&_(t.state),e}function E(t,e){return t&&t.state?2!==t.state.wrap?U:(t.state.gzhead=e,z):U}function T(t,e,i,n,o,s){if(!t)return U;var a=1;if(e===V&&(e=6),0>n?(a=0,n=-n):n>15&&(a=2,n-=16),1>o||o>Q||i!==K||8>n||n>15||0>e||e>9||0>s||s>Z)return r(t,U);8===n&&(n=9);var h=new b;return t.state=h,h.strm=t,h.wrap=a,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=o+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+ue-1)/ue),h.window=new O.Buf8(2*h.w_size),h.head=new O.Buf16(h.hash_size),h.prev=new O.Buf16(h.w_size),h.lit_bufsize=1<<o+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new O.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=e,h.strategy=s,h.method=i,x(t)}function w(t,e){return T(t,e,K,te,ee,q)}function S(t,e){var i,a,l,c;if(!t||!t.state||e>F||0>e)return t?r(t,U):U;if(a=t.state,!t.output||!t.input&&0!==t.avail_in||a.status===_e&&e!==M)return r(t,0===t.avail_out?W:U);if(a.strm=t,i=a.last_flush,a.last_flush=e,a.status===de)if(2===a.wrap)t.adler=0,h(a,31),h(a,139),h(a,8),a.gzhead?(h(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),h(a,255&a.gzhead.time),h(a,a.gzhead.time>>8&255),h(a,a.gzhead.time>>16&255),h(a,a.gzhead.time>>24&255),h(a,9===a.level?2:a.strategy>=X||a.level<2?4:0),h(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(h(a,255&a.gzhead.extra.length),h(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=R(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=fe):(h(a,0),h(a,0),h(a,0),h(a,0),h(a,0),h(a,9===a.level?2:a.strategy>=X||a.level<2?4:0),h(a,Te),a.status=me);else{var p=K+(a.w_bits-8<<4)<<8,d=-1;d=a.strategy>=X||a.level<2?0:a.level<6?1:6===a.level?2:3,p|=d<<6,0!==a.strstart&&(p|=pe),p+=31-p%31,a.status=me,u(a,p),0!==a.strstart&&(u(a,t.adler>>>16),u(a,65535&t.adler)),t.adler=1}if(a.status===fe)if(a.gzhead.extra){for(l=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>l&&(t.adler=R(t.adler,a.pending_buf,a.pending-l,l)),s(t),l=a.pending,a.pending!==a.pending_buf_size));)h(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>l&&(t.adler=R(t.adler,a.pending_buf,a.pending-l,l)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=ge)}else a.status=ge;if(a.status===ge)if(a.gzhead.name){l=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>l&&(t.adler=R(t.adler,a.pending_buf,a.pending-l,l)),s(t),l=a.pending,a.pending===a.pending_buf_size)){c=1;break}c=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,h(a,c)}while(0!==c);a.gzhead.hcrc&&a.pending>l&&(t.adler=R(t.adler,a.pending_buf,a.pending-l,l)),0===c&&(a.gzindex=0,a.status=ve)}else a.status=ve;if(a.status===ve)if(a.gzhead.comment){l=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>l&&(t.adler=R(t.adler,a.pending_buf,a.pending-l,l)),s(t),l=a.pending,a.pending===a.pending_buf_size)){c=1;break}c=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,h(a,c)}while(0!==c);a.gzhead.hcrc&&a.pending>l&&(t.adler=R(t.adler,a.pending_buf,a.pending-l,l)),0===c&&(a.status=ye)}else a.status=ye;if(a.status===ye&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&s(t),a.pending+2<=a.pending_buf_size&&(h(a,255&t.adler),h(a,t.adler>>8&255),t.adler=0,a.status=me)):a.status=me),0!==a.pending){if(s(t),0===t.avail_out)return a.last_flush=-1,z}else if(0===t.avail_in&&n(e)<=n(i)&&e!==M)return r(t,W);if(a.status===_e&&0!==t.avail_in)return r(t,W);if(0!==t.avail_in||0!==a.lookahead||e!==A&&a.status!==_e){var f=a.strategy===X?y(a,e):a.strategy===Y?v(a,e):k[a.level].func(a,e);if(f!==xe&&f!==Ee||(a.status=_e),f===be||f===xe)return 0===t.avail_out&&(a.last_flush=-1),z;if(f===$e&&(e===N?I._tr_align(a):e!==F&&(I._tr_stored_block(a,0,0,!1),e===B&&(o(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),s(t),0===t.avail_out))return a.last_flush=-1,z}return e!==M?z:a.wrap<=0?j:(2===a.wrap?(h(a,255&t.adler),h(a,t.adler>>8&255),h(a,t.adler>>16&255),h(a,t.adler>>24&255),h(a,255&t.total_in),h(a,t.total_in>>8&255),h(a,t.total_in>>16&255),h(a,t.total_in>>24&255)):(u(a,t.adler>>>16),u(a,65535&t.adler)),s(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?z:j)}function C(t){var e;return t&&t.state?(e=t.state.status,e!==de&&e!==fe&&e!==ge&&e!==ve&&e!==ye&&e!==me&&e!==_e?r(t,U):(t.state=null,e===me?r(t,H):z)):U}function P(t,e){var i,r,n,s,a,h,u,l,c=e.length;if(!t||!t.state)return U;if(i=t.state,s=i.wrap,2===s||1===s&&i.status!==de||i.lookahead)return U;for(1===s&&(t.adler=D(t.adler,e,c,0)),i.wrap=0,c>=i.w_size&&(0===s&&(o(i.head),i.strstart=0,i.block_start=0,i.insert=0),l=new O.Buf8(i.w_size),O.arraySet(l,e,c-i.w_size,i.w_size,0),e=l,c=i.w_size),a=t.avail_in,h=t.next_in,u=t.input,t.avail_in=c,t.next_in=0,t.input=e,p(i);i.lookahead>=ue;){r=i.strstart,n=i.lookahead-(ue-1);do i.ins_h=(i.ins_h<<i.hash_shift^i.window[r+ue-1])&i.hash_mask,i.prev[r&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=r,r++;while(--n);i.strstart=r,i.lookahead=ue-1,p(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=ue-1,i.match_available=0,t.next_in=h,t.input=u,t.avail_in=a,i.wrap=s,z}var k,O=t("../utils/common"),I=t("./trees"),D=t("./adler32"),R=t("./crc32"),L=t("./messages"),A=0,N=1,B=3,M=4,F=5,z=0,j=1,U=-2,H=-3,W=-5,V=-1,G=1,X=2,Y=3,Z=4,q=0,J=2,K=8,Q=9,te=15,ee=8,ie=29,re=256,ne=re+1+ie,oe=30,se=19,ae=2*ne+1,he=15,ue=3,le=258,ce=le+ue+1,pe=32,de=42,fe=69,ge=73,ve=91,ye=103,me=113,_e=666,be=1,$e=2,xe=3,Ee=4,Te=3;k=[new m(0,0,0,0,d),new m(4,4,8,4,f),new m(4,5,16,8,f),new m(4,6,32,32,f),new m(4,4,16,16,g),new m(8,16,32,32,g),new m(8,16,128,128,g),new m(8,32,128,256,g),new m(32,128,258,1024,g),new m(32,258,258,4096,g)],i.deflateInit=w,i.deflateInit2=T,i.deflateReset=x,i.deflateResetKeep=$,i.deflateSetHeader=E,i.deflate=S,i.deflateEnd=C,i.deflateSetDictionary=P,i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./messages":72,"./trees":73}],68:[function(t,e,i){"use strict";function r(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}e.exports=r},{}],69:[function(t,e,i){"use strict";var r=30,n=12;e.exports=function(t,e){var i,o,s,a,h,u,l,c,p,d,f,g,v,y,m,_,b,$,x,E,T,w,S,C,P;i=t.state,o=t.next_in,C=t.input,s=o+(t.avail_in-5),a=t.next_out,P=t.output,h=a-(e-t.avail_out),u=a+(t.avail_out-257),l=i.dmax,c=i.wsize,p=i.whave,d=i.wnext,f=i.window,g=i.hold,v=i.bits,y=i.lencode,m=i.distcode,_=(1<<i.lenbits)-1,b=(1<<i.distbits)-1;t:do{15>v&&(g+=C[o++]<<v,v+=8,g+=C[o++]<<v,v+=8),$=y[g&_];
e:for(;;){if(x=$>>>24,g>>>=x,v-=x,x=$>>>16&255,0===x)P[a++]=65535&$;else{if(!(16&x)){if(0===(64&x)){$=y[(65535&$)+(g&(1<<x)-1)];continue e}if(32&x){i.mode=n;break t}t.msg="invalid literal/length code",i.mode=r;break t}E=65535&$,x&=15,x&&(x>v&&(g+=C[o++]<<v,v+=8),E+=g&(1<<x)-1,g>>>=x,v-=x),15>v&&(g+=C[o++]<<v,v+=8,g+=C[o++]<<v,v+=8),$=m[g&b];i:for(;;){if(x=$>>>24,g>>>=x,v-=x,x=$>>>16&255,!(16&x)){if(0===(64&x)){$=m[(65535&$)+(g&(1<<x)-1)];continue i}t.msg="invalid distance code",i.mode=r;break t}if(T=65535&$,x&=15,x>v&&(g+=C[o++]<<v,v+=8,x>v&&(g+=C[o++]<<v,v+=8)),T+=g&(1<<x)-1,T>l){t.msg="invalid distance too far back",i.mode=r;break t}if(g>>>=x,v-=x,x=a-h,T>x){if(x=T-x,x>p&&i.sane){t.msg="invalid distance too far back",i.mode=r;break t}if(w=0,S=f,0===d){if(w+=c-x,E>x){E-=x;do P[a++]=f[w++];while(--x);w=a-T,S=P}}else if(x>d){if(w+=c+d-x,x-=d,E>x){E-=x;do P[a++]=f[w++];while(--x);if(w=0,E>d){x=d,E-=x;do P[a++]=f[w++];while(--x);w=a-T,S=P}}}else if(w+=d-x,E>x){E-=x;do P[a++]=f[w++];while(--x);w=a-T,S=P}for(;E>2;)P[a++]=S[w++],P[a++]=S[w++],P[a++]=S[w++],E-=3;E&&(P[a++]=S[w++],E>1&&(P[a++]=S[w++]))}else{w=a-T;do P[a++]=P[w++],P[a++]=P[w++],P[a++]=P[w++],E-=3;while(E>2);E&&(P[a++]=P[w++],E>1&&(P[a++]=P[w++]))}break}}break}}while(s>o&&u>a);E=v>>3,o-=E,v-=E<<3,g&=(1<<v)-1,t.next_in=o,t.next_out=a,t.avail_in=s>o?5+(s-o):5-(o-s),t.avail_out=u>a?257+(u-a):257-(a-u),i.hold=g,i.bits=v}},{}],70:[function(t,e,i){"use strict";function r(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function n(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=B,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new m.Buf32(ge),e.distcode=e.distdyn=new m.Buf32(ve),e.sane=1,e.back=-1,k):D}function s(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,o(t)):D}function a(t,e){var i,r;return t&&t.state?(r=t.state,0>e?(i=0,e=-e):(i=(e>>4)+1,48>e&&(e&=15)),e&&(8>e||e>15)?D:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=i,r.wbits=e,s(t))):D}function h(t,e){var i,r;return t?(r=new n,t.state=r,r.window=null,i=a(t,e),i!==k&&(t.state=null),i):D}function u(t){return h(t,me)}function l(t){if(_e){var e;for(v=new m.Buf32(512),y=new m.Buf32(32),e=0;144>e;)t.lens[e++]=8;for(;256>e;)t.lens[e++]=9;for(;280>e;)t.lens[e++]=7;for(;288>e;)t.lens[e++]=8;for(x(T,t.lens,0,288,v,0,t.work,{bits:9}),e=0;32>e;)t.lens[e++]=5;x(w,t.lens,0,32,y,0,t.work,{bits:5}),_e=!1}t.lencode=v,t.lenbits=9,t.distcode=y,t.distbits=5}function c(t,e,i,r){var n,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new m.Buf8(o.wsize)),r>=o.wsize?(m.arraySet(o.window,e,i-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(n=o.wsize-o.wnext,n>r&&(n=r),m.arraySet(o.window,e,i-r,n,o.wnext),r-=n,r?(m.arraySet(o.window,e,i-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=n,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=n))),0}function p(t,e){var i,n,o,s,a,h,u,p,d,f,g,v,y,ge,ve,ye,me,_e,be,$e,xe,Ee,Te,we,Se=0,Ce=new m.Buf8(4),Pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return D;i=t.state,i.mode===Y&&(i.mode=Z),a=t.next_out,o=t.output,u=t.avail_out,s=t.next_in,n=t.input,h=t.avail_in,p=i.hold,d=i.bits,f=h,g=u,Ee=k;t:for(;;)switch(i.mode){case B:if(0===i.wrap){i.mode=Z;break}for(;16>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}if(2&i.wrap&&35615===p){i.check=0,Ce[0]=255&p,Ce[1]=p>>>8&255,i.check=b(i.check,Ce,2,0),p=0,d=0,i.mode=M;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&p)<<8)+(p>>8))%31){t.msg="incorrect header check",i.mode=pe;break}if((15&p)!==N){t.msg="unknown compression method",i.mode=pe;break}if(p>>>=4,d-=4,xe=(15&p)+8,0===i.wbits)i.wbits=xe;else if(xe>i.wbits){t.msg="invalid window size",i.mode=pe;break}i.dmax=1<<xe,t.adler=i.check=1,i.mode=512&p?G:Y,p=0,d=0;break;case M:for(;16>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}if(i.flags=p,(255&i.flags)!==N){t.msg="unknown compression method",i.mode=pe;break}if(57344&i.flags){t.msg="unknown header flags set",i.mode=pe;break}i.head&&(i.head.text=p>>8&1),512&i.flags&&(Ce[0]=255&p,Ce[1]=p>>>8&255,i.check=b(i.check,Ce,2,0)),p=0,d=0,i.mode=F;case F:for(;32>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}i.head&&(i.head.time=p),512&i.flags&&(Ce[0]=255&p,Ce[1]=p>>>8&255,Ce[2]=p>>>16&255,Ce[3]=p>>>24&255,i.check=b(i.check,Ce,4,0)),p=0,d=0,i.mode=z;case z:for(;16>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}i.head&&(i.head.xflags=255&p,i.head.os=p>>8),512&i.flags&&(Ce[0]=255&p,Ce[1]=p>>>8&255,i.check=b(i.check,Ce,2,0)),p=0,d=0,i.mode=j;case j:if(1024&i.flags){for(;16>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}i.length=p,i.head&&(i.head.extra_len=p),512&i.flags&&(Ce[0]=255&p,Ce[1]=p>>>8&255,i.check=b(i.check,Ce,2,0)),p=0,d=0}else i.head&&(i.head.extra=null);i.mode=U;case U:if(1024&i.flags&&(v=i.length,v>h&&(v=h),v&&(i.head&&(xe=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),m.arraySet(i.head.extra,n,s,v,xe)),512&i.flags&&(i.check=b(i.check,n,v,s)),h-=v,s+=v,i.length-=v),i.length))break t;i.length=0,i.mode=H;case H:if(2048&i.flags){if(0===h)break t;v=0;do xe=n[s+v++],i.head&&xe&&i.length<65536&&(i.head.name+=String.fromCharCode(xe));while(xe&&h>v);if(512&i.flags&&(i.check=b(i.check,n,v,s)),h-=v,s+=v,xe)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=W;case W:if(4096&i.flags){if(0===h)break t;v=0;do xe=n[s+v++],i.head&&xe&&i.length<65536&&(i.head.comment+=String.fromCharCode(xe));while(xe&&h>v);if(512&i.flags&&(i.check=b(i.check,n,v,s)),h-=v,s+=v,xe)break t}else i.head&&(i.head.comment=null);i.mode=V;case V:if(512&i.flags){for(;16>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}if(p!==(65535&i.check)){t.msg="header crc mismatch",i.mode=pe;break}p=0,d=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),t.adler=i.check=0,i.mode=Y;break;case G:for(;32>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}t.adler=i.check=r(p),p=0,d=0,i.mode=X;case X:if(0===i.havedict)return t.next_out=a,t.avail_out=u,t.next_in=s,t.avail_in=h,i.hold=p,i.bits=d,I;t.adler=i.check=1,i.mode=Y;case Y:if(e===C||e===P)break t;case Z:if(i.last){p>>>=7&d,d-=7&d,i.mode=ue;break}for(;3>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}switch(i.last=1&p,p>>>=1,d-=1,3&p){case 0:i.mode=q;break;case 1:if(l(i),i.mode=ie,e===P){p>>>=2,d-=2;break t}break;case 2:i.mode=Q;break;case 3:t.msg="invalid block type",i.mode=pe}p>>>=2,d-=2;break;case q:for(p>>>=7&d,d-=7&d;32>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}if((65535&p)!==(p>>>16^65535)){t.msg="invalid stored block lengths",i.mode=pe;break}if(i.length=65535&p,p=0,d=0,i.mode=J,e===P)break t;case J:i.mode=K;case K:if(v=i.length){if(v>h&&(v=h),v>u&&(v=u),0===v)break t;m.arraySet(o,n,s,v,a),h-=v,s+=v,u-=v,a+=v,i.length-=v;break}i.mode=Y;break;case Q:for(;14>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}if(i.nlen=(31&p)+257,p>>>=5,d-=5,i.ndist=(31&p)+1,p>>>=5,d-=5,i.ncode=(15&p)+4,p>>>=4,d-=4,i.nlen>286||i.ndist>30){t.msg="too many length or distance symbols",i.mode=pe;break}i.have=0,i.mode=te;case te:for(;i.have<i.ncode;){for(;3>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}i.lens[Pe[i.have++]]=7&p,p>>>=3,d-=3}for(;i.have<19;)i.lens[Pe[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Te={bits:i.lenbits},Ee=x(E,i.lens,0,19,i.lencode,0,i.work,Te),i.lenbits=Te.bits,Ee){t.msg="invalid code lengths set",i.mode=pe;break}i.have=0,i.mode=ee;case ee:for(;i.have<i.nlen+i.ndist;){for(;Se=i.lencode[p&(1<<i.lenbits)-1],ve=Se>>>24,ye=Se>>>16&255,me=65535&Se,!(d>=ve);){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}if(16>me)p>>>=ve,d-=ve,i.lens[i.have++]=me;else{if(16===me){for(we=ve+2;we>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}if(p>>>=ve,d-=ve,0===i.have){t.msg="invalid bit length repeat",i.mode=pe;break}xe=i.lens[i.have-1],v=3+(3&p),p>>>=2,d-=2}else if(17===me){for(we=ve+3;we>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}p>>>=ve,d-=ve,xe=0,v=3+(7&p),p>>>=3,d-=3}else{for(we=ve+7;we>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}p>>>=ve,d-=ve,xe=0,v=11+(127&p),p>>>=7,d-=7}if(i.have+v>i.nlen+i.ndist){t.msg="invalid bit length repeat",i.mode=pe;break}for(;v--;)i.lens[i.have++]=xe}}if(i.mode===pe)break;if(0===i.lens[256]){t.msg="invalid code -- missing end-of-block",i.mode=pe;break}if(i.lenbits=9,Te={bits:i.lenbits},Ee=x(T,i.lens,0,i.nlen,i.lencode,0,i.work,Te),i.lenbits=Te.bits,Ee){t.msg="invalid literal/lengths set",i.mode=pe;break}if(i.distbits=6,i.distcode=i.distdyn,Te={bits:i.distbits},Ee=x(w,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,Te),i.distbits=Te.bits,Ee){t.msg="invalid distances set",i.mode=pe;break}if(i.mode=ie,e===P)break t;case ie:i.mode=re;case re:if(h>=6&&u>=258){t.next_out=a,t.avail_out=u,t.next_in=s,t.avail_in=h,i.hold=p,i.bits=d,$(t,g),a=t.next_out,o=t.output,u=t.avail_out,s=t.next_in,n=t.input,h=t.avail_in,p=i.hold,d=i.bits,i.mode===Y&&(i.back=-1);break}for(i.back=0;Se=i.lencode[p&(1<<i.lenbits)-1],ve=Se>>>24,ye=Se>>>16&255,me=65535&Se,!(d>=ve);){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}if(ye&&0===(240&ye)){for(_e=ve,be=ye,$e=me;Se=i.lencode[$e+((p&(1<<_e+be)-1)>>_e)],ve=Se>>>24,ye=Se>>>16&255,me=65535&Se,!(d>=_e+ve);){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}p>>>=_e,d-=_e,i.back+=_e}if(p>>>=ve,d-=ve,i.back+=ve,i.length=me,0===ye){i.mode=he;break}if(32&ye){i.back=-1,i.mode=Y;break}if(64&ye){t.msg="invalid literal/length code",i.mode=pe;break}i.extra=15&ye,i.mode=ne;case ne:if(i.extra){for(we=i.extra;we>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}i.length+=p&(1<<i.extra)-1,p>>>=i.extra,d-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=oe;case oe:for(;Se=i.distcode[p&(1<<i.distbits)-1],ve=Se>>>24,ye=Se>>>16&255,me=65535&Se,!(d>=ve);){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}if(0===(240&ye)){for(_e=ve,be=ye,$e=me;Se=i.distcode[$e+((p&(1<<_e+be)-1)>>_e)],ve=Se>>>24,ye=Se>>>16&255,me=65535&Se,!(d>=_e+ve);){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}p>>>=_e,d-=_e,i.back+=_e}if(p>>>=ve,d-=ve,i.back+=ve,64&ye){t.msg="invalid distance code",i.mode=pe;break}i.offset=me,i.extra=15&ye,i.mode=se;case se:if(i.extra){for(we=i.extra;we>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}i.offset+=p&(1<<i.extra)-1,p>>>=i.extra,d-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){t.msg="invalid distance too far back",i.mode=pe;break}i.mode=ae;case ae:if(0===u)break t;if(v=g-u,i.offset>v){if(v=i.offset-v,v>i.whave&&i.sane){t.msg="invalid distance too far back",i.mode=pe;break}v>i.wnext?(v-=i.wnext,y=i.wsize-v):y=i.wnext-v,v>i.length&&(v=i.length),ge=i.window}else ge=o,y=a-i.offset,v=i.length;v>u&&(v=u),u-=v,i.length-=v;do o[a++]=ge[y++];while(--v);0===i.length&&(i.mode=re);break;case he:if(0===u)break t;o[a++]=i.length,u--,i.mode=re;break;case ue:if(i.wrap){for(;32>d;){if(0===h)break t;h--,p|=n[s++]<<d,d+=8}if(g-=u,t.total_out+=g,i.total+=g,g&&(t.adler=i.check=i.flags?b(i.check,o,g,a-g):_(i.check,o,g,a-g)),g=u,(i.flags?p:r(p))!==i.check){t.msg="incorrect data check",i.mode=pe;break}p=0,d=0}i.mode=le;case le:if(i.wrap&&i.flags){for(;32>d;){if(0===h)break t;h--,p+=n[s++]<<d,d+=8}if(p!==(4294967295&i.total)){t.msg="incorrect length check",i.mode=pe;break}p=0,d=0}i.mode=ce;case ce:Ee=O;break t;case pe:Ee=R;break t;case de:return L;case fe:default:return D}return t.next_out=a,t.avail_out=u,t.next_in=s,t.avail_in=h,i.hold=p,i.bits=d,(i.wsize||g!==t.avail_out&&i.mode<pe&&(i.mode<ue||e!==S))&&c(t,t.output,t.next_out,g-t.avail_out)?(i.mode=de,L):(f-=t.avail_in,g-=t.avail_out,t.total_in+=f,t.total_out+=g,i.total+=g,i.wrap&&g&&(t.adler=i.check=i.flags?b(i.check,o,g,t.next_out-g):_(i.check,o,g,t.next_out-g)),t.data_type=i.bits+(i.last?64:0)+(i.mode===Y?128:0)+(i.mode===ie||i.mode===J?256:0),(0===f&&0===g||e===S)&&Ee===k&&(Ee=A),Ee)}function d(t){if(!t||!t.state)return D;var e=t.state;return e.window&&(e.window=null),t.state=null,k}function f(t,e){var i;return t&&t.state?(i=t.state,0===(2&i.wrap)?D:(i.head=e,e.done=!1,k)):D}function g(t,e){var i,r,n,o=e.length;return t&&t.state?(i=t.state,0!==i.wrap&&i.mode!==X?D:i.mode===X&&(r=1,r=_(r,e,o,0),r!==i.check)?R:(n=c(t,e,o,o))?(i.mode=de,L):(i.havedict=1,k)):D}var v,y,m=t("../utils/common"),_=t("./adler32"),b=t("./crc32"),$=t("./inffast"),x=t("./inftrees"),E=0,T=1,w=2,S=4,C=5,P=6,k=0,O=1,I=2,D=-2,R=-3,L=-4,A=-5,N=8,B=1,M=2,F=3,z=4,j=5,U=6,H=7,W=8,V=9,G=10,X=11,Y=12,Z=13,q=14,J=15,K=16,Q=17,te=18,ee=19,ie=20,re=21,ne=22,oe=23,se=24,ae=25,he=26,ue=27,le=28,ce=29,pe=30,de=31,fe=32,ge=852,ve=592,ye=15,me=ye,_e=!0;i.inflateReset=s,i.inflateReset2=a,i.inflateResetKeep=o,i.inflateInit=u,i.inflateInit2=h,i.inflate=p,i.inflateEnd=d,i.inflateGetHeader=f,i.inflateSetDictionary=g,i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":62,"./adler32":64,"./crc32":66,"./inffast":69,"./inftrees":71}],71:[function(t,e,i){"use strict";var r=t("../utils/common"),n=15,o=852,s=592,a=0,h=1,u=2,l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(t,e,i,f,g,v,y,m){var _,b,$,x,E,T,w,S,C,P=m.bits,k=0,O=0,I=0,D=0,R=0,L=0,A=0,N=0,B=0,M=0,F=null,z=0,j=new r.Buf16(n+1),U=new r.Buf16(n+1),H=null,W=0;for(k=0;n>=k;k++)j[k]=0;for(O=0;f>O;O++)j[e[i+O]]++;for(R=P,D=n;D>=1&&0===j[D];D--);if(R>D&&(R=D),0===D)return g[v++]=20971520,g[v++]=20971520,m.bits=1,0;for(I=1;D>I&&0===j[I];I++);for(I>R&&(R=I),N=1,k=1;n>=k;k++)if(N<<=1,N-=j[k],0>N)return-1;if(N>0&&(t===a||1!==D))return-1;for(U[1]=0,k=1;n>k;k++)U[k+1]=U[k]+j[k];for(O=0;f>O;O++)0!==e[i+O]&&(y[U[e[i+O]]++]=O);if(t===a?(F=H=y,T=19):t===h?(F=l,z-=257,H=c,W-=257,T=256):(F=p,H=d,T=-1),M=0,O=0,k=I,E=v,L=R,A=0,$=-1,B=1<<R,x=B-1,t===h&&B>o||t===u&&B>s)return 1;for(;;){w=k-A,y[O]<T?(S=0,C=y[O]):y[O]>T?(S=H[W+y[O]],C=F[z+y[O]]):(S=96,C=0),_=1<<k-A,b=1<<L,I=b;do b-=_,g[E+(M>>A)+b]=w<<24|S<<16|C|0;while(0!==b);for(_=1<<k-1;M&_;)_>>=1;if(0!==_?(M&=_-1,M+=_):M=0,O++,0===--j[k]){if(k===D)break;k=e[i+y[O]]}if(k>R&&(M&x)!==$){for(0===A&&(A=R),E+=I,L=k-A,N=1<<L;D>L+A&&(N-=j[L+A],!(0>=N));)L++,N<<=1;if(B+=1<<L,t===h&&B>o||t===u&&B>s)return 1;$=M&x,g[$]=R<<24|L<<16|E-v|0}}return 0!==M&&(g[E+M]=k-A<<24|64<<16|0),m.bits=R,0}},{"../utils/common":62}],72:[function(t,e,i){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],73:[function(t,e,i){"use strict";function r(t){for(var e=t.length;--e>=0;)t[e]=0}function n(t,e,i,r,n){this.static_tree=t,this.extra_bits=e,this.extra_base=i,this.elems=r,this.max_length=n,this.has_stree=t&&t.length}function o(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function s(t){return 256>t?he[t]:he[256+(t>>>7)]}function a(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function h(t,e,i){t.bi_valid>Z-i?(t.bi_buf|=e<<t.bi_valid&65535,a(t,t.bi_buf),t.bi_buf=e>>Z-t.bi_valid,t.bi_valid+=i-Z):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=i)}function u(t,e,i){h(t,i[2*e],i[2*e+1])}function l(t,e){var i=0;do i|=1&t,t>>>=1,i<<=1;while(--e>0);return i>>>1}function c(t){16===t.bi_valid?(a(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function p(t,e){var i,r,n,o,s,a,h=e.dyn_tree,u=e.max_code,l=e.stat_desc.static_tree,c=e.stat_desc.has_stree,p=e.stat_desc.extra_bits,d=e.stat_desc.extra_base,f=e.stat_desc.max_length,g=0;for(o=0;Y>=o;o++)t.bl_count[o]=0;for(h[2*t.heap[t.heap_max]+1]=0,i=t.heap_max+1;X>i;i++)r=t.heap[i],o=h[2*h[2*r+1]+1]+1,o>f&&(o=f,g++),h[2*r+1]=o,r>u||(t.bl_count[o]++,s=0,r>=d&&(s=p[r-d]),a=h[2*r],t.opt_len+=a*(o+s),c&&(t.static_len+=a*(l[2*r+1]+s)));if(0!==g){do{for(o=f-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[f]--,g-=2}while(g>0);for(o=f;0!==o;o--)for(r=t.bl_count[o];0!==r;)n=t.heap[--i],n>u||(h[2*n+1]!==o&&(t.opt_len+=(o-h[2*n+1])*h[2*n],h[2*n+1]=o),r--)}}function d(t,e,i){var r,n,o=new Array(Y+1),s=0;for(r=1;Y>=r;r++)o[r]=s=s+i[r-1]<<1;for(n=0;e>=n;n++){var a=t[2*n+1];0!==a&&(t[2*n]=l(o[a]++,a))}}function f(){var t,e,i,r,o,s=new Array(Y+1);for(i=0,r=0;U-1>r;r++)for(le[r]=i,t=0;t<1<<ee[r];t++)ue[i++]=r;for(ue[i-1]=r,o=0,r=0;16>r;r++)for(ce[r]=o,t=0;t<1<<ie[r];t++)he[o++]=r;for(o>>=7;V>r;r++)for(ce[r]=o<<7,t=0;t<1<<ie[r]-7;t++)he[256+o++]=r;for(e=0;Y>=e;e++)s[e]=0;for(t=0;143>=t;)se[2*t+1]=8,t++,s[8]++;for(;255>=t;)se[2*t+1]=9,t++,s[9]++;for(;279>=t;)se[2*t+1]=7,t++,s[7]++;for(;287>=t;)se[2*t+1]=8,t++,s[8]++;for(d(se,W+1,s),t=0;V>t;t++)ae[2*t+1]=5,ae[2*t]=l(t,5);pe=new n(se,ee,H+1,W,Y),de=new n(ae,ie,0,V,Y),fe=new n(new Array(0),re,0,G,q)}function g(t){var e;for(e=0;W>e;e++)t.dyn_ltree[2*e]=0;for(e=0;V>e;e++)t.dyn_dtree[2*e]=0;for(e=0;G>e;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*J]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function v(t){t.bi_valid>8?a(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function y(t,e,i,r){v(t),r&&(a(t,i),a(t,~i)),D.arraySet(t.pending_buf,t.window,e,i,t.pending),t.pending+=i}function m(t,e,i,r){var n=2*e,o=2*i;return t[n]<t[o]||t[n]===t[o]&&r[e]<=r[i]}function _(t,e,i){for(var r=t.heap[i],n=i<<1;n<=t.heap_len&&(n<t.heap_len&&m(e,t.heap[n+1],t.heap[n],t.depth)&&n++,!m(e,r,t.heap[n],t.depth));)t.heap[i]=t.heap[n],i=n,n<<=1;t.heap[i]=r}function b(t,e,i){var r,n,o,a,l=0;if(0!==t.last_lit)do r=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],n=t.pending_buf[t.l_buf+l],l++,0===r?u(t,n,e):(o=ue[n],u(t,o+H+1,e),a=ee[o],0!==a&&(n-=le[o],h(t,n,a)),r--,o=s(r),u(t,o,i),a=ie[o],0!==a&&(r-=ce[o],h(t,r,a)));while(l<t.last_lit);u(t,J,e)}function $(t,e){var i,r,n,o=e.dyn_tree,s=e.stat_desc.static_tree,a=e.stat_desc.has_stree,h=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=X,i=0;h>i;i++)0!==o[2*i]?(t.heap[++t.heap_len]=u=i,t.depth[i]=0):o[2*i+1]=0;for(;t.heap_len<2;)n=t.heap[++t.heap_len]=2>u?++u:0,o[2*n]=1,t.depth[n]=0,t.opt_len--,a&&(t.static_len-=s[2*n+1]);for(e.max_code=u,i=t.heap_len>>1;i>=1;i--)_(t,o,i);n=h;do i=t.heap[1],t.heap[1]=t.heap[t.heap_len--],_(t,o,1),r=t.heap[1],t.heap[--t.heap_max]=i,t.heap[--t.heap_max]=r,o[2*n]=o[2*i]+o[2*r],t.depth[n]=(t.depth[i]>=t.depth[r]?t.depth[i]:t.depth[r])+1,o[2*i+1]=o[2*r+1]=n,t.heap[1]=n++,_(t,o,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],p(t,e),d(o,u,t.bl_count)}function x(t,e,i){var r,n,o=-1,s=e[1],a=0,h=7,u=4;for(0===s&&(h=138,u=3),e[2*(i+1)+1]=65535,r=0;i>=r;r++)n=s,s=e[2*(r+1)+1],++a<h&&n===s||(u>a?t.bl_tree[2*n]+=a:0!==n?(n!==o&&t.bl_tree[2*n]++,t.bl_tree[2*K]++):10>=a?t.bl_tree[2*Q]++:t.bl_tree[2*te]++,a=0,o=n,0===s?(h=138,u=3):n===s?(h=6,u=3):(h=7,u=4))}function E(t,e,i){var r,n,o=-1,s=e[1],a=0,l=7,c=4;for(0===s&&(l=138,c=3),r=0;i>=r;r++)if(n=s,s=e[2*(r+1)+1],!(++a<l&&n===s)){if(c>a){do u(t,n,t.bl_tree);while(0!==--a)}else 0!==n?(n!==o&&(u(t,n,t.bl_tree),a--),u(t,K,t.bl_tree),h(t,a-3,2)):10>=a?(u(t,Q,t.bl_tree),h(t,a-3,3)):(u(t,te,t.bl_tree),h(t,a-11,7));a=0,o=n,0===s?(l=138,c=3):n===s?(l=6,c=3):(l=7,c=4)}}function T(t){var e;for(x(t,t.dyn_ltree,t.l_desc.max_code),x(t,t.dyn_dtree,t.d_desc.max_code),$(t,t.bl_desc),e=G-1;e>=3&&0===t.bl_tree[2*ne[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function w(t,e,i,r){var n;for(h(t,e-257,5),h(t,i-1,5),h(t,r-4,4),n=0;r>n;n++)h(t,t.bl_tree[2*ne[n]+1],3);E(t,t.dyn_ltree,e-1),E(t,t.dyn_dtree,i-1)}function S(t){var e,i=4093624447;for(e=0;31>=e;e++,i>>>=1)if(1&i&&0!==t.dyn_ltree[2*e])return L;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return A;for(e=32;H>e;e++)if(0!==t.dyn_ltree[2*e])return A;return L}function C(t){ge||(f(),ge=!0),t.l_desc=new o(t.dyn_ltree,pe),t.d_desc=new o(t.dyn_dtree,de),t.bl_desc=new o(t.bl_tree,fe),t.bi_buf=0,t.bi_valid=0,g(t)}function P(t,e,i,r){h(t,(B<<1)+(r?1:0),3),y(t,e,i,!0)}function k(t){h(t,M<<1,3),u(t,J,se),c(t)}function O(t,e,i,r){var n,o,s=0;t.level>0?(t.strm.data_type===N&&(t.strm.data_type=S(t)),$(t,t.l_desc),$(t,t.d_desc),s=T(t),n=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,n>=o&&(n=o)):n=o=i+5,n>=i+4&&-1!==e?P(t,e,i,r):t.strategy===R||o===n?(h(t,(M<<1)+(r?1:0),3),b(t,se,ae)):(h(t,(F<<1)+(r?1:0),3),w(t,t.l_desc.max_code+1,t.d_desc.max_code+1,s+1),b(t,t.dyn_ltree,t.dyn_dtree)),g(t),r&&v(t)}function I(t,e,i){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&i,t.last_lit++,0===e?t.dyn_ltree[2*i]++:(t.matches++,e--,t.dyn_ltree[2*(ue[i]+H+1)]++,t.dyn_dtree[2*s(e)]++),t.last_lit===t.lit_bufsize-1}var D=t("../utils/common"),R=4,L=0,A=1,N=2,B=0,M=1,F=2,z=3,j=258,U=29,H=256,W=H+1+U,V=30,G=19,X=2*W+1,Y=15,Z=16,q=7,J=256,K=16,Q=17,te=18,ee=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ie=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=512,se=new Array(2*(W+2));r(se);var ae=new Array(2*V);r(ae);var he=new Array(oe);r(he);var ue=new Array(j-z+1);r(ue);var le=new Array(U);r(le);var ce=new Array(V);r(ce);var pe,de,fe,ge=!1;i._tr_init=C,i._tr_stored_block=P,i._tr_flush_block=O,i._tr_tally=I,i._tr_align=k},{"../utils/common":62}],74:[function(t,e,i){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}e.exports=r},{}]},{},[10])(10)});var saveAs=saveAs||function(t){"use strict";if(!("undefined"==typeof t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=t.document,i=function(){return t.URL||t.webkitURL||t},r=e.createElement("http://www.w3.org/1999/xhtml","a"),n="download"in r,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},s=/constructor/i.test(t.HTMLElement)||t.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),h=t.setImmediate||t.setTimeout,u=function(t){h(function(){throw t},0)},l="application/octet-stream",c=4e4,p=function(t){var e=function(){"string"==typeof t?i().revokeObjectURL(t):t.remove()};setTimeout(e,c)},d=function(t,e,i){e=[].concat(e);for(var r=e.length;r--;){var n=t["on"+e[r]];if("function"==typeof n)try{n.call(t,i||t)}catch(o){u(o)}}},f=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},g=function(e,u,c){c||(e=f(e));var g,v=this,y=e.type,m=y===l,_=function(){d(v,"writestart progress write writeend".split(" "))},b=function(){if((a||m&&s)&&t.FileReader){var r=new FileReader;return r.onloadend=function(){var e=a?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;"),i=t.open(e,"_blank");i||(t.location.href=e),e=void 0,v.readyState=v.DONE,_()},r.readAsDataURL(e),void(v.readyState=v.INIT)}if(g||(g=i().createObjectURL(e)),m)t.location.href=g;else{var n=t.open(g,"_blank");n||(t.location.href=g)}v.readyState=v.DONE,_(),p(g)};return v.readyState=v.INIT,n?(g=i().createObjectURL(e),void h(function(){r.href=g,r.download=u,o(r),_(),p(g),v.readyState=v.DONE},0)):void b()},v=g.prototype,y=function(t,e,i){return new g(t,e||t.name||"download",i)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,i){return e=e||t.name||"download",i||(t=f(t)),navigator.msSaveOrOpenBlob(t,e)}:(v.abort=function(){},v.readyState=v.INIT=0,v.WRITING=1,v.DONE=2,v.error=v.onwritestart=v.onprogress=v.onwrite=v.onabort=v.onerror=v.onwriteend=null,y)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this),egret=window.egret;window.skins={},window.generateEUI={},generateEUI.paths={},generateEUI.styles=void 0,generateEUI.skins={"eui.Button":"resource/eui_skins/ButtonSkin.exml","eui.CheckBox":"resource/eui_skins/CheckBoxSkin.exml","eui.HScrollBar":"resource/eui_skins/HScrollBarSkin.exml","eui.HSlider":"resource/eui_skins/HSliderSkin.exml","eui.Panel":"resource/eui_skins/PanelSkin.exml","eui.TextInput":"resource/eui_skins/TextInputSkin.exml","eui.ProgressBar":"resource/eui_skins/ProgressBarSkin.exml","eui.RadioButton":"resource/eui_skins/RadioButtonSkin.exml","eui.Scroller":"resource/eui_skins/ScrollerSkin.exml","eui.ToggleSwitch":"resource/eui_skins/ToggleSwitchSkin.exml","eui.VScrollBar":"resource/eui_skins/VScrollBarSkin.exml","eui.VSlider":"resource/eui_skins/VSliderSkin.exml","eui.ItemRenderer":"resource/eui_skins/ItemRendererSkin.exml",SimpleList:"resource/eui_skins/SimpleList.exml",Alert:"resource/skins/plugins/alert/Alert.exml"},generateEUI.paths["resource/eui_skins/ButtonSkin.exml"]=window.skins.ButtonSkin=function(t){function e(){t.call(this),this.skinParts=["labelDisplay","iconDisplay"],this.minHeight=50,this.minWidth=100,this.elementsContent=[this._Image1_i(),this.labelDisplay_i(),this.iconDisplay_i()],this.states=[new eui.State("up",[]),new eui.State("down",[new eui.SetProperty("_Image1","source","button_down_png")]),new eui.State("disabled",[new eui.SetProperty("_Image1","alpha",.5)])]}__extends(e,t);var i=e.prototype;return i._Image1_i=function(){var t=new eui.Image;return this._Image1=t,t.percentHeight=100,t.scale9Grid=new egret.Rectangle(1,3,8,8),t.source="button_up_png",t.percentWidth=100,t},i.labelDisplay_i=function(){var t=new eui.Label;return this.labelDisplay=t,t.bottom=8,t.left=8,t.right=8,t.size=20,t.textAlign="center",t.textColor=16777215,t.top=8,t.verticalAlign="middle",t},i.iconDisplay_i=function(){var t=new eui.Image;return this.iconDisplay=t,t.horizontalCenter=0,t.verticalCenter=0,t},e}(eui.Skin),generateEUI.paths["resource/eui_skins/CheckBoxSkin.exml"]=window.skins.CheckBoxSkin=function(t){function e(){t.call(this),this.skinParts=["labelDisplay"],this.elementsContent=[this._Group1_i()],this.states=[new eui.State("up",[]),new eui.State("down",[new eui.SetProperty("_Image1","alpha",.7)]),new eui.State("disabled",[new eui.SetProperty("_Image1","alpha",.5)]),new eui.State("upAndSelected",[new eui.SetProperty("_Image1","source","checkbox_select_up_png")]),new eui.State("downAndSelected",[new eui.SetProperty("_Image1","source","checkbox_select_down_png")]),new eui.State("disabledAndSelected",[new eui.SetProperty("_Image1","source","checkbox_select_disabled_png")])]}__extends(e,t);var i=e.prototype;return i._Group1_i=function(){var t=new eui.Group;return t.percentHeight=100,t.percentWidth=100,t.layout=this._HorizontalLayout1_i(),t.elementsContent=[this._Image1_i(),this.labelDisplay_i()],t},i._HorizontalLayout1_i=function(){var t=new eui.HorizontalLayout;return t.verticalAlign="middle",t},i._Image1_i=function(){var t=new eui.Image;return this._Image1=t,t.alpha=1,t.fillMode="scale",t.source="checkbox_unselect_png",t},i.labelDisplay_i=function(){var t=new eui.Label;return this.labelDisplay=t,t.fontFamily="Tahoma",t.size=20,t.textAlign="center",t.textColor=7368816,t.verticalAlign="middle",t},e}(eui.Skin),generateEUI.paths["resource/eui_skins/HScrollBarSkin.exml"]=window.skins.HScrollBarSkin=function(t){function e(){t.call(this),this.skinParts=["thumb"],this.minHeight=8,this.minWidth=20,this.elementsContent=[this.thumb_i()]}__extends(e,t);var i=e.prototype;return i.thumb_i=function(){var t=new eui.Image;return this.thumb=t,t.height=8,t.scale9Grid=new egret.Rectangle(3,3,2,2),t.source="roundthumb_png",t.verticalCenter=0,t.width=30,t},e}(eui.Skin),generateEUI.paths["resource/eui_skins/HSliderSkin.exml"]=window.skins.HSliderSkin=function(t){function e(){t.call(this),this.skinParts=["track","thumb"],this.minHeight=8,this.minWidth=20,this.elementsContent=[this.track_i(),this.thumb_i()]}__extends(e,t);var i=e.prototype;return i.track_i=function(){var t=new eui.Image;return this.track=t,t.height=6,t.scale9Grid=new egret.Rectangle(1,1,4,4),t.source="track_sb_png",t.verticalCenter=0,t.percentWidth=100,t},i.thumb_i=function(){var t=new eui.Image;return this.thumb=t,t.source="thumb_png",t.verticalCenter=0,t},e}(eui.Skin),generateEUI.paths["resource/eui_skins/ItemRendererSkin.exml"]=window.skins.ItemRendererSkin=function(t){function e(){t.call(this),this.skinParts=["labelDisplay"],this.minHeight=50,this.minWidth=100,this.elementsContent=[this._Image1_i(),this.labelDisplay_i()],this.states=[new eui.State("up",[]),new eui.State("down",[new eui.SetProperty("_Image1","source","button_down_png")]),new eui.State("disabled",[new eui.SetProperty("_Image1","alpha",.5)])],eui.Binding.$bindProperties(this,["hostComponent.data"],[0],this.labelDisplay,"text")}__extends(e,t);var i=e.prototype;return i._Image1_i=function(){var t=new eui.Image;return this._Image1=t,t.percentHeight=100,t.scale9Grid=new egret.Rectangle(1,3,8,8),t.source="button_up_png",t.percentWidth=100,t},i.labelDisplay_i=function(){var t=new eui.Label;return this.labelDisplay=t,t.bottom=8,t.fontFamily="Tahoma",t.left=8,t.right=8,t.size=20,t.textAlign="center",t.textColor=16777215,t.top=8,t.verticalAlign="middle",t},e}(eui.Skin),generateEUI.paths["resource/eui_skins/PanelSkin.exml"]=window.skins.PanelSkin=function(t){function e(){t.call(this),this.skinParts=["titleDisplay","moveArea","closeButton"],this.minHeight=230,this.minWidth=450,this.elementsContent=[this._Image1_i(),this.moveArea_i(),this.closeButton_i()]}__extends(e,t);var i=e.prototype;return i._Image1_i=function(){var t=new eui.Image;return t.bottom=0,t.left=0,t.right=0,t.scale9Grid=new egret.Rectangle(2,2,12,12),t.source="border_png",t.top=0,t},i.moveArea_i=function(){var t=new eui.Group;return this.moveArea=t,t.height=45,t.left=0,t.right=0,t.top=0,t.elementsContent=[this._Image2_i(),this.titleDisplay_i()],t},i._Image2_i=function(){var t=new eui.Image;return t.bottom=0,t.left=0,t.right=0,t.source="header_png",t.top=0,t},i.titleDisplay_i=function(){var t=new eui.Label;return this.titleDisplay=t,t.fontFamily="Tahoma",t.left=15,t.right=5,t.size=20,t.textColor=16777215,t.verticalCenter=0,t.wordWrap=!1,t},i.closeButton_i=function(){var t=new eui.Button;return this.closeButton=t,t.bottom=5,t.horizontalCenter=0,t.label="close",t},e}(eui.Skin),generateEUI.paths["resource/eui_skins/ProgressBarSkin.exml"]=window.skins.ProgressBarSkin=function(t){function e(){t.call(this),this.skinParts=["thumb","labelDisplay"],this.minHeight=18,this.minWidth=30,this.elementsContent=[this._Image1_i(),this.thumb_i(),this.labelDisplay_i()]}__extends(e,t);var i=e.prototype;return i._Image1_i=function(){var t=new eui.Image;return t.percentHeight=100,t.scale9Grid=new egret.Rectangle(1,1,4,4),t.source="track_pb_png",t.verticalCenter=0,t.percentWidth=100,t},i.thumb_i=function(){var t=new eui.Image;return this.thumb=t,t.percentHeight=100,t.source="thumb_pb_png",t.percentWidth=100,t},i.labelDisplay_i=function(){var t=new eui.Label;return this.labelDisplay=t,t.fontFamily="Tahoma",t.horizontalCenter=0,t.size=15,t.textAlign="center",t.textColor=7368816,t.verticalAlign="middle",t.verticalCenter=0,t},e}(eui.Skin),generateEUI.paths["resource/eui_skins/RadioButtonSkin.exml"]=window.skins.RadioButtonSkin=function(t){function e(){t.call(this),this.skinParts=["labelDisplay"],this.elementsContent=[this._Group1_i()],this.states=[new eui.State("up",[]),new eui.State("down",[new eui.SetProperty("_Image1","alpha",.7)]),new eui.State("disabled",[new eui.SetProperty("_Image1","alpha",.5)]),new eui.State("upAndSelected",[new eui.SetProperty("_Image1","source","radiobutton_select_up_png")]),new eui.State("downAndSelected",[new eui.SetProperty("_Image1","source","radiobutton_select_down_png")]),new eui.State("disabledAndSelected",[new eui.SetProperty("_Image1","source","radiobutton_select_disabled_png")])]
}__extends(e,t);var i=e.prototype;return i._Group1_i=function(){var t=new eui.Group;return t.percentHeight=100,t.percentWidth=100,t.layout=this._HorizontalLayout1_i(),t.elementsContent=[this._Image1_i(),this.labelDisplay_i()],t},i._HorizontalLayout1_i=function(){var t=new eui.HorizontalLayout;return t.verticalAlign="middle",t},i._Image1_i=function(){var t=new eui.Image;return this._Image1=t,t.alpha=1,t.fillMode="scale",t.source="radiobutton_unselect_png",t},i.labelDisplay_i=function(){var t=new eui.Label;return this.labelDisplay=t,t.fontFamily="Tahoma",t.size=20,t.textAlign="center",t.textColor=7368816,t.verticalAlign="middle",t},e}(eui.Skin),generateEUI.paths["resource/eui_skins/ScrollerSkin.exml"]=window.skins.ScrollerSkin=function(t){function e(){t.call(this),this.skinParts=["horizontalScrollBar","verticalScrollBar"],this.minHeight=20,this.minWidth=20,this.elementsContent=[this.horizontalScrollBar_i(),this.verticalScrollBar_i()]}__extends(e,t);var i=e.prototype;return i.horizontalScrollBar_i=function(){var t=new eui.HScrollBar;return this.horizontalScrollBar=t,t.bottom=0,t.percentWidth=100,t},i.verticalScrollBar_i=function(){var t=new eui.VScrollBar;return this.verticalScrollBar=t,t.percentHeight=100,t.right=0,t},e}(eui.Skin),generateEUI.paths["resource/eui_skins/SimpleList.exml"]=window.SimpleListSkin=function(t){function e(){t.call(this),this.skinParts=["horizontalScrollBar","verticalScrollBar","dataList"],this.minHeight=20,this.minWidth=20,this.elementsContent=[this.horizontalScrollBar_i(),this.verticalScrollBar_i(),this.dataList_i()]}__extends(e,t);var i=e.prototype;return i.horizontalScrollBar_i=function(){var t=new eui.HScrollBar;return this.horizontalScrollBar=t,t.bottom=0,t.percentWidth=100,t},i.verticalScrollBar_i=function(){var t=new eui.VScrollBar;return this.verticalScrollBar=t,t.percentHeight=100,t.right=0,t},i.dataList_i=function(){var t=new eui.List;return this.dataList=t,t.height=200,t.width=200,t},e}(eui.Skin),generateEUI.paths["resource/eui_skins/TextInputSkin.exml"]=window.skins.TextInputSkin=function(t){function e(){t.call(this),this.skinParts=["textDisplay","promptDisplay"],this.minHeight=40,this.minWidth=300,this.elementsContent=[this._Image1_i(),this._Rect1_i(),this.textDisplay_i()],this.promptDisplay_i(),this.states=[new eui.State("normal",[]),new eui.State("disabled",[new eui.SetProperty("textDisplay","textColor",16711680)]),new eui.State("normalWithPrompt",[new eui.AddItems("promptDisplay","",1,"")]),new eui.State("disabledWithPrompt",[new eui.AddItems("promptDisplay","",1,"")])]}__extends(e,t);var i=e.prototype;return i._Image1_i=function(){var t=new eui.Image;return t.percentHeight=100,t.scale9Grid=new egret.Rectangle(1,3,8,8),t.source="button_up_png",t.percentWidth=100,t},i._Rect1_i=function(){var t=new eui.Rect;return t.fillColor=16777215,t.percentHeight=100,t.percentWidth=100,t},i.textDisplay_i=function(){var t=new eui.EditableText;return this.textDisplay=t,t.height=24,t.left="10",t.right="10",t.size=20,t.textColor=0,t.verticalCenter="0",t.percentWidth=100,t},i.promptDisplay_i=function(){var t=new eui.Label;return this.promptDisplay=t,t.height=24,t.left=10,t.right=10,t.size=20,t.textColor=11119017,t.touchEnabled=!1,t.verticalCenter=0,t.percentWidth=100,t},e}(eui.Skin),generateEUI.paths["resource/eui_skins/ToggleSwitchSkin.exml"]=window.skins.ToggleSwitchSkin=function(t){function e(){t.call(this),this.skinParts=[],this.elementsContent=[this._Image1_i(),this._Image2_i()],this.states=[new eui.State("up",[new eui.SetProperty("_Image1","source","off_png")]),new eui.State("down",[new eui.SetProperty("_Image1","source","off_png")]),new eui.State("disabled",[new eui.SetProperty("_Image1","source","off_png")]),new eui.State("upAndSelected",[new eui.SetProperty("_Image2","horizontalCenter",18)]),new eui.State("downAndSelected",[new eui.SetProperty("_Image2","horizontalCenter",18)]),new eui.State("disabledAndSelected",[new eui.SetProperty("_Image2","horizontalCenter",18)])]}__extends(e,t);var i=e.prototype;return i._Image1_i=function(){var t=new eui.Image;return this._Image1=t,t.source="on_png",t},i._Image2_i=function(){var t=new eui.Image;return this._Image2=t,t.horizontalCenter=-18,t.source="handle_png",t.verticalCenter=0,t},e}(eui.Skin),generateEUI.paths["resource/eui_skins/VScrollBarSkin.exml"]=window.skins.VScrollBarSkin=function(t){function e(){t.call(this),this.skinParts=["thumb"],this.minHeight=20,this.minWidth=8,this.elementsContent=[this.thumb_i()]}__extends(e,t);var i=e.prototype;return i.thumb_i=function(){var t=new eui.Image;return this.thumb=t,t.height=30,t.horizontalCenter=0,t.scale9Grid=new egret.Rectangle(3,3,2,2),t.source="roundthumb_png",t.width=8,t},e}(eui.Skin),generateEUI.paths["resource/eui_skins/VSliderSkin.exml"]=window.skins.VSliderSkin=function(t){function e(){t.call(this),this.skinParts=["track","thumb"],this.minHeight=30,this.minWidth=25,this.elementsContent=[this.track_i(),this.thumb_i()]}__extends(e,t);var i=e.prototype;return i.track_i=function(){var t=new eui.Image;return this.track=t,t.percentHeight=100,t.horizontalCenter=0,t.scale9Grid=new egret.Rectangle(1,1,4,4),t.source="track_png",t.width=7,t},i.thumb_i=function(){var t=new eui.Image;return this.thumb=t,t.horizontalCenter=0,t.source="thumb_png",t},e}(eui.Skin),generateEUI.paths["resource/skins/plugins/alert/Alert.exml"]=window.AlertSkin=function(t){function e(){t.call(this),this.skinParts=[]}__extends(e,t);e.prototype;return e}(eui.Skin);